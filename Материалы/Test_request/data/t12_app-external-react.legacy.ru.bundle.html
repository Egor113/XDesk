if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.2154");}window.YandexZen=window.YandexZen||{},window.YandexZen.app=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=181)}([function(e,t){e.exports=window.React},function(e,t,n){var r=n(17);r(r.S+r.F,"Object",{assign:n(192)})},,function(e,t,n){"use strict";function r(e,t){return e===t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),u=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),l=i(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return u.apply(null,e)});return l.resultFunc=s,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var a=t.createSelector=o(i)},function(e,t,n){"use strict";var r=n(127),i={};i[n(14)("toStringTag")]="z",i+""!="[object z]"&&n(25)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){"use strict";var r=n(58),i=n(128),o=n(56),a=n(37);e.exports=n(88)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";n(97)("link",function(e){return function(t){return e(this,"a","href",t)}})},,function(e,t,n){var r=n(39),i=n(36);n(206)("keys",function(){return function(e){return i(r(e))}})},,function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var i=n&&!0===n.clone;return i&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,i,o){var a=n.slice();return i.forEach(function(i,s){void 0===a[s]?a[s]=t(i,o):e(i)?a[s]=r(n[s],i,o):-1===n.indexOf(i)&&a.push(t(i,o))}),a}function r(i,o,a){var s=Array.isArray(o),c=a||{arrayMerge:n},u=c.arrayMerge||n;return s?Array.isArray(i)?u(i,o,a):t(o,a):function(n,i,o){var a={};return e(n)&&Object.keys(n).forEach(function(e){a[e]=t(n[e],o)}),Object.keys(i).forEach(function(s){e(i[s])&&n[s]?a[s]=r(n[s],i[s],o):a[s]=t(i[s],o)}),a}(i,o,a)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),i=n(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),o=i.svg,a=i.xlink,s={};s[o.name]=o.uri,s[a.name]=a.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(r(s,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})}).call(this,n(59))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var n=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var i=n&&!0===n.clone;return i&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,i,o){var a=n.slice();return i.forEach(function(i,s){void 0===a[s]?a[s]=t(i,o):e(i)?a[s]=r(n[s],i,o):-1===n.indexOf(i)&&a.push(t(i,o))}),a}function r(i,o,a){var s=Array.isArray(o),c=a||{arrayMerge:n},u=c.arrayMerge||n;return s?Array.isArray(i)?u(i,o,a):t(o,a):function(n,i,o){var a={};return e(n)&&Object.keys(n).forEach(function(e){a[e]=t(n[e],o)}),Object.keys(i).forEach(function(s){e(i[s])&&n[s]?a[s]=r(n[s],i[s],o):a[s]=t(i[s],o)}),a}(i,o,a)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var r=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),i=r.svg,o=r.xlink,a={};a[i.name]=i.uri,a[o.name]=o.uri;var s,c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(a,t||{}))+">"+e+"</svg>"},u=r.svg,l=r.xlink,d={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; ")},s[u.name]=u.uri,s[l.name]=l.uri,s)},p=function(e){this.config=n(d,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return c(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var f=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};f.prototype.stringify=function(){return this.content},f.prototype.toString=function(){return this.stringify()},f.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},h=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(f),v={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},g=function(e){return Array.prototype.slice.call(e,0)},b=navigator.userAgent,_={isChrome:/chrome/i.test(b),isFirefox:/firefox/i.test(b),isIE:/msie/i.test(b)||/trident/i.test(b),isEdge:/edge/i.test(b)},y=function(e){var t=[];return g(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},E=function(e){return(e||window.location.href).split("#")[0]},k=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},C=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),g(e.querySelectorAll("symbol")).forEach(function(e){g(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var w=r.xlink.uri,S="xlink:href",x=/[{}|\\\^\[\]`"<>]/g;function O(e){return e.replace(x,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var R,I=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],T=I.map(function(e){return"["+e+"]"}).join(","),N=function(e,t,n,r){var i=O(n),o=O(r);(function(e,t){return g(e).reduce(function(e,n){if(!n.attributes)return e;var r=g(n.attributes),i=t?r.filter(t):r;return e.concat(i)},[])})(e.querySelectorAll(T),function(e){var t=e.localName,n=e.value;return-1!==I.indexOf(t)&&-1!==n.indexOf("url("+i)}).forEach(function(e){return e.value=e.value.replace(i,o)}),function(e,t,n){g(e).forEach(function(e){var r=e.getAttribute(S);if(r&&0===r.indexOf(t)){var i=r.replace(t,n);e.setAttributeNS(w,S,i)}})}(t,i,o)},A={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},P=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(v,t));var i=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=i,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(t),o.syncUrlsWithBaseTag){var a=document.getElementsByTagName("base")[0].getAttribute("href");i.on(A.MOUNT,function(){return r.updateUrls("#",a)})}var s=this._handleLocationChange.bind(this);this._handleLocationChange=s,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,s),o.locationChangeAngularEmitter&&k(o.locationChangeEvent),i.on(A.MOUNT,function(e){o.moveGradientsOutsideSymbol&&C(e)}),i.on(A.SYMBOL_MOUNT,function(e){o.moveGradientsOutsideSymbol&&C(e.parentNode),(_.isIE||_.isEdge)&&y(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=_.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(A.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(A.SYMBOL_MOUNT,e.node)}),g(r.querySelectorAll("symbol")).forEach(function(e){var t=h.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(A.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(A.MOUNT,r),r},t.prototype.render=function(){return m(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return N(this.node,n,E(e)+"#",E(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(p),L=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?R=window.__SVG_SPRITE__:(R=new P({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=R);var M=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?R.attach(e):R.mount(document.body,!0)};return document.body?M():L(M),R})}).call(this,n(59))},function(e,t,n){"use strict";var r=n(17),i=n(118)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)("includes")},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=y;var d="suspendedStart",p="suspendedYield",f="executing",m="completed",h={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(N([])));b&&b!==r&&i.call(b,a)&&(v=b);var _=w.prototype=k.prototype=Object.create(v);C.prototype=_.constructor=w,w.constructor=C,w[c]=C.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(e,t,n,r){var i=new x(y(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(_),_[c]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function y(e,t,n,r){var i=t&&t.prototype instanceof k?t:k,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===m){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=E(e,t,n);if("normal"===c.type){if(r=n.done?m:p,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function C(){}function w(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=E(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){c.value=e,o(c)},a)}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=E(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function N(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){var r=n(86)("wks"),i=n(54),o=n(23).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";var r=n(17),i=n(202);r(r.P+r.F*n(203)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(21).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(22)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){var r=n(23),i=n(41),o=n(31),a=n(25),s=n(42),c=function(e,t,n){var u,l,d,p,f=e&c.F,m=e&c.G,h=e&c.S,v=e&c.P,g=e&c.B,b=m?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,_=m?i:i[t]||(i[t]={}),y=_.prototype||(_.prototype={});for(u in m&&(n=t),n)d=((l=!f&&b&&void 0!==b[u])?b:n)[u],p=g&&l?s(d,r):v&&"function"==typeof d?s(Function.call,d):d,b&&a(b,u,d,e&c.U),_[u]!=d&&o(_,u,p),v&&y[u]!=d&&(y[u]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){n(73)("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){var r=n(28),i=n(115),o=n(66),a=Object.defineProperty;t.f=n(22)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(23),i=n(31),o=n(30),a=n(54)("src"),s=Function.toString,c=(""+s).split("toString");n(41).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){"use strict";var r=n(191)(!0);n(88)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},,function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(c=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(21),i=n(55);e.exports=n(22)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){n(73)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";n(210);var r=n(28),i=n(96),o=n(22),a=/./.toString,s=function(e){n(25)(RegExp.prototype,"toString",e,!0)};n(19)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";e.exports=n(270)},function(e,t,n){var r=n(117),i=n(87);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(83),i=n(38);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(38);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports=n(193)()},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(121);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";n.r(t);var r=n(46);n.d(t,"createStore",function(){return r.b});var i=n(136);n.d(t,"combineReducers",function(){return i.a});var o=n(135);n.d(t,"bindActionCreators",function(){return o.a});var a=n(138);n.d(t,"applyMiddleware",function(){return a.a});var s=n(76);n.d(t,"compose",function(){return s.a});n(137)},function(e,t,n){n(73)("split",2,function(e,t,r){"use strict";var i=n(95),o=r,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,c,u,l,d,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,f+"g");for(s||(r=new RegExp("^"+v.source+"$(?!\\s)",f));(c=v.exec(n))&&!((u=c.index+c[0].length)>m&&(p.push(n.slice(m,c.index)),!s&&c.length>1&&c[0].replace(r,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(c[d]=void 0)}),c.length>1&&c.index<n.length&&a.apply(p,c.slice(1)),l=c[0].length,m=u,p.length>=h));)v.lastIndex===c.index&&v.lastIndex++;return m===n.length?!l&&v.test("")||p.push(""):p.push(n.slice(m)),p.length>h?p.slice(0,h):p}}else"0".split(void 0,0).length&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){e.exports=n(212)()},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n(77),i=n(102),o=n.n(i),a={INIT:"@@redux/INIT"};function s(e,t,n){var i;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,u=t,l=[],d=l,p=!1;function f(){d===l&&(d=l.slice())}function m(){return u}function h(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return f(),d.push(e),function(){if(t){t=!1,f();var n=d.indexOf(e);d.splice(n,1)}}}function v(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,u=c(u,e)}finally{p=!1}for(var t=l=d,n=0;n<t.length;n++)t[n]();return e}return v({type:a.INIT}),(i={dispatch:v,subscribe:h,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,v({type:a.INIT})}})[o.a]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[o.a]=function(){return this},e},i}},function(e,t,n){var r,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var u in o)o[u]&&(c+="; "+u,!0!==o[u]&&(c+="="+o[u]));return document.cookie=t+"="+i+c}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<l.length;p++){var f=l[p].split("="),m=f.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=f[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,h):n(m,h)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===h){a=m;break}t||(a[h]=m)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e){e.exports={d:20,c:396}},,,function(e,t,n){"use strict";var r=n(114),i=n(90);e.exports=n(130)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(84),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(14)("unscopables"),i=Array.prototype;null==i[r]&&n(31)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){},function(e,t,n){"use strict";var r=n(195),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var i=f(n);i&&i!==m&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),h=c(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||h&&h[g]||s&&s[g])){var b=p(n,g);try{u(t,g,b)}catch(e){}}}return t}return t}},function(e,t,n){var r;!function(t){"use strict";var i=function(){},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){this.reads=[],this.writes=[],this.raf=o.bind(t),i("initialized",this)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){i("flush");var t,n=e.writes,r=e.reads;try{i("flushing reads",r.length),c(r),i("flushing writes",n.length),c(n)}catch(e){t=e}e.scheduled=!1,(r.length||n.length)&&s(e);if(t){if(i("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)),i("flush scheduled"))}function c(e){var t;for(i("run tasks");t=e.shift();)t()}function u(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,measure:function(e,t){i("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){i("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return i("clear",e),u(this.reads,e)||u(this.writes,e)},extend:function(e){if(i("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var l=t.fastdom=t.fastdom||new a;"f"=="function"[0]?void 0===(r=function(){return l}.call(l,n,l,e))||(e.exports=r):"o"==(typeof e)[0]&&(e.exports=l)}("undefined"!=typeof window?window:this)},,,,function(e,t,n){var r=n(24);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(28),i=n(183),o=n(87),a=n(85)("IE_PROTO"),s=function(){},c=function(){var e,t=n(116)("iframe"),r=o.length;for(t.style.display="none",n(184).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t){e.exports=!1},function(e,t,n){var r=n(21).f,i=n(30),o=n(14)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(23),i=n(30),o=n(22),a=n(17),s=n(25),c=n(89).KEY,u=n(19),l=n(86),d=n(69),p=n(54),f=n(14),m=n(132),h=n(133),v=n(188),g=n(134),b=n(28),_=n(24),y=n(37),E=n(66),k=n(55),C=n(67),w=n(189),S=n(92),x=n(21),O=n(36),R=S.f,I=x.f,T=w.f,N=r.Symbol,A=r.JSON,P=A&&A.stringify,L=f("_hidden"),M=f("toPrimitive"),D={}.propertyIsEnumerable,B=l("symbol-registry"),j=l("symbols"),F=l("op-symbols"),U=Object.prototype,z="function"==typeof N,V=r.QObject,H=!V||!V.prototype||!V.prototype.findChild,W=o&&u(function(){return 7!=C(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(U,t);r&&delete U[t],I(e,t,n),r&&e!==U&&I(U,t,r)}:I,G=function(e){var t=j[e]=C(N.prototype);return t._k=e,t},q=z&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},K=function(e,t,n){return e===U&&K(F,t,n),b(e),t=E(t,!0),b(n),i(j,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=C(n,{enumerable:k(0,!1)})):(i(e,L)||I(e,L,k(1,{})),e[L][t]=!0),W(e,t,n)):I(e,t,n)},Y=function(e,t){b(e);for(var n,r=v(t=y(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=E(e,!0));return!(this===U&&i(j,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=y(e),t=E(t,!0),e!==U||!i(j,t)||i(F,t)){var n=R(e,t);return!n||!i(j,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=T(y(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==L||t==c||r.push(t);return r},J=function(e){for(var t,n=e===U,r=T(n?F:y(e)),o=[],a=0;r.length>a;)!i(j,t=r[a++])||n&&!i(U,t)||o.push(j[t]);return o};z||(s((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(F,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),W(this,e,k(1,n))};return o&&H&&W(U,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",function(){return this._k}),S.f=Z,x.f=K,n(71).f=w.f=$,n(57).f=Q,n(94).f=J,o&&!n(68)&&s(U,"propertyIsEnumerable",Q,!0),m.f=function(e){return G(f(e))}),a(a.G+a.W+a.F*!z,{Symbol:N});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;X.length>ee;)f(X[ee++]);for(var te=O(f.store),ne=0;te.length>ne;)h(te[ne++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=N(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?C(e):Y(C(e),t)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:J}),A&&a(a.S+a.F*(!z||u(function(){var e=N();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,P.apply(A,r)}}),N.prototype[M]||n(31)(N.prototype,M,N.prototype.valueOf),d(N,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(117),i=n(87).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(17),i=n(139)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)("find")},function(e,t,n){"use strict";var r=n(31),i=n(25),o=n(19),a=n(38),s=n(14);e.exports=function(e,t,n){var c=s(e),u=n(a,c,""[e]),l=u[0],d=u[1];o(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),r(RegExp.prototype,c,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){"use strict";var r=n(23),i=n(30),o=n(52),a=n(91),s=n(66),c=n(19),u=n(71).f,l=n(92).f,d=n(21).f,p=n(208).trim,f=r.Number,m=f,h=f.prototype,v="Number"==o(n(67)(h)),g="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():p(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>i)return NaN;return parseInt(c,r)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(v?c(function(){h.valueOf.call(n)}):"Number"!=o(n))?a(new m(b(t)),n,f):b(t)};for(var _,y=n(22)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;y.length>E;E++)i(m,_=y[E])&&!i(f,_)&&d(f,_,l(m,_));f.prototype=h,h.constructor=f,n(25)(r,"Number",f)}},function(e,t,n){n(73)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(151),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=o?o.toStringTag:void 0;var l=function(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=c.call(e);return r&&(t?e[u]=n:delete e[u]),i},d=Object.prototype.toString;var p=function(e){return d.call(e)},f="[object Null]",m="[object Undefined]",h=o?o.toStringTag:void 0;var v=function(e){return null==e?void 0===e?m:f:h&&h in Object(e)?l(e):p(e)};var g=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},_="[object Object]",y=Function.prototype,E=Object.prototype,k=y.toString,C=E.hasOwnProperty,w=k.call(Object);t.a=function(e){if(!b(e)||v(e)!=_)return!1;var t=g(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==w}},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function r(){var e=o;i(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,r),t(e.c,r),i(e)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,c=null,u=null,l=null;function d(){return null===l&&(l=!!document.fonts),l}function p(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}function f(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var i=this,a=e||"BESbswy",u=0,l=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var m=new Promise(function(e,t){!function n(){(new Date).getTime()-p>=l?t():document.fonts.load(f(i,'"'+i.family+'"'),a).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),h=new Promise(function(e,t){u=setTimeout(t,l)});Promise.race([h,m]).then(function(){clearTimeout(u),e(i)},function(){t(i)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=v&&-1!=g||-1!=v&&-1!=b||-1!=g&&-1!=b)&&((t=v!=g&&v!=b&&g!=b)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(v==_&&g==_&&b==_||v==y&&g==y&&b==y||v==E&&g==E&&b==E)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(u),e(i))}var d=new n(a),m=new n(a),h=new n(a),v=-1,g=-1,b=-1,_=-1,y=-1,E=-1,k=document.createElement("div");k.dir="ltr",r(d,f(i,"sans-serif")),r(m,f(i,"serif")),r(h,f(i,"monospace")),k.appendChild(d.a),k.appendChild(m.a),k.appendChild(h.a),document.body.appendChild(k),_=d.a.offsetWidth,y=m.a.offsetWidth,E=h.a.offsetWidth,function e(){if((new Date).getTime()-p>=l)k.parentNode&&k.parentNode.removeChild(k),t(i);else{var n=document.hidden;!0!==n&&void 0!==n||(v=d.a.offsetWidth,g=m.a.offsetWidth,b=h.a.offsetWidth,c()),u=setTimeout(e,50)}}(),o(d,function(e){v=e,c()}),r(d,f(i,'"'+i.family+'",sans-serif')),o(m,function(e){g=e,c()}),r(m,f(i,'"'+i.family+'",serif')),o(h,function(e){b=e,c()}),r(h,f(i,'"'+i.family+'",monospace'))})})},e.exports=a}()},,,,,function(e,t,n){var r=n(52);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(86)("keys"),i=n(54);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(41),i=n(23),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(68)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(68),i=n(17),o=n(25),a=n(31),s=n(56),c=n(185),u=n(69),l=n(186),d=n(14)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,m,h,v,g){c(n,t,m);var b,_,y,E=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",C="values"==h,w=!1,S=e.prototype,x=S[d]||S["@@iterator"]||h&&S[h],O=x||E(h),R=h?C?E("entries"):O:void 0,I="Array"==t&&S.entries||x;if(I&&(y=l(I.call(new e)))!==Object.prototype&&y.next&&(u(y,k,!0),r||"function"==typeof y[d]||a(y,d,f)),C&&x&&"values"!==x.name&&(w=!0,O=function(){return x.call(this)}),r&&!g||!p&&!w&&S[d]||a(S,d,O),s[t]=O,s[k]=f,h)if(b={values:C?O:E("values"),keys:v?O:E("keys"),entries:R},g)for(_ in b)_ in S||o(S,_,b[_]);else i(i.P+i.F*(p||w),t,b);return b}},function(e,t,n){var r=n(54)("meta"),i=n(24),o=n(30),a=n(21).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(19)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&d.NEED&&c(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var r=n(24);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(24),i=n(187).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(57),i=n(55),o=n(37),a=n(66),s=n(30),c=n(115),u=Object.getOwnPropertyDescriptor;t.f=n(22)?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(114),i=n(90);e.exports=n(130)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(24),i=n(52),o=n(14)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(28);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(17),i=n(19),o=n(38),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){var r=n(17),i=n(144)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){n(133)("asyncIterator")},function(e,t,n){for(var r=n(5),i=n(36),o=n(25),a=n(23),s=n(31),c=n(56),u=n(14),l=u("iterator"),d=u("toStringTag"),p=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(f),h=0;h<m.length;h++){var v,g=m[h],b=f[g],_=a[g],y=_&&_.prototype;if(y&&(y[l]||s(y,l,p),y[d]||s(y,d,g),c[g]=p,b))for(v in r)y[v]||o(y,v,r[v],!0)}},function(e,t,n){"use strict";e.exports=n(197)},function(e,t,n){e.exports=n(199)},function(e,t,n){var r=n(220);e.exports=m,e.exports.parse=o,e.exports.compile=function(e,t){return c(o(e,t))},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],p=n[1],f=n.index;if(s+=e.slice(a,f),a=f+d.length,p)s+=p[1];else{var m=e[a],h=n[2],v=n[3],g=n[4],b=n[5],_=n[6],y=n[7];s&&(r.push(s),s="");var E=null!=h&&null!=m&&m!==h,k="+"===_||"*"===_,C="?"===_||"*"===_,w=n[2]||c,S=g||b;r.push({name:v||o++,prefix:h||"",delimiter:w,optional:C,repeat:k,partial:E,asterisk:!!y,pattern:S?l(S):y?".*":"[^"+u(w)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",c=n||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!=typeof d){var p,f=c[d.name];if(null==f){if(d.optional){d.partial&&(o+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(r(f)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<f.length;m++){if(p=u(f[m]),!t[l].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===m?d.prefix:d.delimiter)+p}}else{if(p=d.asterisk?s(f):u(f),!t[l].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');o+=d.prefix+p}}else o+=d}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var l=u(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+l+f+")*"),a+=f=c.optional?c.partial?l+"("+f+")?":"(?:"+l+"("+f+"))?":l+"("+f+")"}}var m=u(n.delimiter||"/"),h=a.slice(-m.length)===m;return i||(a=(h?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),a+=o?"$":i&&h?"":"(?="+m+"|$)",d(new RegExp("^"+a,p(n)),t)}function m(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(m(e[i],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),o=Array.isArray(n);if(i&&o){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=o)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var s=t instanceof Date,c=n instanceof Date;if(s&&c)return t.getTime()==n.getTime();if(s!=c)return!1;var u=t instanceof RegExp,l=n instanceof RegExp;if(u&&l)return t.toString()==n.toString();if(u!=l)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}},function(e){e.exports={header:{height:166},feed:{marginBetweenRows:8},zenOne:{header:{height:74}}}},function(e){e.exports={a:14}},function(e){e.exports={b:24,a:23}},function(e,t){t.NAMESPACE="YandexZen",t.ASYNC_CALLBACKS_NAMESPACE="yandexZenAsyncCallbacks",t.ASYNC_RENDER_CALLBACKS_NAMESPACE="yandexZenAsyncWidgetRenderCallbacks",t.DEFAULT_CACHE_STORE="default-zen-store"},function(e){e.exports={a:14}},,,,,function(e,t,n){"use strict";var r=n(21).f,i=n(67),o=n(120),a=n(42),s=n(122),c=n(123),u=n(88),l=n(128),d=n(129),p=n(22),f=n(89).fastKey,m=n(90),h=p?"_s":"size",v=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[h]=0,null!=r&&c(r,n,e[u],e)});return o(l.prototype,{clear:function(){for(var e=m(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var n=m(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[h]--}return!!r},forEach:function(e){m(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(m(this,t),e)}}),p&&r(l.prototype,"size",{get:function(){return m(this,t)[h]}}),l},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[h]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=m(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){e.exports=!n(22)&&!n(19)(function(){return 7!=Object.defineProperty(n(116)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(24),i=n(23).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(30),i=n(37),o=n(118)(!1),a=n(85)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(37),i=n(53),o=n(119);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),l=o(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(84),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(25);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(42),i=n(124),o=n(125),a=n(28),s=n(53),c=n(126),u={},l={};(t=e.exports=function(e,t,n,d,p){var f,m,h,v,g=p?function(){return e}:c(e),b=r(n,d,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(f=s(e.length);f>_;_++)if((v=t?b(a(m=e[_])[0],m[1]):b(e[_]))===u||v===l)return v}else for(h=g.call(e);!(m=h.next()).done;)if((v=i(h,b,m.value,t))===u||v===l)return v}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(28);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(56),i=n(14)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(127),i=n(14)("iterator"),o=n(56);e.exports=n(41).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(52),i=n(14)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(23),i=n(21),o=n(22),a=n(14)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(23),i=n(17),o=n(25),a=n(120),s=n(89),c=n(123),u=n(122),l=n(24),d=n(19),p=n(131),f=n(69),m=n(91);e.exports=function(e,t,n,h,v,g){var b=r[e],_=b,y=v?"set":"add",E=_&&_.prototype,k={},C=function(e){var t=E[e];o(E,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(g||E.forEach&&!d(function(){(new _).entries().next()}))){var w=new _,S=w[y](g?{}:-0,1)!=w,x=d(function(){w.has(1)}),O=p(function(e){new _(e)}),R=!g&&d(function(){for(var e=new _,t=5;t--;)e[y](t,t);return!e.has(-0)});O||((_=t(function(t,n){u(t,_,e);var r=m(new b,t,_);return null!=n&&c(n,v,r[y],r),r})).prototype=E,E.constructor=_),(x||R)&&(C("delete"),C("has"),v&&C("get")),(R||S)&&C(y),g&&E.clear&&delete E.clear}else _=h.getConstructor(t,e,v,y),a(_.prototype,n),s.NEED=!0;return f(_,e),k[e]=_,i(i.G+i.W+i.F*(_!=b),k),g||h.setStrong(_,e,v),_}},function(e,t,n){var r=n(14)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){t.f=n(14)},function(e,t,n){var r=n(23),i=n(41),o=n(68),a=n(132),s=n(21).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(52);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"==typeof s&&(i[a]=r(s,t))}return i}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(46);n(77),n(137);function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];0,"function"==typeof e[a]&&(n[a]=e[a])}var s,c=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.a.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(e){s=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,o={},a=0;a<c.length;a++){var u=c[a],l=n[u],d=e[u],p=l(d,t);if(void 0===p){var f=i(u,t);throw new Error(f)}o[u]=p,r=r||p!==d}return r?o:e}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(76),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,o,a){var s,c=e(n,o,a),u=c.dispatch,l={getState:c.getState,dispatch:function(e){return u(e)}};return s=t.map(function(e){return e(l)}),u=r.a.apply(void 0,s)(c.dispatch),i({},c,{dispatch:u})}}}},function(e,t,n){var r=n(42),i=n(83),o=n(39),a=n(53),s=n(204);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,m){for(var h,v,g=o(t),b=i(g),_=r(s,m,3),y=a(b.length),E=0,k=n?f(t,y):c?f(t,0):void 0;y>E;E++)if((p||E in b)&&(v=_(h=b[E],E,g),e))if(n)k[E]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return E;case 2:k.push(h)}else if(l)return!1;return d?-1:u||l?l:k}}},function(e,t,n){var r=n(17);r(r.S,"Object",{is:n(207)})},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var r=n(17),i=n(139)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(58)(o)},function(e,t,n){var r=n(17);r(r.P,"Array",{fill:n(221)}),n(58)("fill")},function(e,t,n){var r=n(36),i=n(37),o=n(57).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),c=s.length,u=0,l=[];c>u;)o.call(a,n=s[u++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(17),i=n(144)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(17),i=n(121),o=n(39),a=n(19),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n(225)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};i(n(0));var r=i(n(45));function i(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";var r=n(42),i=n(17),o=n(39),a=n(124),s=n(125),c=n(53),u=n(283),l=n(126);i(i.S+i.F*!n(131)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,p=o(e),f="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h,g=0,b=l(p);if(v&&(h=r(h,m>2?arguments[2]:void 0,2)),null==b||f==Array&&s(b))for(n=new f(t=c(p.length));t>g;g++)u(n,g,v?h(p[g],g):p[g]);else for(d=b.call(p),n=new f;!(i=d.next()).done;g++)u(n,g,v?a(d,h,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(59))},function(e,t){e.exports={getPartnerMetrikaCounterIds:function(e){switch((void 0===e?{}:e).partner){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}},commonMetrikaCounterId:51446871,nativeFeedMetrikaCounterId:52453471}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),i=o(n(211));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var i=r();i.withExtraArgument=r,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e){e.exports={"lib-prefix":"zen-ui",colors:{blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff","button-placeholder-color-from":"#f3f1ed","button-placeholder-color-to":"#eceae6","datepicker-calendar-week-day-color":"#757575","datepicker-calendar-day-hover":"#e4e7e7","datepicker-calendar-day-selected":"#ffeba0","datepicker-calendar-day-selected-hover":"#fff5d0"}}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiMyYzMwMzYiLz48cGF0aCBkPSJNMTA5LjIgNDUuOTV2LS43MTRjLTE0Ljg4Mi0uNDc2LTIxLjcyOC0uODQtMjcuMTMyLTYuMTE4Qzc2Ljc5IDMzLjcxNCA3Ni40NCAyNi44NjggNzUuOTUgMTJoLS43MTRjLS40NzYgMTQuODY4LS44NCAyMS43MTQtNi4xMTggMjcuMTE4LTUuNDA0IDUuMjc4LTEyLjI1IDUuNjQyLTI3LjExOCA2LjExOHYuNzE0YzE0Ljg2OC40OSAyMS43MTQuODQgMjcuMTE4IDYuMTE4IDUuMjc4IDUuNDA0IDUuNjQyIDEyLjI1IDYuMTE4IDI3LjEzMmguNzE0Yy40OS0xNC44ODIuODQtMjEuNzI4IDYuMTE4LTI3LjEzMiA1LjQwNC01LjI3OCAxMi4yNS01LjYyOCAyNy4xMzItNi4xMTh6IiBmaWxsPSIjZmZmIi8+PC9zdmc+"},function(e){e.exports={small:{width:"20px",height:"32px",margin:"9px",ratio:1},medium:{width:"26px",height:"42px",margin:"22px",ratio:1.3}}},function(e){e.exports={a:314}},function(e){e.exports={a:{ru:"https://direct.yandex.ru/?partner",tr:"https://direct.yandex.com.tr/?partner"}}},function(e){e.exports={a:"24px"}},function(e){e.exports={small:{width:"23px",height:"32px",margin:"3px",ratio:1},medium:{width:"30px",height:"42px",margin:"9px",ratio:1.3}}},,,,,,,,,,,,,,,,,,,function(e,t,n){n(182),n(341),n(342),e.exports=n(340)},function(e,t){!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},i.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(e,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(e,"resize",this._checkForIntersections,!0),a(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(i){var o=i.element,a=c(o),s=this._rootContainsTarget(o),u=i.entry,l=t&&s&&this._computeTargetAndRootIntersection(o,n),d=i.entry=new r({time:e.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:n,intersectionRect:l});u?t&&s?this._hasCrossedThreshold(u,d)&&this._queuedEntries.push(d):u&&u.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var i=c(n),o=l(n),a=!1;!a;){var u=null,d=1==o.nodeType?e.getComputedStyle(o):{};if("none"==d.display)return;if(o==this.root||o==t?(a=!0,u=r):o!=t.body&&o!=t.documentElement&&"visible"!=d.overflow&&(u=c(o)),u&&!(i=s(u,i)))break;o=l(o)}return i}},i.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},i.prototype._rootIsInDom=function(){return!this.root||u(t,this.root)},i.prototype._rootContainsTarget=function(e){return u(this.root||t,e)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=i,e.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function i(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function o(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function s(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e,t){for(var n=t;n;){if(n==e)return!0;n=l(n)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},function(e,t,n){var r=n(21),i=n(28),o=n(36);e.exports=n(22)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(23).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(67),i=n(55),o=n(69),a={};n(31)(a,n(14)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(30),i=n(39),o=n(85)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(24),i=n(28),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(42)(Function.call,n(92).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(36),i=n(94),o=n(57);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(37),i=n(71).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t){for(var n=["ms","moz","webkit","o"],r=0;r<n.length&&!window.requestAnimationFrame;++r){var i=n[r];window.requestAnimationFrame||(window.requestAnimationFrame=window[i+"RequestAnimationFrame"]),window.cancelAnimationFrame||(window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"])}var o=Date.now(),a=o;window.requestAnimationFrame&&window.cancelAnimationFrame||(window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(0,10-(t-a));return a=t+n,setTimeout(function(){e(Date.now()-o)},n)},window.cancelAnimationFrame=function(e){clearTimeout(e)})},function(e,t,n){var r=n(84),i=n(38);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(36),i=n(94),o=n(57),a=n(39),s=n(83),c=Object.assign;e.exports=!c||n(19)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,u=1,l=i.f,d=o.f;c>u;)for(var p,f=s(arguments[u++]),m=l?r(f).concat(l(f)):r(f),h=m.length,v=0;h>v;)d.call(f,p=m[v++])&&(n[p]=f[p]);return n}:c},function(e,t,n){"use strict";var r=n(194);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(196)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case l:case f:case u:return e;default:return t}}case v:case h:case o:return t}}}function b(e){return g(e)===p}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f)},t.isAsyncMode=function(e){return b(e)||g(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return g(e)===l},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===f},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===v},t.isMemo=function(e){return g(e)===h},t.isPortal=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===c},t.isStrictMode=function(e){return g(e)===s},t.isSuspense=function(e){return g(e)===m}},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case l:case f:case u:return e;default:return t}}case v:case h:case o:return t}}}function b(e){return g(e)===p}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f)},t.isAsyncMode=function(e){return b(e)||g(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return g(e)===l},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===f},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===v},t.isMemo=function(e){return g(e)===h},t.isPortal=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===c},t.isStrictMode=function(e){return g(e)===s},t.isSuspense=function(e){return g(e)===m}},function(e,t,n){"use strict";var r=n(43).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=function(e){return e&&e.__esModule?e:{default:e}}(n(201));i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=(0,o.default)(i);t.default=a}).call(this,n(59),n(200)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t,n){var r=n(95),i=n(38);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(14)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(205);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(24),i=n(134),o=n(14)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(17),i=n(41),o=n(19);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(17),i=n(38),o=n(19),a=n(209),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o(function(){return!!a[e]()||"​"!="​"[e]()}),c=i[e]=s?t(d):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},d=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){n(22)&&"g"!=/./g.flags&&n(21).f(RegExp.prototype,"flags",{configurable:!0,get:n(96)})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=(a(r),a(n(45))),o=a(n(215));a(n(216));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;t.default=function(e,t){var n,a,d="__create-react-context-"+(0,o.default)()+"__",p=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=c(this,e.call.apply(e,[this].concat(o))),r.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(r.props.value),c(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)?(i="function"==typeof t?t(n,r):l,0!=(i|=0)&&this.emitter.set(e.value,i)):i=0}},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[d]=i.default.object.isRequired,n);var f=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=c(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},c(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(r.Component);return f.contextTypes=((a={})[d]=i.default.object,a),{Provider:p,Consumer:f}},e.exports=t.default},function(e,t,n){"use strict";var r=n(141),i=n(213),o=n(214);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,c){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,o,a,s,c],d=0;(u=new Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(59))},function(e,t,n){"use strict";var r=n(141);e.exports=r},function(e,t,n){e.exports=n(218)()},function(e,t,n){"use strict";var r=n(219);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(39),i=n(119),o=n(53);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){"use strict";e.exports=n(223)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(0)),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r.Children.only(this.props.children)},t}(r.Component);t.AppContainer=a,t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){}},function(e,t,n){var r=n(23),i=n(91),o=n(21).f,a=n(71).f,s=n(95),c=n(96),u=r.RegExp,l=u,d=u.prototype,p=/a/g,f=/a/g,m=new u(p)!==p;if(n(22)&&(!m||n(19)(function(){return f[n(14)("match")]=!1,u(p)!=p||u(f)==f||"/a/i"!=u(p,"i")}))){u=function(e,t){var n=this instanceof u,r=s(e),o=void 0===t;return!n&&r&&e.constructor===u&&o?e:i(m?new l(r&&!o?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&o?c.call(e):t),n?this:d,u)};for(var h=function(e){e in u||o(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),g=0;v.length>g;)h(v[g++]);d.constructor=u,u.prototype=d,n(25)(r,"RegExp",u)}n(129)("RegExp")},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n(97)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(97)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(0)),o=u(n(45)),a=u(n(271)),s=u(n(275)),c=n(149);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=l(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return i.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(i.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(272)),o=c(n(0)),a=c(n(45)),s=(c(n(273)),n(274));function c(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var u=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};s===r&&a&&(c=(0,i.default)(r.ref,c)),t.push(o.default.cloneElement(s,{key:n,ref:c}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,t)},t}(o.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(e){return e}},t.default=u,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var c in t){if(r.hasOwnProperty(c))for(a=0;a<r[c].length;a++){var u=r[c][a];s[r[c][a]]=n(u)}s[c]=n(c)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(0)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(276)),o=p(n(278)),a=p(n(279)),s=n(280),c=p(n(0)),u=p(n(45)),l=n(34),d=n(149);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];s.transitionEnd&&m.push(s.transitionEnd),s.animationEnd&&m.push(s.animationEnd);u.default.node,d.nameShape.isRequired,u.default.bool,u.default.bool,u.default.bool,u.default.number,u.default.number,u.default.number;var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,l.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||a+"-active",u=null,d=void 0;(0,i.default)(r,a),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(u),d&&d(),(0,o.default)(r,a),(0,o.default)(r,c),d&&d(),t&&t())};n?(u=setTimeout(p,n),this.transitionTimeouts.push(u)):s.transitionEnd&&(d=function(e,t){return m.length?m.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){m.length&&m.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,i.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);h.displayName="CSSTransitionGroupChild",h.propTypes={},t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(277));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(148));var i,o="clearTimeout",a=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.default&&["","webkit","moz","o","ms"].some(function(e){var t=s(e,"request");if(t in window)return o=s(e,"cancel"),a=function(e){return window[t](e)}});var c=(new Date).getTime();(i=function(e){return a(e)}).cancel=function(e){window[o]&&"function"==typeof window[o]&&window[o](e)},t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",i=void 0,o=void 0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,d=void 0,p=void 0,f=void 0,m=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(148)).default){var h=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!i&&"animationName"in e&&(i="animationend");return e=null,{animationEnd:i,transitionEnd:r,prefix:o}}();i=h.prefix,t.transitionEnd=o=h.transitionEnd,t.animationEnd=a=h.animationEnd,t.transform=r=i+"-"+r,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=c=i+"-transition-duration",t.transitionDelay=l=i+"-transition-delay",t.transitionTiming=u=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=p=i+"-animation-duration",t.animationTiming=f=i+"-animation-delay",t.animationDelay=m=i+"-animation-timing-function"}t.transform=r,t.transitionProperty=s,t.transitionTiming=u,t.transitionDelay=l,t.transitionDuration=c,t.transitionEnd=o,t.animationName=d,t.animationDuration=p,t.animationTiming=f,t.animationDelay=m,t.animationEnd=a,t.default={transform:r,end:o,property:s,timing:u,delay:l,duration:c}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(21),i=n(55);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(1);var r,i,o,a,s=function(){function e(){this._events={}}var t=e.prototype;return t.on=function(e,t){(this._events[e]||(this._events[e]=[])).push(t)},t.off=function(e,t){var n=this._events[e];if(n){var r=n.indexOf(t);r>=0&&n.splice(r,1)}},t.once=function(e,t){var n=this,r=function r(){n.off(e,t),n.off(e,r)};this.on(e,t),this.on(e,r)},t.subscribe=function(e,t){var n=this;return this.on(e,t),function(){n.off(e,t)}},t.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._events[e];i&&i.slice().forEach(function(e){e.apply(void 0,n)})},e}(),c=function(){return new s},u=function(){return new s};!function(e){e.PackShown="packShown",e.BulkEventLogged="bulkEventLogger",e.ApiResponseTtlExpired="apiResponseTtlExpired",e.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",e.NotShownPackUpdated="notShownPackUpdated",e.LastShownPackUpdated="lastShownPackUpdated"}(r||(r={})),function(e){e.Onboarding="onboarding",e.Export="export",e.More="more",e.Bulk="bulk",e.ClientLogs="client_logs",e.Subs="subs",e.Profile="profile",e.CountryLang="language",e.Blocked="blocked",e.Preferences="preferences",e.Subscribers="subscribers",e.Category="category",e.Categories="categories",e.Suggest="suggest",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.PublisherConfig="publisher_config",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos",e.SendAppLinkSms="send_app_link_sms",e.SocialProfile="social_profile",e.SocialActivityFeed="social_activity_feed",e.SocialProfileEdit="social_profile_edit",e.SocialInterestsFeedback="social_interests_feedback",e.ProfileOnboardingShown="profile_onboarding_shown",e.ProfileCompleteOnboarding="profile_complete_onboarding",e.ProfileDeactivate="profile_deactivate",e.ProfileCancelDeactivate="profile_cancel_deactivate",e.AllChannelsLink="all_channels_link",e.CurrentUserInterests="current-user-interests",e.CurrentUserSubscriptions="subscriptions"}(i||(i={})),function(e){e.SessionCache="cacheStorage",e.MultiSessionCache="multiCacheStorage"}(o||(o={})),function(e){e.Network="network",e.CacheBeforeNetwork="cache-before-network",e.CacheAfterNetwork="cache-after-network"}(a||(a={}));var l,d=5e3;!function(e){e.SITE_DESKTOP="site_desktop",e.SITE_MOBILE="site_mobile",e.LIB="zen_lib",e.MODAL_LIB="zen_modal_lib",e.YABRO="desktop_browser_rezen",e.YABRO_MORDA="desktop_browser_with_morda",e.OPERA="opera_ntp",e.ZEN_APP="zen_app",e.ZEN_APP_IOS="zen_app_ios",e.SAMSUNG="samsung_mobile"}(l||(l={}));var p=n(0),f=n.n(p);var m=n(40),h=n.n(m),v=f.a.createContext(null);var g=function(e){e()},b=function(){return g},_=null,y={notify:function(){}};var E=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=y,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=b(),t=[],n=[];return{clear:function(){n=_,t=_},notify:function(){var r=t=n;e(function(){for(var e=0;e<r.length;e++)r[e]()})},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==_&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=y)},e}(),k=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;n.notifySubscribers=n.notifySubscribers.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));var i=new E(r);return i.onStateChange=n.notifySubscribers,n.state={store:r,subscription:i},n.previousState=r.getState(),n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new E(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},n.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},n.render=function(){var e=this.props.context||v;return f.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(p.Component);k.propTypes={store:h.a.shape({subscribe:h.a.func.isRequired,dispatch:h.a.func.isRequired,getState:h.a.func.isRequired}),context:h.a.object,children:h.a.any};var C=k;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var x=n(61),O=n.n(x),R=n(29),I=n.n(R),T=n(101),N=[],A=[null,null];function P(e,t){var n=e[1];return[t.payload,n+1]}var L=function(){return[null,0]},M="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?p.useLayoutEffect:p.useEffect;function D(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,o=n.methodName,a=void 0===o?"connectAdvanced":o,s=n.renderCountProp,c=void 0===s?void 0:s,u=n.shouldHandleStateChanges,l=void 0===u||u,d=n.storeKey,m=void 0===d?"store":d,h=n.withRef,g=void 0!==h&&h,b=n.forwardRef,_=void 0!==b&&b,y=n.context,k=void 0===y?v:y,C=S(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);I()(void 0===c,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),I()(!g,"withRef is removed. To access the wrapped instance, use a ref on the connected component");I()("store"===m,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var x=k;return function(t){var n=t.displayName||t.name||"Component",r=i(n),o=w({},C,{getDisplayName:i,methodName:a,renderCountProp:c,shouldHandleStateChanges:l,storeKey:m,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=C.pure;var u=s?p.useMemo:function(e){return e()};function d(n){var i=Object(p.useMemo)(function(){var e=n.forwardedRef,t=S(n,["forwardedRef"]);return[n.context,e,t]},[n]),a=i[0],s=i[1],c=i[2],d=Object(p.useMemo)(function(){return a&&a.Consumer&&Object(T.isContextConsumer)(f.a.createElement(a.Consumer,null))?a:x},[a,x]),m=Object(p.useContext)(d),h=Boolean(n.store),v=Boolean(m)&&Boolean(m.store);I()(h||v,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var g=n.store||m.store,b=Object(p.useMemo)(function(){return function(t){return e(t.dispatch,o)}(g)},[g]),_=Object(p.useMemo)(function(){if(!l)return A;var e=new E(g,h?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[g,h,m]),y=_[0],k=_[1],C=Object(p.useMemo)(function(){return h?m:w({},m,{subscription:y})},[h,m,y]),O=Object(p.useReducer)(P,N,L),R=O[0][0],D=O[1];if(R&&R.error)throw R.error;var B=Object(p.useRef)(),j=Object(p.useRef)(c),F=Object(p.useRef)(),U=Object(p.useRef)(!1),z=u(function(){return F.current&&c===j.current?F.current:b(g.getState(),c)},[g,R,c]);M(function(){j.current=c,B.current=z,U.current=!1,F.current&&(F.current=null,k())}),M(function(){if(l){var e=!1,t=null,n=function(){if(!e){var n,r,i=g.getState();try{n=b(i,j.current)}catch(e){r=e,t=e}r||(t=null),n===B.current?U.current||k():(B.current=n,F.current=n,U.current=!0,D({type:"STORE_UPDATED",payload:{latestStoreState:i,error:r}}))}};y.onStateChange=n,y.trySubscribe(),n();return function(){if(e=!0,y.tryUnsubscribe(),t)throw t}}},[g,y,b]);var V=Object(p.useMemo)(function(){return f.a.createElement(t,w({},z,{ref:s}))},[s,t,z]);return Object(p.useMemo)(function(){return l?f.a.createElement(d.Provider,{value:C},V):V},[d,V,C])}var h=s?f.a.memo(d):d;if(h.WrappedComponent=t,h.displayName=r,_){var v=f.a.forwardRef(function(e,t){return f.a.createElement(h,w({},e,{forwardedRef:t}))});return v.displayName=r,v.WrappedComponent=t,O()(v,t)}return O()(h,t)}}var B=Object.prototype.hasOwnProperty;function j(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function F(e,t){if(j(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!B.call(t,n[i])||!j(e[n[i]],t[n[i]]))return!1;return!0}var U=n(135);function z(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function V(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function H(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=V(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=V(i),i=r(t,n)),i},r}}var W=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:z(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?z(function(t){return Object(U.a)(e,t)}):void 0}];var G=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:z(function(){return{}})}];function q(e,t,n){return w({},n,e,t)}var K=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?i&&o(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return q}}];function Y(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function Q(e,t,n,r,i){var o,a,s,c,u,l=i.areStatesEqual,d=i.areOwnPropsEqual,p=i.areStatePropsEqual,f=!1;function m(i,f){var m=!d(f,a),h=!l(i,o);return o=i,a=f,m&&h?(s=e(o,a),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):m?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):h?function(){var t=e(o,a),r=!p(t,s);return s=t,r&&(u=n(s,c,a)),u}():u}return function(i,l){return f?m(i,l):function(i,l){return s=e(o=i,a=l),c=t(r,a),u=n(s,c,a),f=!0,u}(i,l)}}function Z(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=S(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),c=i(e,o);return(o.pure?Q:Y)(a,s,c,e,o)}function $(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function J(e,t){return e===t}var X=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?D:n,i=t.mapStateToPropsFactories,o=void 0===i?G:i,a=t.mapDispatchToPropsFactories,s=void 0===a?W:a,c=t.mergePropsFactories,u=void 0===c?K:c,l=t.selectorFactory,d=void 0===l?Z:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,c=a.pure,l=void 0===c||c,p=a.areStatesEqual,f=void 0===p?J:p,m=a.areOwnPropsEqual,h=void 0===m?F:m,v=a.areStatePropsEqual,g=void 0===v?F:v,b=a.areMergedPropsEqual,_=void 0===b?F:b,y=S(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=$(e,o,"mapStateToProps"),k=$(t,s,"mapDispatchToProps"),C=$(n,u,"mergeProps");return r(d,w({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:k,initMergeProps:C,pure:l,areStatesEqual:f,areOwnPropsEqual:h,areStatePropsEqual:g,areMergedPropsEqual:_},y))}}();function ee(){var e=Object(p.useContext)(v);return I()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function te(){return ee().store}function ne(){return te().dispatch}var re="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,ie=function(e,t){return e===t};function oe(e,t){void 0===t&&(t=ie),I()(e,"You must pass a selector to useSelectors");var n,r=ee(),i=r.store,o=r.subscription,a=Object(p.useReducer)(function(e){return e+1},0)[1],s=Object(p.useMemo)(function(){return new E(i,o)},[i,o]),c=Object(p.useRef)(),u=Object(p.useRef)(),l=Object(p.useRef)();try{n=e!==u.current||c.current?e(i.getState()):l.current}catch(e){var d="An error occured while selecting the store state: "+e.message+".";throw c.current&&(d+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\nOriginal stack trace:"),new Error(d)}return re(function(){u.current=e,l.current=n,c.current=void 0}),re(function(){function e(){try{var e=u.current(i.getState());if(t(e,l.current))return;l.current=e}catch(e){c.current=e}a({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}},[i,s]),n}var ae=n(34),se=n.n(ae);!function(e){g=e}(ae.unstable_batchedUpdates);n(140),n(44),n(74);var ce,ue,le,de,pe,fe,me,he,ve,ge=Object.prototype.hasOwnProperty,be=function(e){return Array.isArray(e)?e.slice():Object.assign({},e)},_e=function(e){return e&&"object"==typeof e},ye=function(e,t){if(Array.isArray(e)){var n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}var i=Object.assign({},e);return delete i[t],ge.call(e,t)!==ge.call(i,t)?i:null},Ee=function(e){var t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error("Key '"+e+"' is not an array index.")},ke=function(e){var t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},Ce=function(e,t){for(var n=ke(t),r=e,i=0;i<n.length;i++){var o=n[i];if(!_e(r)||!ge.call(r,o))return;r=r[o]}return r},we=function(e,t,n){if(!_e(e))throw new Error("Value is not an object.");for(var r=ke(t),i=be(e),o=i,a=!1,s=0;s<r.length;s++){var c=r[s],u=s===r.length-1;if(Array.isArray(o)&&Ee(c),u){var l=ge.call(o,c),d=l?o[c]:void 0,p=o[c]="function"==typeof n?n(d):n;l&&Object.is(d,p)||(a=!0)}else if(ge.call(o,c)){if(!_e(o[c]))throw new Error("Value is not an object.");o=o[c]=be(o[c])}else o=o[c]={},a=!0}return a?i:e},Se={get:Ce,set:we,del:function(e,t){if(!_e(e))throw new Error("Value is not an object.");var n=ke(t);if(1===n.length){var r=n[0];return ye(e,r)||e}for(var i=be(e),o=i,a=!1,s=0;s<n.length-1;s++){var c=n[s],u=s===n.length-2;if(Array.isArray(o)&&Ee(c),!ge.call(o,c))break;if(!_e(o[c]))throw new Error("Value is not an object.");if(u){var l=n[s+1];(o[c]=ye(o[c],l))&&(a=!0)}else o=o[c]=be(o[c])}return a?i:e},modify:function(e,t,n){return we(e,t,n(Ce(e,t)))}};n(5),n(4),n(26),n(51);!function(e){e.ONE_COLUMN="one_column",e.TWO_COLUMNS="two_column",e.TWO_COLUMN_SMALL_CARDS="two_column_small_cards",e.THREE_COLUMNS="three_column",e.THREE_COLUMNS_FIRST_BIG="three_column_first_big",e.THREE_COLUMNS_SMALL_CARDS="three_column_small_cards",e.THREE_COLUMNS_INFINITY="three_column_infinity"}(fe||(fe={})),function(e){e.CARD_PLACEHOLDER="card-placeholder",e.FEATURING_CAROUSEL="carousel_card",e.COMMENT="comment",e.DIRECT="ad",e.DOC="card",e.FEATURING_PROMO="featuring_promo",e.GIF="gif",e.HINT_EULA="hint_eula",e.HINT_PERSONAL="hint_personal",e.ICEBOARDING_GRID="iceboarding-grid",e.NARRATIVE="story",e.PERSONAL_CAROUSEL="personal_carousel",e.CONTENT_CAROUSEL="carousel_item",e.PLACEHOLDER="placeholder",e.POST="post",e.PROFILE_ACTIVITY_ONBOARDING="profile-activity-onboarding",e.SIMILAR_INTERESTS="similar_interests",e.SIMILAR="similar",e.USER_QUESTION="user-feedback-question",e.AUTH="auth"}(me||(me={})),function(e){e.SMALL="small",e.BIG="big",e.FREE="free",e.MEDIUM="medium"}(he||(he={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(ve||(ve={}));var xe=new Set([me.SIMILAR,me.USER_QUESTION]),Oe=[me.DOC,me.POST,me.DIRECT,me.GIF,me.NARRATIVE,me.FEATURING_PROMO,me.CARD_PLACEHOLDER,me.COMMENT,me.PROFILE_ACTIVITY_ONBOARDING],Re={columnCount:1,initialDisplayedRowsNumber:6,rowDisplayStep:8,layoutableTypes:[].concat(Oe,[me.HINT_EULA,me.ICEBOARDING_GRID,me.SIMILAR]),availableSizes:(ce={},ce[me.DOC]=[he.SMALL],ce[me.DIRECT]=[he.SMALL],ce[me.HINT_EULA]=[he.SMALL],ce[me.HINT_PERSONAL]=[he.SMALL],ce[me.ICEBOARDING_GRID]=[he.SMALL],ce[me.SIMILAR]=[he.SMALL],ce[me.GIF]=[he.SMALL],ce[me.NARRATIVE]=[he.SMALL],ce[me.USER_QUESTION]=[he.SMALL],ce[me.FEATURING_PROMO]=[he.SMALL],ce[me.FEATURING_CAROUSEL]=[he.SMALL],ce[me.CONTENT_CAROUSEL]=[he.SMALL],ce[me.COMMENT]=[he.SMALL],ce[me.PROFILE_ACTIVITY_ONBOARDING]=[he.SMALL],ce[me.CARD_PLACEHOLDER]=[he.SMALL],ce)},Ie={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9,layoutableTypes:Oe,availableSizes:(ue={},ue[me.DOC]=[he.SMALL,he.BIG],ue[me.POST]=[he.SMALL],ue[me.DIRECT]=[he.SMALL,he.BIG],ue[me.HINT_EULA]=[he.FREE],ue[me.HINT_PERSONAL]=[he.FREE],ue[me.ICEBOARDING_GRID]=[he.FREE],ue[me.SIMILAR]=[he.FREE],ue[me.GIF]=[he.SMALL,he.BIG],ue[me.NARRATIVE]=[he.SMALL],ue[me.CARD_PLACEHOLDER]=[he.SMALL,he.BIG],ue[me.PLACEHOLDER]=[he.FREE],ue[me.USER_QUESTION]=[he.FREE],ue[me.SIMILAR_INTERESTS]=[he.FREE],ue[me.FEATURING_PROMO]=[he.SMALL],ue[me.FEATURING_CAROUSEL]=[he.FREE],ue[me.PERSONAL_CAROUSEL]=[he.FREE],ue[me.CONTENT_CAROUSEL]=[he.FREE],ue[me.COMMENT]=[he.SMALL],ue[me.PROFILE_ACTIVITY_ONBOARDING]=[he.SMALL],ue)},Te={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9,layoutableTypes:Oe,availableSizes:(le={},le[me.DOC]=[he.SMALL],le[me.DIRECT]=[he.SMALL],le[me.HINT_EULA]=[he.SMALL],le[me.HINT_PERSONAL]=[he.SMALL],le[me.ICEBOARDING_GRID]=[he.SMALL],le[me.SIMILAR]=[he.SMALL],le[me.GIF]=[he.SMALL],le[me.NARRATIVE]=[he.SMALL],le[me.USER_QUESTION]=[he.SMALL],le[me.COMMENT]=[he.SMALL],le[me.PROFILE_ACTIVITY_ONBOARDING]=[he.SMALL],le)},Ne={columnCount:3,initialDisplayedRowsNumber:6,rowDisplayStep:9,layoutableTypes:Oe,availableSizes:(de={},de[me.DOC]=[he.SMALL,he.BIG],de[me.POST]=[he.SMALL],de[me.DIRECT]=[he.SMALL,he.BIG],de[me.HINT_EULA]=[he.FREE],de[me.HINT_PERSONAL]=[he.FREE],de[me.ICEBOARDING_GRID]=[he.FREE],de[me.SIMILAR]=[he.FREE],de[me.GIF]=[he.SMALL,he.BIG],de[me.NARRATIVE]=[he.SMALL],de[me.CARD_PLACEHOLDER]=[he.SMALL,he.BIG],de[me.PLACEHOLDER]=[he.FREE],de[me.USER_QUESTION]=[he.FREE],de[me.SIMILAR_INTERESTS]=[he.FREE],de[me.FEATURING_PROMO]=[he.SMALL],de[me.FEATURING_CAROUSEL]=[he.FREE],de[me.PERSONAL_CAROUSEL]=[he.FREE],de[me.CONTENT_CAROUSEL]=[he.FREE],de[me.COMMENT]=[he.SMALL],de[me.PROFILE_ACTIVITY_ONBOARDING]=[he.SMALL],de)},Ae=((pe={})[fe.ONE_COLUMN]=Re,pe[fe.TWO_COLUMNS]=Ie,pe[fe.TWO_COLUMN_SMALL_CARDS]=Te,pe[fe.THREE_COLUMNS]=Ne,pe[fe.THREE_COLUMNS_FIRST_BIG]=Ne,pe[fe.THREE_COLUMNS_SMALL_CARDS]=Ne,pe[fe.THREE_COLUMNS_INFINITY]=Ne,pe),Pe=(n(16),n(33),function(e){return void 0===e&&(e="item"),e+"_"+Math.random()*Date.now()}),Le=function(e){var t=e.source_id,n=e.image,r=e.background_color,i=e.text_color;return{id:t,image:n,name:e.name,textColor:i,textBackgroundColor:e.name_background_color,imageBackgroundColor:r}},Me=(n(6),function(e){if("direct"===Se.get(e,"items.0.provider")&&Se.get(e,"items.0.content")){var t=e.items[0],n=t.content,r=t.stat_events,i=t.bulk_params,o=!1;if(n.image&&n.image.length){var a=n.image;a[1]/a[2]>4/3&&(o=!0)}return{id:Pe(me.DIRECT),type:me.DIRECT,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||"",text:n.body,age:n.age,warning:n.warning,image:n.image,isWideImage:o,statEvents:r,bulkParams:i}}console.error("Ad parsing error: "+JSON.stringify(e))});n(8);function De(e){if(e)return Object.keys(e).reduce(function(t,n){var r,i=e[n],o=i.bulk_params,a=i.stat_events,s=i.links;return Object.assign({},t,((r={})[n]={bulkParams:o,statEvents:a,links:s},r))},{})}var Be,je,Fe,Ue,ze,Ve,He,We,Ge,qe=function(e){var t=e.strongest_id,n=e.type,r=e.status,i=e.title,o=e.logo,a=e.logo_sizes,s=e.framed_logo,c=e.logo_background_color,u=e.title_background_color,l=e.title_color,d=e.feed_link,p=e.feed_api_link,f=e.subtitle,m=e.description,h=e.subscribers,v=e.audience,g=e.social_links;return{id:t,type:n,status:r,title:i,logo:o,subtitle:f,description:m,subscribers:h,audience:v,isVerified:e.is_verified,isNirvana:e.is_nirvana,framedLogo:s,logoSizes:a,logoBackgroundColor:c,titleBackgroundColor:u,titleColor:l,feedLink:d,feedApiLink:p,socialLinks:g,link:e.link}},Ke=function(e){var t=De(e.stat_params);if(t)return Object.assign({},qe(e.source),t.placeholder)},Ye=function(e){return e.items.map(Ke)},Qe=function(e){var t=e.source,n=e.bulk_params,r=e.stat_events;return Object.assign({},qe(t),{bulkParams:t.bulk_params||n,statEvents:t.stat_events||r})},Ze=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n],i=r.text,o=r.text_color,a=r.background_color;return t[n]={text:i,textColor:o,backgroundColor:a},t},{})},$e=function(e){return{id:e.source.strongest_id,type:e.type,source:Qe(e),description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,feedbackButtons:Ze(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}},Je=function(e){if(e)return"direct"===e.type?{type:"direct",domElemId:e.dom_elem_id,blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big}:"adsense"===e.type?{type:"adsense",client:e.client,slot:e.slot}:void 0},Xe=function(e){var t=e.id,n=e.type,r=e.text,i=e.stats;return{id:t,type:n,text:r,isChecked:!1,stats:{statEvents:i.stat_events,bulkParams:i.bulk_params}}},et=function(e){return{id:e.id,type:e.type,display_type:e.display_type,text:e.text,answers:e.answers.map(Xe)}},tt=function(e){if(e.custom_user_feedback_data)try{return{questions:e.custom_user_feedback_data.questions.map(et)}}catch(e){return void console.warn("Error parsing custom_user_feedback_data",e)}},nt=function(e){var t=e.feedback_info;return t?t.is_liked?"liked":t.is_disliked?"disliked":null:null},rt=function(e){return{id:e.id,title:e.title||"",text:e.text||"",bulkParams:e.bulk_params,statEvents:e.stat_events,source:qe(e.source),creationTime:e.creation_time,actionTime:e.action_time,requireUserData:e.require_user_data}},it=function(e){return Object.assign({ad:Je(e.ad),bidFloor:e.bid_floor,domain:e.domain,domainTitle:e.domain_title,link:e.link,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar&&e.similar.link,read:e.read,feedback:nt(e),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,isLowResolutionDevice:e.is_low_resolution_device,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges},rt(e))},ot=function(e){return e.image&&e.big_card_image,Object.assign({isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:tt(e),rocket:Boolean(e.zen_logo),pixels:e.pixels},it(e))},at=function(e){var t=e.link,n=e.preview,r=e.width,i=e.height,o={link:t,preview:n};return(r||i)&&(o.hasSize=!0,o.width=r,o.height=i),o},st=function(e){var t=e.background,n=e.background_color,r=e.text_color,i=e.link_color;return{background:at(t),backgroundColor:n,textColor:r,linkColor:i}},ct=function(e){return{hasSound:e.has_sound,heartbeatTimes:e.heartbeat_pos,id:e.id,loop:e.loop,player:e.player,provider:e.provider,userAgent:e.userAgent,additionalParams:e.additional_params,autoplay:e.autoplay}},ut=function(e){e.image&&!e.big_card_image&&console.warn("no big_card_image",e);var t=De(e.stat_params);if(t)return Object.assign({type:me.GIF,video:ct(e.video),stats:e.stats,channelOwnerUid:parseInt(e.channel_owner_uid,10),publisherId:e.publisher_id,publicationId:e.publication_id,commentsToken:e.comments_token,statParams:t},it(e))},lt=function(e){return{id:e.source.strongest_id,type:e.type,source:qe(e.source),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}},dt=function(e){if(e.items&&e.items.length){var t=e.items.map(lt);if(!(t.filter(function(e){return"subscribed"!==e.source.status}).length<5))return{id:e.id,type:me.PERSONAL_CAROUSEL,size:e.size,title:e.title,subtitle:e.subtitle,background:e.background,showMoreLink:e.show_more_link,items:t,statEvents:e.stat_events,bulkParams:e.bulk_params,disableItemsClickable:Boolean(e.disable_items_clickable),hidden:!1}}},pt=function(e){return Object.assign({image:e.image,link:e.link,cardColors:{button:e.card_colors.button,buttonText:e.card_colors.button_text,card:e.card_colors.card,text:e.card_colors.text}},rt(e),{hidden:!1})},ft=(n(143),n(98),function(e){return Object.keys(e)}),mt=function(e,t){return e.reduce(function(e,n){return e[t(n)]=n,e},{})},ht=((Be={})[me.CARD_PLACEHOLDER]=function(e){return{id:e.item_id.toString(),type:me.CARD_PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}},Be[me.COMMENT]=function(e){return Object.assign({type:me.COMMENT,comment:e.comment,author:e.author},rt(e))},Be[me.DIRECT]=Me,Be[me.DOC]=function(e){return Object.assign({},ot(e),{type:me.DOC})},Be[me.FEATURING_PROMO]=function(e){return{id:e.id,type:me.FEATURING_PROMO,source:Qe(e),header:e.header,description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,menu:e.menu,feedbackButtons:Ze(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}},Be[me.GIF]=ut,Be[me.HINT_EULA]=function(e){return e.hint_type&&"eula"!==e.hint_type?function(e){return{id:e.id,type:me.HINT_PERSONAL}}(e):function(e){return{id:e.id,type:me.HINT_EULA,link:e.link,bulkParams:e.bulk_params,statEvents:e.stat_events}}(e)},Be[me.ICEBOARDING_GRID]=function(e){var t={id:Pe(me.ICEBOARDING_GRID),type:e.type,sources:e.sources.map(Le),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t},Be[me.NARRATIVE]=function(e){return Object.assign({},ot(e),{type:me.NARRATIVE,isPromoNarrative:"narrative_promo_text"===e.narrative_style})},Be[me.PLACEHOLDER]=function(e){return{id:e.item_id.toString(),type:me.PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}},Be[me.POST]=function(e){var t={type:me.POST,id:e.id,style:st(e.style),link:e.link,similarLink:e.similar_link,source:qe(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:Je(e.ad),bidFloor:e.bid_floor,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges,requireUserData:e.require_user_data,read:e.was_read,feedback:e.feedback_status,domainTitle:e.source.title};return e.rich_text&&(t.richText=function(e){return{json:e.json,length:e.length}}(e.rich_text)),e.image&&(t.image=at(e.image)),t},Be[me.PROFILE_ACTIVITY_ONBOARDING]=function(e){return{type:me.PROFILE_ACTIVITY_ONBOARDING,mode:e.mode,id:e.id}},Be[me.SIMILAR_INTERESTS]=function(e){return{id:e.id,type:e.type,title:e.title,items:e.items.map(function(e){return Ke({source:e,stat_params:e.stat_params})})}},Be[me.AUTH]=function(e){return{id:String(e.id),type:me.AUTH,title:e.title,text:e.text,authLink:e.auth_link,bulkParams:e.bulk_params,statEvents:e.stat_events}},Be[me.FEATURING_CAROUSEL]=function(e){return{id:e.id,type:me.FEATURING_CAROUSEL,carouselType:e.carousel_type,title:e.title,subtitle:e.subtitle,menu:e.menu,items:e.items.map($e),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}},Be[me.PERSONAL_CAROUSEL]=dt,Be[me.CONTENT_CAROUSEL]=function(e){return{id:e.id,type:me.CONTENT_CAROUSEL,carouselType:e.carousel_type,title:e.title,subtitle:e.subtitle,items:e.items.map(pt),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}},Be),vt=function(e){var t=function(e,t){return e[t]}(ht,e.type);return t?t(e):(console.warn("Unsupported doc type: "+e.type),null)};function gt(e){var t={lastSawFeed:{zenApp:null,zenAppIos:null},serverTime:null};return e&&(e.last_saw_feed&&(t.lastSawFeed.zenApp=e.last_saw_feed.zen_app,t.lastSawFeed.zenAppIos=e.last_saw_feed.zen_app_ios),t.serverTime=e.server_time),t}!function(e){e.Pending="pending",e.Error="error",e.Success="success"}(je||(je={})),function(e){e.Normal="normal",e.Header="header",e.PinnedCarousel="pinned-carousel"}(Fe||(Fe={})),function(e){e.Normal="normal",e.Navbar="navbar",e.AdfoxSmartBanner="adfox-smart-banner",e.BlockFeedBanner="block-feed-banner"}(Ue||(Ue={})),function(e){e.Top="top",e.Bottom="bottom"}(ze||(ze={})),function(e){e.Black="black",e.White="white"}(Ve||(Ve={})),function(e){e.App="app",e.More="more",e.Error="error"}(He||(He={})),function(e){e.NARRATIVE="narrative",e.PROMO="promo",e.SPECIAL="special"}(We||(We={})),function(e){e.Feed="feed",e.Category="category",e.Categories="categories",e.Profile="profile",e.SwitchableSubs="switchable_subs",e.Suggest="suggest",e.Blocked="blocked",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.Preferences="preferences",e.Language="language",e.SendAppLinkSms="send_app_link_sms",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos"}(Ge||(Ge={}));var bt,_t,yt,Et,kt,Ct,wt,St,xt,Ot,Rt,It,Tt,Nt;!function(e){e.Blur="blur",e.Fade="fade"}(bt||(bt={})),function(e){e.Pinned="pinned",e.Feed="feed",e.PinnedLib="pinned-lib"}(_t||(_t={})),function(e){e.Yabro1="yabro-1",e.Generic="generic"}(yt||(yt={})),function(e){e.Placeholder="Placeholder",e.Zen="Zen"}(Et||(Et={})),function(e){e.light="white",e.dark="black"}(kt||(kt={})),function(e){e.NAV_TOP_FIXED="top-fix",e.NAV_BOTTOM_FIXED="bottom-fix",e.NAV_TOP_FREE="top-free"}(Ct||(Ct={})),function(e){e.Coccoc="coccoc",e.Default="default"}(wt||(wt={})),function(e){e.A1="1a",e.A2="2a",e.B2="2b",e.OLD="old"}(St||(St={})),function(e){e.CookieChanged="COOKIE_CHANGED",e.HistoryChanged="HISTORY_CHANGED",e.isCustoPageVisibleChanged="IS_CUSTO_PAGE_VISIBLE_CHANGED"}(xt||(xt={})),function(e){e[e.NotPassed=0]="NotPassed",e[e.Passed=1]="Passed",e[e.Skipped=2]="Skipped"}(Ot||(Ot={})),function(e){e.Suggest="catalog_suggest",e.Carousel="catalog_carousel",e.Category="catalog_category",e.Subs="subscriptions",e.Blocked="profile_blocked",e.Onboarding="onboarding_popup",e.Similar="feed",e.Feed="feed"}(Rt||(Rt={})),function(e){e.Suggest="suggest",e.Carousel="list_of_categories",e.Category="category",e.Subs="subscriptions",e.Blocked="blocked",e.Onboarding="onboarding_popup",e.Similar="similar",e.Feed="layout"}(It||(It={})),function(e){e.Narrative="narrative",e.Native="native",e.Main="main",e.Channel="channel",e.Interest="interest",e.Activity="activity"}(Tt||(Tt={})),function(e){e.Feed="feed",e.Ok="ok",e.Banned="banned",e.NotFound="not_found"}(Nt||(Nt={}));n(20),n(75),n(32),n(12),n(15);var At=function(e){var t=e.match(/^(([^:\/?#]+:)?(?:\/\/((?:([^\/?#:]*):([^\/?#:]*)@)?([^\/?#:]*)(?::([^\/?#:]*))?)))?([^?#]*)(\?[^#]*)?(#.*)?$/);if(t)return{hash:t[10]||"",host:t[3]||"",hostname:t[6]||"",pathname:t[8]||(t[1]?"/":""),protocol:t[2]||"",search:t[9]||""}},Pt=function(e){return e.map(function(e){var t=e.feed_link?At(e.feed_link):void 0,n=t?""+t.pathname+t.search:e.feed_link;return Object.assign({},Qe({source:e}),{route:n})})},Lt=function(e){if(!e)return null;switch(e.status){case"complete":var t=e.result&&e.result.items||[];return{status:"complete",result:Pt(t)};case"error":return e;default:return{status:"error"}}},Mt=function(e){if(!e)return null;switch(e.status){case"complete":var t=e.result&&e.result.items||[];return{status:"complete",result:Pt(t).filter(function(e){return"domain"===e.type||"publisher"===e.type})};case"error":return e;default:return{status:"error"}}},Dt=function(e,t){var n=function(e,t,n){if(!e)return null;var r=e.reduce(function(e,r){if(r){var i=vt(r);i&&e.push(Object.assign({},i,{packId:t,cacheId:n}))}return e},[]);return r.length>0?r:null}(e.items,e.rid,t),r=function(e){return e?Object.assign({sources:Ye(e)},De(e.stat_params).interests_onboarding):null}(e.interests_onboarding),i=function(e){return e&&dt(e)||null}(e.pinned_carousel),o=function(e){if(!e)return{status:Nt.Feed};switch(e.status){case Nt.Banned:case Nt.NotFound:return{status:e.status};case Nt.Ok:return{status:Nt.Ok,source:Qe(e)};default:return console.error("Broken channel from backend"),{status:Nt.Feed}}}(e.channel);return{id:e.rid,cacheId:t,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,adFlightId:e.ad_flight_id,adArticleId:e.ad_article_id,publisherId:e.publisher_id,channel:o,items:n,onboardingInterests:r,pinnedCarousel:i,isIceStart:e.ice_start,experimentsData:e.experiments_data||null,clientDefinition:e.client_definition||null,user:gt(e.user),commentsDoc:e.comments_doc?vt(e.comments_doc):null,currentUserInterests:Lt(e.current_user_interests),currentUserSubscriptions:Mt(e.current_user_subscriptions),screens:e.screens,banner:e.banner}},Bt=function(e,t){return void 0===t&&(t=""),Object.assign({},e,Dt(e,t))},jt="USER_BLOCKED_REQUEST",Ft="USER_SUBSCRIPTIONS_REQUEST",Ut=(n(142),{timeouts:[5e3,1e4,15e3]}),zt=function(e,t){var n,r,i=function(e){n=Object.assign({},Ut,e)},o=function(t){var i,o,a=void 0===t?{}:t,s=a.args,c=a.timeouts,u=void 0===c?n.timeouts:c,l=a.withoutAction,d=void 0!==l&&l,p=a.withoutRetries,f=void 0!==p&&p,m=a.onTryComplete,h=void 0===m?function(e){if(e.isRejected)throw e.error;return e.value}:m,v=function(e){return"function"!=typeof e?function(){return e}:e}(s),g=function(e){return Array.isArray(e)?function(t){return t<e.length?e[t]:null}:"function"!=typeof e?function(){return e}:e}(u),b=0,_=!1,y=!1,E=function(){return i===r},k=function(){return!_&&!y},C=function(){return!f&&k()&&E()},w=function(){k()&&(o&&o(),y=!0)},S=function(){var t,n=v(b);return Array.isArray(n)?t=e.apply(void 0,n):(null!=n&&console.warn("Expected action arguments to be an array or null/undefined."),t=e()),t.then(function(e){return h({value:e,tryNumber:b,isFulfilled:!0,isRejected:!1,isLastSession:E,abortRetries:w})},function(e){return h({error:e,tryNumber:b,isFulfilled:!1,isRejected:!0,isLastSession:E,abortRetries:w})})},x=d?Promise.reject(new Error("Generated error by 'withoutAction' call.")):S(),O=function(e,t){return e.then(function(e){return t(e),e},function(e){throw t(e),e})}(x.catch(function e(t){if(C()){var n=g(b);if("number"==typeof n)return b++,function(e){return new Promise(function(t,n){o=function(){o=null,n(new Error("Retries aborted."))},setTimeout(function(){o=null,t()},e)})}(n).then(function(){if(C())return S().catch(e);throw t});null!=n&&console.warn("Expected action timeout to be a number or null/undefined.")}throw t}),function(){_=!0});return r&&r.abortRetries(),r=i={actionResult:x,retriesResult:O,isLastSession:E,isInProgress:k,abortRetries:w}};i(t);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o({args:t})};return a.startSession=o,a.setOptions=i,a},Vt=(n(72),n(3)),Ht=n(153),Wt=n.n(Ht);function Gt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n(217);function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kt(e){return"/"===e.charAt(0)}function Yt(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&Kt(e),o=t&&Kt(t),a=i||o;if(e&&Kt(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var c=r[r.length-1];s="."===c||".."===c||""===c}else s=!1;for(var u=0,l=r.length;l>=0;l--){var d=r[l];"."===d?Yt(r,l):".."===d?(Yt(r,l),u++):u&&(Yt(r,l),u--)}if(!a)for(;u--;u)r.unshift("..");!a||""===r[0]||r[0]&&Kt(r[0])||r.unshift("");var p=r.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p};"function"==typeof Symbol&&Symbol.iterator;var Zt=!0,$t="Invariant failed";var Jt=function(e,t){if(!e)throw Zt?new Error($t):new Error($t+": "+(t||""))};function Xt(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function en(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=qt({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Qt(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function tn(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}"undefined"==typeof window||!window.document||window.document.createElement;function nn(e,t,n){return Math.min(Math.max(e,t),n)}var rn=n(103),on=n.n(rn);function an(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var sn=function(e){var t=Wt()();return t.Provider.displayName=e+".Provider",t.Consumer.displayName=e+".Consumer",t}("Router"),cn=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Gt(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return f.a.createElement(sn.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(f.a.Component);f.a.Component;f.a.Component;var un={},ln=1e4,dn=0;function pn(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(un[e])return un[e];var t=on.a.compile(e);return dn<ln&&(un[e]=t,dn++),t}(e)(t,{pretty:!0})}var fn={},mn=1e4,hn=0;function vn(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce(function(t,n){if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=fn[n]||(fn[n]={});if(r[e])return r[e];var i=[],o={regexp:on()(e,i,t),keys:i};return hn<mn&&(r[e]=o,hn++),o}(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,c=i.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),p=e===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce(function(e,t,n){return e[t.name]=d[n],e},{})}},null)}f.a.Component;function gn(e){return"/"===e.charAt(0)?e:"/"+e}function bn(e,t){if(!e)return t;var n=gn(e);return 0!==t.pathname.indexOf(n)?t:qt({},t,{pathname:t.pathname.substr(n.length)})}function _n(e){return"string"==typeof e?e:Xt(e)}function yn(e){return function(){Jt(!1)}}function En(){}f.a.Component;f.a.Component;var kn=function(e){return e.sources},Cn=function(e,t){if(e)return e.map(function(e){var n=e.id,r=an(e,["id"]);return Object.assign({},r,t[n])})},wn=function(e){return Object(Vt.createSelector)(e,kn,Cn)},Sn=(wn(function(e){return e.categories.data?e.categories.data.sources:void 0}),wn(function(e){return e.search.search.data}),wn(function(e){return e.onboarding.data}),wn(function(e,t){var n=e.category[t];if(n){var r=n.data;if(r)return r.sources}}),function(){return Object(Vt.createSelector)(function(e,t){return(e.feed.items[t]||e.videoModal.videoFeed[t]).source},function(e,t){var n=e.feed.items[t]||e.videoModal.videoFeed[t];return e.sources[n.source.id]},function(e,t){if(!e)throw Error("No source in feed-item!");return Object.assign({},e,t)})}),xn=Object(Vt.createSelector)(function(e,t){return t},function(e,t){return e.sources[t.id]},function(e,t){if(!e)throw Error("No source in feed item!");return Object.assign({},e,t)}),On=function(){return xn},Rn=Object(Vt.createSelector)(function(e){return e.channel},function(e){return e.sources},function(e,t){if(e.status===Nt.Feed)return null;var n=e.source&&e.source.id;return Object.assign({},e.source,t[n])}),In=function(e){return"/"===e[0]?e.slice(1):e},Tn=n(152),Nn=function(e){return["activityDesktop","activityTablet","activityMobile"].includes(e)};n(13);function An(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Pn(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){An(o,r,i,a,s,"next",e)}function s(e){An(o,r,i,a,s,"throw",e)}a(void 0)})}}var Ln={},Mn=function(e,t){var n=void 0===t?{}:t,r=n.invalidate,i=void 0!==r&&r,o=n.crossorigin,a=void 0!==o&&o,s=n.useCredentials,c=void 0!==s&&s;if(Ln[e]&&!i)return Ln[e].promise;var u=document.createElement("script");u.src=e,u.async=!0,a&&(u.crossOrigin=c?"use-credentials":"anonymous");var l=new Promise(function(t,n){u.onload=function(){Ln[e].loaded=!0,t()},u.onerror=function(t){Ln[e].error=t,n(t)}});return Ln[e]&&document.head&&document.head.removeChild(Ln[e].script),document.head&&document.head.appendChild(u),Ln[e]={script:u,promise:l,loaded:!1,error:null},l};Mn.isRequested=function(e){return Boolean(Ln[e])},Mn.isLoaded=function(e){return Boolean(Ln[e]&&Ln[e].loaded)},Mn.isFailed=function(e){return Boolean(Ln[e]&&Ln[e].error)};var Dn,Bn,jn=function(e){return new Promise(function(t){setTimeout(t,e)})},Fn=[1e3,3e3,15e3],Un={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},zn={reachGoal:function(){}},Vn=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=function e(t){return void 0===t&&(t=0),Mn("https://mc.yandex.ru/metrika/tag.js",{invalidate:!0}).catch(function(n){if(Fn[t])return jn(Fn[t]).then(function(){return e(t+1)});throw n})},e.next=4,n();case 4:if(window.Ya&&window.Ya.Metrika2){e.next=9;break}return console.warn("withMetrikaGoal: window.Ya.Metrika2 not found"),e.abrupt("return",zn);case 9:return e.abrupt("return",new window.Ya.Metrika2(Object.assign({},Un,t)));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.warn("withMetrikaGoal: metrika load error:",e.t0),e.abrupt("return",zn);case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),Hn={},Wn=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="yaCounter"+t.id,!window[n]||"function"!=typeof window[n].reachGoal){e.next=4;break}return Hn[t.id]=window[n],e.abrupt("return",window[n]);case 4:return Hn[t.id]||(Hn[t.id]=Vn(t)),e.abrupt("return",Hn[t.id]);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Gn=function(){function e(e){this._data=e}var t=e.prototype;return t.exists=function(e){return this._data.hasOwnProperty(e)},t.isExp=function(e){return this.exists(e)&&Boolean(this._data[e].exp)},t.getAllExps=function(){var e=this;return Object.keys(this._data).filter(function(t){return Se.get(e._data,[t,"exp"])})},t.findExps=function(e){var t=this;return Object.keys(this._data).filter(function(n){return Se.get(t._data,[n,"exp"])&&n.match(e)})},e}();function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"undefined"!=typeof document&&(void 0!==document.hidden?(Bn="visibilityState",Dn="visibilitychange"):void 0!==document.mozHidden?(Bn="mozVisibilityState",Dn="mozvisibilitychange"):void 0!==document.msHidden?(Bn="msVisibilityState",Dn="msvisibilitychange"):void 0!==document.webkitHidden&&(Bn="webkitVisibilityState",Dn="webkitvisibilitychange"));var Kn=function(){return!Bn||"visible"===document[Bn]},Yn=function(e){if(!Dn)return function(){};var t=Dn,n=Kn(),r=!1,i=function(){if(!r){var t=Kn();n!==t&&(n=t,e(t))}};return document.addEventListener(t,i),function(){r=!0,document.removeEventListener(t,i)}},Qn=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={isPageVisible:Kn()},n._start=0,n._isStatSent=!1,n._isDeepwatchStatSent=!1,n._timer=null,n._unsubscribe=null,n._sendShowStatOnce=function(){var e=n.props,t=e.logger,r=e.onShow,i=e.sendShow,o=e.loggerParams;n._isStatSent||(t&&i&&t.log("show",o),r&&r(),n._isStatSent=!0)},n._sendDeepwatch=function(){var e=n.props,t=e.logger,r=e.onDeepwatch,i=e.sendDeepwatch;n._isDeepwatchStatSent||(t&&i&&t.log("deepwatch",{local:{__t__:(~~((Date.now()-n._start)/1e3)).toString()}}),r&&r(),n._isDeepwatchStatSent=!0)},n._updateTimer=function(){var e=n.props,t=e.isVisible,r=e.timeout,i=n.state.isPageVisible;t&&i?null===n._timer&&(n._timer=setTimeout(n._sendShowStatOnce,r),n._start=Date.now()):n._stopTimer()},n._stopTimer=function(){var e=n.props.timeout;null!==n._timer&&(clearTimeout(n._timer),Date.now()>n._start+e&&n._sendShowStatOnce(),n._timer=null)},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._updateTimer(),this._unsubscribe=Yn(function(t){e.setState({isPageVisible:t})})},n.componentDidUpdate=function(e,t){var n=this.props,r=n.isVisible,i=n.shouldResetOnVisibilityChange,o=this.state.isPageVisible;i&&t.isPageVisible!==o&&(this._isStatSent=!1,this._isDeepwatchStatSent=!1),this._updateTimer(),!(this._isStatSent&&e.isVisible&&t.isPageVisible)||r&&o||this._sendDeepwatch()},n.componentWillUnmount=function(){this._stopTimer(),this._unsubscribe&&this._unsubscribe()},n.render=function(){var e=this.props.children;return void 0===e?null:e},t}(p.PureComponent);Qn.defaultProps={timeout:800,shouldResetOnVisibilityChange:!1,sendShow:!0,sendDeepwatch:!1,loggerParams:{}};var Zn,$n,Jn=function(e){return function(t){return void 0===t&&(t={}),Object.keys(e).reduce(function(n,r){var i;return Object.assign({},n,((i={})[r]=e[r](t[function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})}(r)]),i))},{})}},Xn=function(e,t){return function(n){return t.includes(n)?n:e}},er=function(e){return void 0===e&&(e={}),function(t){return"object"==typeof t?t:e}},tr=function(e,t){return function(n){return void 0===n&&(n=t),function(t){return typeof t===e?t:n}}},nr=tr("number",0),rr=tr("boolean",!1),ir=tr("string",""),or=function(e){return e},ar=Jn({rezenSiteMobileSimilar:or(Jn({viewType:Xn(St.OLD,[St.A1,St.A2,St.B2,St.OLD])})),rezenPcode:or(Jn({version:nr()})),rezenSmsPopup:or(Jn({isEnabled:rr(),isForceShow:rr(),forceShowExpires:nr(21),afterSuccessTimeout:nr(3e3),afterErrorTimeout:nr(2e3),pastTimeAfterLastSawFeed:nr(2592e6),tabletUrl:ir("https://redirect.appmetrica.yandex.com/serve/890899778634799153")})),interfaceBranding:Xn(wt.Default,[wt.Coccoc,wt.Default]),rezenBlockFeedBanner:or(Jn({isEnabled:rr(),rowsBeforeBlock:nr(3),isWithoutClose:rr(),isWithoutReturn:rr(),isClickableBackground:rr(),closeExpire:nr(1),closeExpireClick:nr(14),textVariant:Xn("a",["a","b"]),url:ir("https://redirect.appmetrica.yandex.com/serve/314246221256507436")})),rezenPromoBadgeLink:ir(""),socialProfile:or(Jn({onboardingEnabled:rr(),onboardingTimeout:nr(500),profileEnabled:rr(),zenkitNotificaitons:rr()})),rezenInterestsOnboardingSiteDesktop:or(Jn({isIceForceShow:rr()})),rezenAdvertisersLink:ir(""),rezenExtendFeedback:or(Jn({isPopup:rr(),showLoggerTimeout:nr(800)})),rezenAdfoxFullscreen:or(Jn({isEnabled:rr(),isForceShow:rr(),closeExpires:nr(14),targetNames:er()})),rezenAdfoxSmart:or(Jn({isEnabled:rr(),isForceShow:rr(),closeExpires:nr(7),targetNames:er()})),rezenAppButton:or(Jn({isEnabled:rr(),isYellow:rr(),url:ir("https://redirect.appmetrica.yandex.com/serve/1179076386090959125"),closeTimeout:nr()})),notifiers:or(Jn({theme:Xn(Ve.Black,[Ve.Black,Ve.White])})),rezenEnableAllChannelsLink:rr(),rezenRefclidSessionTimeout:nr(),newLogoEnabled:rr(),newCardsEnabled:rr(),newCardsPerformanceTest:rr(),oldCardsPerformanceTest:rr(),rezenSiteDesktopNotifier:or(Jn({isEnable:rr(),apiHost:ir("https://cloud-api.yandex.ru/zen_gnc/"),baseUrl:ir("https://yandex.ru/global-notifications"),serviceDatabaseId:ir(".pub.notifier@notification_services"),iframeVersion:ir("stable"),loaderVersion:ir("v0.0.2")})),zenlibBrowserBase:ir(),codeSplittingEnabled:rr(),commentsBundleUrlTmpl:ir("https://yastatic.net/s3/zen-lib/41.4.0/comments/comments.{commentsBundleUrl}.{lang}.bundle.js"),samsungMobileRenderHeaderFixed:rr(),commentInCard:or(Jn({enabled:rr(),hotBubble:rr()})),showEmptyCarouselSearchLink:rr(!0)}),sr=Object(Vt.createSelector)(function(e){return e.params.clientDefinition},ar),cr=Object(Vt.createSelector)(function(e){return e.params.experimentsData},function(e){return new Gn(e)}),ur=function(e){return e("ab:rezen_unified:bottom")?Ct.NAV_BOTTOM_FIXED:e("ab:rezen_unified:top_fixed")?Ct.NAV_TOP_FIXED:!!e("ab:rezen_unified:top_hiding")&&Ct.NAV_TOP_FREE},lr=function(e){return e("ab:rezen_cards25:rezen_cards25_a")?"a":e("ab:rezen_cards25:rezen_cards25_b")?"b":e("ab:rezen_cards25:rezen_cards25_c")?"c":null},dr=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,pr=function(e){var t=e(dr)[0];if(t){var n=dr.exec(t);if(n)return n[1]+"px "+n[2]+"px "+n[3]+"px "+n[4]+"px"}},fr=["top_fixed","top_hiding","bottom"],mr=Object(Vt.createSelector)(cr,sr,function(e,t){var n=function(e,t){return{isFeedEnabled:t("rezen_domains_page_lib"),isZenOneEnabled:!t("ab:desktop_zen_one:default"),isYandexStaffZenOneExp:t("ab:desktop_zen_one_staff:desktop_zen_one_staff_enabled"),navbarPosition:ur(t),isWideImagesExp:t("rezen_direct_use_wide_images"),isDirectLabelCut:t("direct_label_cut"),showPromoLink:t("ab:rezen_new_header:enabled"),visibilityThreshold:t("ab:rezen_item_visibility_threshold:50")?.5:void 0,invalidateCacheOnDislike:t("ab:invalidate_cache_on_dislike:invalidate_cache_on_dislike"),isExtendFeedbackExp:t("ab:extend_feedback:extend_feedback"),isOfficialComplains:t("rezen_official_complaints"),shouldRefreshFeed:t("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed"),shouldResetScrollOnUnload:t("should_reset_scroll_on_unload"),shouldScrollOnOpenCard:t("should_scroll_on_open_card"),cards25:lr(t),comtrColor:t("zen_comtr_color")?"color":"white",isImageLazyLoadEnabled:t("lazy_images")||t("ab:rezen_lazy_images:enable")||t("zen_lib_lazy_images"),isTeethEnabled:t("site_desktop_turkey_morda_teeth"),isZenUnifiedEnabled:fr.some(function(e){return t("ab:rezen_unified:"+e)}),isZenkitMenuEnabled:t("ab:rezen_new_menu:rezen_new_menu"),isZenOneOtherCountries:t("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries"),isSocialProfileEnabled:t("new_profile"),isNavbarAtBottom:t("ab:rezen_unified:bottom"),isLiteRtbEnabled:t("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),linkHoverEnabled:t("ab:rezen_channel_links:rezen_channel_links"),hasModal:t("ab:rezen_video_modal:enable"),isAutoplayExp:t("ab:rezen_mobile_video_autoplay_wifi:enable"),layoutRight:!t("ab:rezen_video_recommends_bottom:enable"),canDisableVideo:t("ab:rezen_no_videos:enable"),disableMetrikaExp:t("rezen_disable_metrika"),imageRootMargin:pr(e),isRtbFitted:t("zen_lib_rtb"),isAdsense:t("ab:site_desktop_adsense:site_desktop_adsense")||t("ab:opera_ntp_adsense:opera_ntp_adsense"),isLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),isCommentCountersEnabled:t("ab:rezen_comments_counter:rezen_comments_counter")||t("zen_comments"),isTouchCommentCountersEnabled:t("ab:rezen_comments_counter_touch:rezen_comments_counter_touch"),isDesktopVideoModalCommentsEnabled:t("ab:social_desktop_video_modal_comments:social_desktop_video_modal_comments"),isCommentsDislikeEnabled:t("ab:social_dislike_comments:social_dislike_comments")||t("ab:social_dislike_comments:social_dislike_comments_sort"),isInterestsDesktop:t("ab:site_desktop_interests:site_desktop_interests_enabled")||t("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"),isInterestsMobile:t("ab:site_mobile_interests:site_mobile_interests_enabled")||t("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"),isInterestsZenApp:t("ab:zenkit_interests:zenkit_interests_enabled")||t("ab:zenkit_interests_staff:zenkit_interests_staff_enabled"),isInterestsZenAppIos:t("ab:ios_native_interests:ios_native_interests_enabled")||t("ab:ios_native_interests_staff:ios_native_interests_staff_enabled")}}(e.findExps.bind(e),e.isExp.bind(e));return Object.assign({},n,t)}),hr=["/id/:channelId","/:channelName","/t/:interestName"],vr=function(e){var t=At(decodeURI(e));if(!t)return"";var n=hr.reduce(function(e,n){return e||vn(t.pathname,{path:n,exact:!0})},null);return n?function(e){var t=e.channelName,n=e.channelId,r=e.interestName;return"source_"+(n||t||r)}(n.params):""},gr=function(e){return e.params.integration},br=function(e){return e.params.product},_r=function(e,t){return t===l.SITE_DESKTOP||t===l.SITE_MOBILE},yr=function(e){return e.channel.status===Nt.Ok},Er=(Object(Vt.createSelector)(function(e){return e.links.login_tmpl},function(e){var t=e.router;return t&&t.location.pathname},function(e,t){return e?e.replace("__replace-retpath__",encodeURIComponent(In(t))):null}),Object(Vt.createSelector)(function(e){return e.links.logout_tmpl},function(e){var t=e.router;return t&&t.location.pathname},function(e,t){return e?e.replace("__replace-retpath__",encodeURIComponent(In(t))):null}),function(e){return e.params&&e.params.feedType===Tt.Narrative}),kr=function(e){return e.params&&e.params.feedType===Tt.Native},Cr=Object(Vt.createSelector)(kr,Er,yr,function(e){var t=e.router;return t&&"/"===t.location.pathname},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(Boolean)}),wr=(Object(Vt.createSelector)(function(e){return e.context.partner},function(e){return function(e){if("undefined"==typeof window)return function(){};var t=Wn({id:e});return function(){var e=Pn(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent.reachGoal(n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}(Object(Tn.getPartnerMetrikaCounterIds)(e))}),Object(Vt.createSelector)(gr,br,function(e,t){return _r(0,t)}),Object(Vt.createSelector)(function(e){return e.params.libType},Nn)),Sr=Object(Vt.createSelector)(Er,kr,yr,wr,function(e,t,n,r){return!(e||t||n||r)}),xr=(Object(Vt.createSelector)(gr,br,mr,function(e,t,n){var r=n.shouldResetScrollOnUnload;return _r(0,t)&&r}),Object(Vt.createSelector)(function(e){return e.iface.isOpenCardScrollEnabled},mr,wr,function(e,t,n){var r=t.shouldScrollOnOpenCard,i=t.cards25;return e&&r&&"b"!==i&&"c"!==i&&!n})),Or=Object(Vt.createSelector)(function(e){return e.params.teethType},mr,function(e,t){var n=t.comtrColor;return e||n}),Rr=Object(Vt.createSelector)(function(e){return e.params.teethType},mr,function(e,t){var n=t.isTeethEnabled;return!!e||n}),Ir=function(e){return e.params.zenFeatures.color_theme},Tr=Object(Vt.createSelector)(mr,function(e){var t=e.isZenUnifiedEnabled,n=e.isZenkitMenuEnabled;return t||n}),Nr=Object(Vt.createSelector)(mr,function(e){return e.isZenOneOtherCountries}),Ar=Object(Vt.createSelector)(Tr,Nr,function(e,t){return Boolean(e||t)}),Pr=Object(Vt.createSelector)(yr,Er,kr,Ar,Cr,function(e,t,n,r,i){return!e&&!t&&!n&&(!r||i)}),Lr=Object(Vt.createSelector)(gr,function(e){return["ya_search_app_ios"].includes(e)}),Mr=(Object(Vt.createSelector)(Ar,Er,kr,Rn,Lr,function(e,t,n,r,i){return e&&!t&&!n&&!r&&!i}),Object(Vt.createSelector)(br,mr,function(e,t){var n=t.isInterestsDesktop,r=t.isInterestsMobile,i=t.isInterestsZenApp,o=t.isInterestsZenAppIos;switch(e){case l.SITE_DESKTOP:case l.MODAL_LIB:return n;case l.SITE_MOBILE:return r;case l.ZEN_APP:return i;case l.ZEN_APP_IOS:return o;default:return!1}}),Object(Vt.createSelector)(mr,function(e){var t=e.socialProfile,n=t.onboardingEnabled,r=t.onboardingTimeout;return{onboardingEnabled:n,profileEnabled:t.profileEnabled,onboardingTimeout:r,zenkitNotificaitons:t.zenkitNotificaitons}})),Dr=(Object(Vt.createSelector)(mr,Mr,function(e,t){return e.isSocialProfileEnabled||t.profileEnabled}),Object(Vt.createSelector)(function(e){return e.auth&&e.auth.info},function(e){return void 0===e&&(e={}),Boolean(e.isAuthorized)}),Object(Vt.createSelector)(function(e){return e.auth&&e.auth.info},function(e){return void 0===e&&(e={}),e.uid?function(e){return pn("/user/:uid(\\d*)",{uid:e})}(e.uid):""}),Object(Vt.createSelector)(mr,function(e){return e.iface.blockFeedBannerVisible},function(e){return e.iface.isAdfoxSmartVisible},function(e,t,n){var r=e.isNavbarAtBottom;return t?Ue.BlockFeedBanner:n?Ue.AdfoxSmartBanner:r?Ue.Navbar:Ue.Normal}));Object(Vt.createSelector)(Er,kr,function(e){return e.channel},function(e,t,n){return e?"narrative":t?"native":n.status===Nt.Ok?vr(n.source.feedLink):"main"});!function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.SamsungMobile=2]="SamsungMobile"}($n||($n={}));var Br=((Zn={})[$n.Desktop]=[[1,0],[.88,11],[.75,17],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]],Zn[$n.Mobile]=[[1,0],[.94,8],[.68,19],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]],Zn[$n.SamsungMobile]=[[1,0],[1,60],[.94,62.6],[.68,66.3],[.46,70],[.3,73.5],[.2,77],[.11,80.5],[.05,82],[0,100]],Zn);function jr(e,t){return"linear-gradient(to top, "+Br[t].map(function(t){var n=t[0],r=t[1];return"rgba("+e+", "+n+") "+r+"%"}).join()+")"}var Fr=function(e){return e.feed},Ur=function(e,t){return e.feed.items[t]},zr=function(e){return Boolean(e.pinnedCarousel&&e.pinnedCarousel.id)},Vr=function(e){switch(e){case he.SMALL:return 1;case he.BIG:return 2;case he.FREE:return 3;default:return console.error("Item size is wrong: "+e),1}},Hr=function(){var e=void 0;return function(t){var n=Fr(t),r=n.items,i=n.itemsOrder;if(e&&e.itemsOrder===i)return e.result;var o=i.map(function(e){var t=r[e];return t.type===me.DOC||t.type===me.POST||t.type===me.GIF||t.type===me.NARRATIVE?{id:t.id,type:t.type,ad:t.ad,commentsDocumentId:t.commentsDocumentId,hasImage:Boolean(t.image)}:{id:t.id,type:t.type,ad:void 0,commentsDocumentId:void 0,hasImage:void 0}});return e={itemsOrder:i,result:o},o}}(),Wr=Object(Vt.createSelector)(function(e,t){return e.feed.itemsOrder.indexOf(t)},function(e){return e}),Gr=Object(Vt.createSelector)(Fr,function(e){var t=e.gridType;return Ae[t].columnCount}),qr=function(e,t){return(t?e.slice(0,t):e).map(function(e){return e.hasPlaceholder?Et.Placeholder:Et.Zen})},Kr=Object(Vt.createSelector)(Hr,function(e){return e.feed.gridType},Gr,function(e,t,n){var r=[],i={},o=Ae[t].layoutableTypes,a=-1;return e.forEach(function(e){var s=o.includes(e.type);s&&a++;var c=s?function(e,t){switch(t){case fe.ONE_COLUMN:return he.SMALL;case fe.TWO_COLUMNS:var n=e%4;return 0===n||1===n?he.SMALL:he.BIG;case fe.TWO_COLUMN_SMALL_CARDS:return he.SMALL;case fe.THREE_COLUMNS:case fe.THREE_COLUMNS_INFINITY:return[3,6].includes(e%7)?he.BIG:he.SMALL;case fe.THREE_COLUMNS_FIRST_BIG:return[0,3].includes(e%7)?he.BIG:he.SMALL;case fe.THREE_COLUMNS_SMALL_CARDS:return he.SMALL;default:return console.error("No grid type configuration for "+t),he.SMALL}}(a,t):he.FREE,u=Ae[t].availableSizes[e.type];u&&u.includes(c)||console.warn("Invalid item size:",c,e.type,e.id);var l=Vr(c),d=r[r.length-1];d||(d=[],r.push(d));var p=d.reduce(function(e,t){return e+Vr(t.size)},0),f=Object.assign({},e,{size:c,row:-1});if(p+l<=n)d.push(f);else{var m=[f];r.push(m),e.type===me.PLACEHOLDER&&(m.hasPlaceholder=!0)}f.row=r.length-1,i[e.id]=f}),{elements:i,rows:r}}),Yr=Object(Vt.createSelector)(Hr,function(e){return e.filter(function(e){var t=e.type;return t===me.PLACEHOLDER||t===me.CARD_PLACEHOLDER}).map(function(e){return e.id})}),Qr=Object(Vt.createSelector)(Yr,function(e,t){return t},function(e,t){return e.indexOf(t)}),Zr=Object(Vt.createSelector)(br,function(e){return e.params.isAdaptiveDesign},function(e,t){return e&&[l.YABRO,l.YABRO_MORDA].includes(e)?yt.Yabro1:t?yt.Generic:null}),$r=function(e,t){return Ur(e,t).parentId},Jr=Object(Vt.createSelector)($r,function(e,t){var n=Kr(e),r=$r(e,t),i=n.elements[r].row;return n.rows[i]},Gr,function(e,t,n){var r=t[0].id,i=t[t.length-1].id;if(1===n)return ve.Center;switch(e){case r:return ve.Left;case i:return ve.Right;default:return ve.Center}}),Xr=function(e,t){var n=$r(e,t);return Kr(e).elements[n].size},ei=Object(Vt.createSelector)(Ir,function(e){return"white"===e}),ti=Object(Vt.createSelector)(Gr,Zr,mr,function(e,t,n){return{columnCount:e,rubberyType:t,isAdsense:n.isAdsense,isMordaDesktop:Boolean(!0),isRedesign:Boolean(!1)}}),ni=(Object(Vt.createSelector)(function(e){return e.feed.displayedRowsNumber},function(e){return e.feed.countRowsBeforeBlock},function(e,t){return e===t}),Object(Vt.createSelector)(Kr,function(){},function(e,t){for(var n=t?4:2,r=0,i=0;r<e.rows.length&&i<n;r++)e.rows[r].hasPlaceholder||i++;return r})),ri=function(e){return e?$n.Desktop:$n.Mobile},ii=function(){var e=this;this.resolve=null,this.reject=null,this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},oi=function(e){var t,n,r=e.privateBus,i=new ii,o=[],a=!1,s=function(e,t){o.push([e,t]),a&&c()},c=function(){o.some(function(e){var r=e[0],i=e[1];return t===r&&n===i})?(r.off("feedChanged",s),i.resolve()):o=[]};return r.on("feedChanged",s),function(e){return a=!0,t=Kr(e),n=Fr(e).displayedRowsNumber,c(),i.promise}},ai=n(47),si=n.n(ai),ci=Object(Vt.createSelector)(mr,function(e){var t=e.context.uatraits||{isIzenkit:!1,isZenkit:!1},n=t.isZenkit,r=t.isIzenkit;return n||r},function(e,t){var n=e.rezenAppButton;return{isEnabled:n.isEnabled&&!t,isYellow:n.isYellow,closeTimeout:n.closeTimeout,url:n.url}}),ui=function(e){return{type:"SET_CURRENT_NOTIFIER",payload:e}},li=function(){return function(e,t){t().notifiers.currentNotifierButton===He.App&&e(ui(null))}},di=function(e){return{type:"SET_NOTIFIERS_OFFSET_MODE_TOP",payload:e}},pi=function(){return function(e,t){t().notifiers.currentNotifierButton===He.Error&&e(ui(null))}},fi=function(e,t){return{type:"MERGE_STATE_BRANCH",payload:{branchName:e,branchState:t}}},mi=function(e){return function(t){return fi(e,t)}},hi=mi("links"),vi=mi("params"),gi=mi("shared"),bi=mi("context"),_i=mi("auth"),yi=mi("user"),Ei=mi("request"),ki=function(){function e(e){var t=e.bulkParams,n=e.statEvents;t&&n||console.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`: %s",t,n),this.params=e}return e.prototype.log=function(e,t){var n=this.params,r=n.statEvents,i=n.bulkParams,o=n.meta,a=n.zenApi;if(i&&r){var s=r[e];if(s){var c=t&&t.local,u=t&&t.global;a.logBulkEvent({event:c?Ci(s,c):s,bulkParams:u?Ci(i,u):i,statMeta:o,info:t&&t.info})}else console.warn("Invalid `statEvent`: %s. Request not sent.",e)}else console.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`: %s. . Request not sent: %s",i,r,e)},e}();function Ci(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(n,t[n])},e)}var wi,Si,xi,Oi=function(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(n,t[n])},e)},Ri={log:function(){}},Ii=function(e,t,n,r){if(!e||!t)return console.warn(new Error("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:"),e,t),Ri;return{log:function(i,o){var a=void 0===o?{}:o,s=a.local,c=void 0===s?{}:s,u=a.global,l=void 0===u?{}:u,d=a.rename,p=void 0===d?{}:d,f=a.info,m=t[p[i]||i];return m?r.logBulkEvent({event:Oi(m,c),bulkParams:Oi(e,l),statMeta:n,info:f}):(console.warn("Invalid `statEvent`: %s. Request not sent.",i),Ri)}}},Ti=Object(Vt.createSelectorCreator)(Vt.defaultMemoize,function(e,t){return Object.keys(e).filter(function(n){return e[n]===t[n]}).length===Object.keys(t).length}),Ni=function(e){return Ti(function(e){return e},function(e,t){return t},e)},Ai=function(e){var t=Ni(function(t,n){return{log:function(r,i){var o;return void 0===i&&(i={}),n.log(r,Object.assign({},i,((o={})[e]=Object.assign({},i[e],t),o)))}}});return function(e){return function(n){return t(e,n)}}},Pi=Ai("local"),Li=(Ai("global"),Ai("rename"),function(e){void 0===e&&(e="");var t=Ni(function(t,n){return{log:function(t,r){void 0===r&&(r={});var i=r.local||{},o=i.__els__||"";return n.log(t,Object.assign({},r,{local:Object.assign({},i,{__els__:o?e+"."+o:e})}))}}});return function(n){return t(e,n)}}),Mi=function(){return Object(Vt.createSelector)(function(e,t){return t},function(e){return e.statParams},function(e){return e.statEvents},function(e){return e.bulkParams},function(e){return e.rowIndex},function(e){return e.zenApi},function(e,t,n,r,i,o){if(e&&t&&t[e]){var a=t[e],s=a.statEvents,c=a.bulkParams;return new ki({statEvents:s,bulkParams:c,meta:{rowIndex:i},zenApi:o})}return new ki({statEvents:n,bulkParams:r,meta:{rowIndex:i},zenApi:o})})},Di=function(){return Object(Vt.createSelector)(function(e){return e.statEvents},function(e){return e.bulkParams},function(e){return e.rowIndex},function(e){return e.source?e.source.statParams:e.statParams},function(e){return e.source?e.source.statEvents:e.statEvents},function(e){return e.source?e.source.bulkParams:e.bulkParams},function(e){return e.place},function(e){return e.pageType},function(e,t){return t},function(e,t,n,r,i,o,a,s,c){if(s){if(!a)return console.error(new Error("new stats error: no place")),Ii();if(i&&o){var u=o.replace("__place_param__",a).replace("__page_type__",s);return Ii(u,i,{rowIndex:n},c)}if(e&&t){var l=t.replace("__place_param__",a).replace("__page_type__",s);return Ii(l,e,{rowIndex:n},c)}return console.error(new Error("new stats error: "+s+" "+i+" "+o+" "+e+" "+t)),Ii()}if(r){var d=r[a];return d?Ii(d.bulkParams,d.statEvents,{rowIndex:n},c):(console.error(new Error("place "+a+" not found in statParams")),Ii())}return i&&o?Ii(o,i,{rowIndex:n},c):e&&t?Ii(t,e,{rowIndex:n},c):Ii()})},Bi=function(){return Object(Vt.createSelector)(function(e){return e.params.bulk.bulk_params},function(e){return e.params.bulk.stat_events},function(e,t){return t},function(e,t,n){return Ii(e,t,null,n)})},ji=(Bi(),function(e,t){var n=Bi();return Object(Vt.createSelector)(n,function(n){return"function"==typeof e?function(){return Li(e.apply(void 0,arguments))(n).log(t)}:function(){return Li(e)(n).log(t)}})}),Fi=function(e,t){var n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout(function(){n=null,e.apply(void 0,i)},t)}},Ui=["id","source","type","feedback","complaints","complaintsSendedAt","title","domainTitle","bulkParams","statEvents"],zi=function(){var e=[];return function(t,n){var r=Ur(t,n);if(r&&(r.type===me.DOC||r.type===me.NARRATIVE)){var i=r.customUserFeedbackData;if(i)return i.questions}return e}}(),Vi=function(e,t){return zi(e,t).filter(function(e){return"zoloka_interest_feedback"===e.type})[0]||null},Hi=function(e,t){return zi(e,t).filter(function(e){return"extended_dislike_feedback"===e.type})[0]||null},Wi=Fi(function(e){return e.invalidateCache()},2500),Gi=function(){return Object(Vt.createSelector)(Hi,function(e){if(e){var t=Mi(),n=(e.answers||[]).map(function(e){return Object.assign({},e,{onBlock:function(n){t(Object.assign({},e.stats,{zenApi:n})).log("feedback_block"),Wi(n)},onUnblock:function(n){t(Object.assign({},e.stats,{zenApi:n})).log("feedback_cancel_block"),Wi(n)}})});return Object.assign({},e,{answers:n})}})},qi=function(){var e=Gi();return Vt.createSelector.apply(void 0,[Ir,Er,kr,Rn,function(e,t){return Kr(e).elements[t].size},function(e){return e.params.complaints&&e.params.complaints.reasons},function(e){return e.params.isMobile},kn,e,wr].concat(Ui.map(function(e){return function(t,n,r){return void 0!==r?function(e,t,n){var r=Ur(e,t);switch(r.type){case me.FEATURING_CAROUSEL:case me.PERSONAL_CAROUSEL:return r.items.find(function(e){return e.id===n});default:throw Error("State item with id '"+t+"' not have items")}}(t,n,r)[e]:Ur(t,n)[e]}}),[function(e,t,n,r,i,o,a,s,c,u){for(var l=arguments.length,d=new Array(l>10?l-10:0),p=10;p<l;p++)d[p-10]=arguments[p];var f=d.reduce(function(e,t,n){return e[Ui[n]]=t,e},{}),m=f.feedback,h=f.source,v=Object.assign({},h,h?s[h.id]:{}),g=!(t||n||r&&"interest"!==r.type||u);return Object.assign({},f,{source:v,size:i,theme:e,complaintReasons:o,isMobile:a,dislikeQuestion:c,isEnabled:g,isNegativeFeedback:m&&"liked"!==m})}]))},Ki=["id","feedback","isMittensJumping","bulkParams","statEvents"],Yi=function(){return Vt.createSelector.apply(void 0,[function(e){return e.params.isMobile},Er,kr].concat(Ki.map(function(e){return function(t,n){return Ur(t,n)[e]}}),[function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return i.reduce(function(e,t,n){return e[Ki[n]]=t,e},{isEnabled:!(t||n),size:e?"medium":"small"})}]))},Qi=["id","type","statEvents","subscribeTriggerEvent","feedback","read"],Zi=function(){var e=Sn();return Vt.createSelector.apply(void 0,[br,kr,wr,e].concat(Qi.map(function(e){return function(t,n){return Ur(t,n)[e]}}),[function(e,t,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];var s=o[0],c=o[1],u=o[2],d=o[3],p=o[4],f=o[5],m=r.status,h=r.isSubscribedInCurrentSession,v="subscribed"===m;return{id:s,source:r,triggerEvent:u[d],isSubscribed:v,hasSubscribeButton:(![l.YABRO,l.YABRO_MORDA].includes(e)||c===me.DOC)&&(!v||h)&&("liked"===p||f)&&!t&&!n}}]))},$i=function(e,t,n){var r,i,o=this;return void 0===t&&(t=250),function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];var u=n||o,l=Date.now();clearTimeout(i),r&&l<r+t?i=setTimeout(function(){r=l,e.apply(u,s)},t):(r=l,e.apply(u,s))}},Ji=n(155),Xi=250,eo=[],to=[],no=[],ro=[],io=[],oo=!1,ao=!1,so=n.n(Ji).a.hasSupport;function co(e,t){for(var n=e.length-1;n>=0;n--)t(e[n])}function uo(e,t){for(var n,r=[],i=0,o=e.length;i!==o;i++)t(n=e[i])&&r.push(n);return r}var lo=0;function po(){return"__scrollEv"+ ++lo+"__"}var fo={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0},mo=Lo(fo),ho={},vo=!1,go=[];function bo(){var e=Lo(mo);mo=Ao(e)}var _o=function(e,t,n){var r=e.name||po();return ro.push({name:r,timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0}),r},yo=function(e,t,n){to.push({scroll:e.scroll,name:e.name||po(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&function(e,t){go.push([e,t])}(e.scroll-700,e.scroll+700)},Eo=function(e,t,n){no.push({delta:e.delta,name:e.name||po(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,data:n,callback:t})},ko=function(e){no=uo(no,function(t){return t.name!==e})},Co=function(){oo=!0},wo=function(){bo(),oo=!1};var So=function(){ao?window.addEventListener("message",function(e){var t=e.data;if("scroll"===t.type){var n=t.scrollTop,r=t.winHeight;wi=n,Si=r,Oo()}}):(so?document.addEventListener("scroll",Oo,{passive:!0}):requestAnimationFrame(Io),_o({},function(e){!function(e){var t=!1;co(go,function(n){var r=n[0],i=n[1];e>=r&&e<=i&&(t=!0)}),vo=t}(e.scroll)}))};function xo(e,t,n){return n.fromBottom?e<=n.scroll||Boolean(n.bottomEdge&&t<=n.scroll):e>=n.scroll||Boolean(n.bottomEdge&&t>=n.scroll)}function Oo(){Io(Date.now())}function Ro(e,t){so&&(t||(clearTimeout(xi),xi=setTimeout(function(){return Io(Date.now(),!0)},Xi))),e;var n=Lo(mo),r=mo=Ao(n,t),i=r.scroll,o=r.scrollBottomEdge;!0===mo.scrolling&&n.scrolling,(!0===mo.scrolling||t)&&function(e){To(e,!1),No(e,!1)}(mo),!1===mo.scrolling&&!0===n.scrolling&&function(e){To(e,!0),No(e,!0),co(io,function(e){clearTimeout(e._timeout),e.callback()}),io=[]}(mo),function(e,t){co(eo,function(n){var r=xo(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;Po(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),eo=uo(eo,function(e){return!(e._triggered&&e.once)})}(i,o),function(e,t){co(to,function(n){0===n._state&&xo(e,t,n)&&(Po(n.name,{state:1,data:n.data},n.callback),Mo(n.name)||(n._state=1)),1!==n._state||xo(e,t,n)||(Po(n.name,{state:0,data:n.data},n.callback),Mo(n.name)||(n._state=0))})}(i,o),so||requestAnimationFrame(Io)}var Io=vo?Ro:$i(Ro,30);function To(e,t){var n=uo(no,function(e){return Boolean(e.endTrigger)===t}),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,i=Math.abs(r),o=r>0?1:-1;co(n,function(e){e.onceDebounce&&ho[e.name]||i>=e.delta&&(e.direction===o||e.anyDirection)&&(Po(e.name,{data:e.data},e.callback),e._triggered=!0,ho[e.name]=!0)}),no=uo(no,function(e){return!(e._triggered&&e.once)})}function No(e,t){var n=Date.now();co(ro,function(r){(n-r._lastTriggerTime>=r.timeout||t)&&(Po(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function Ao(e,t){var n=Lo(fo),r=ao?wi:window.pageYOffset,i=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(ao?Si:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=i:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,i-n.lastScrollChangeTime>Xi||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,ho={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function Po(e,t,n){Mo()||n&&n(t)}function Lo(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function Mo(){return oo}var Do,Bo,jo=new(function(){function e(){}var t=e.prototype;return t.loop=function(e){var t=this;"number"==typeof this.start&&"number"==typeof this.distance&&(this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}(this.timeElapsed,this.start,this.distance,200),window.scrollTo(0,this.next),this.timeElapsed<200?requestAnimationFrame(function(e){t.loop(e)}):this.end&&this.end())},t.scrollTo=function(e){var t=this,n=void 0===e?{}:e,r=n.top,i=void 0===r?0:r,o=n.animate,a=void 0===o||o;return new Promise(function(e){var n=Math.max(0,i),r=function(){if("number"==typeof t.start&&"number"==typeof t.distance){var r={scroll:n,scrollBottomEdge:n+window.innerHeight};window.scrollTo(0,t.start+t.distance),t.timeStart=0,t.enableScrollEvents(),t.scrollPosition=r,e(n)}};t.end=r,t.start=window.pageYOffset,t.distance=n-t.start,t.disableScrollEvents(),a?requestAnimationFrame(function(e){t.loop(e)}):(window.scrollTo(0,n),r())})},t.disableScrollEvents=function(){Co()},t.enableScrollEvents=function(){setTimeout(function(){return wo()},500)},e}()),Fo=function(e){if(!e.getClientRects().length)return 0;var t=e.getBoundingClientRect(),n=e.ownerDocument&&e.ownerDocument.defaultView,r=n?n.pageYOffset:0;return t.top+r},Uo=function(e){return void 0===e&&(e=!1),Co(),function(){var e=document.querySelector(".zen-app");return e?Promise.resolve(Fo(e)):Promise.resolve(0)}().then(function(t){return jo.scrollTo({top:t,animate:e})}).then(function(){return jn(1e3)}).then(function(){return wo()})},zo="undefined"!=typeof window&&void 0!==window.localStorage,Vo=zo?{isAvailable:zo,getItem:function(e){try{return window.localStorage.getItem(e)}catch(e){return null}},setItem:function(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return!1}},removeItem:function(e){try{return window.localStorage.removeItem(e),!0}catch(e){return!1}}}:{isAvailable:!1,getItem:function(){return null},setItem:function(){return!1},removeItem:function(){return!1}},Ho=function(){switch(Vo.getItem("zen-video-autoplay")){case"1":return!0;case"0":return!1}},Wo=function(e){return function(e){Vo.setItem("zen-video-autoplay",e?"1":"0")}(e),{type:"SET_VIDEO_AUTOPLAY",payload:e,broadcastable:!0}},Go=function(e,t,n){return{type:"RECEIVE_ITEMS",payload:{items:e,insertOnTop:t,shouldRefreshFeed:n}}},qo=zt(function(e){return e.getMore()}),Ko=function(e){var t=void 0===e?{}:e,n=t.insertOnTop,r=void 0!==n&&n,o=t.shouldRefreshFeed,a=void 0!==o&&o,s=t.onAfterPackInsert,c=void 0===s?void 0:s;return function(e,t,n){var o=n.zenApi,s=n.ttlController,u=n.privateBus;return qo.startSession({args:[o],timeouts:[3e4,18e4],onTryComplete:function(n){var l;try{l=function(){var l;if(n.isLastSession()){if(n.isRejected){if(0===n.tryNumber){var d=t();yr(d)||e(function(e,t){var n=t().notifiers,r=n.currentNotifierButton,i=n.isNotifiersDisabled;r===He.Error||i||(e(ui(He.Error)),jn(5e3).then(function(){return e(pi())}))})}throw s&&s.apiResponseReceiveFailed(i.More,n.error),console.warn(n.error.message),n.error}var p=c?oi({privateBus:u}):null,f=n.value.apiResponse,m=f&&f.experimentsData&&f.experimentsData["ab:extend_feedback:extend_feedback_debug_client"],h=f&&f.experimentsData&&f.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"];if((("boolean"==typeof m?m:m&&m.exp)||("boolean"==typeof h?h:h&&h.exp))&&f&&Array.isArray(f.items)&&f.items.forEach(function(e){e&&"customUserFeedbackData"in e&&e.customUserFeedbackData&&(e.customUserFeedbackData=null)}),s&&s.apiResponseReceived(i.More,f),e(hi(((l={})[i.More]=f.more.link||null,l))),f.items&&e(Go(f.items,r,a)),f.id&&o.packUsed(f.id),p)return p(t())}else if(n.isRejected)throw n.error}()}catch(e){throw c&&c(!1),e}c&&(l?l.then(function(){return c(!0)}):c(!1))}}).retriesResult.catch(function(e){console.warn("GetMore retries failed: '"+e.message+"'.")})}},Yo=function(e){return function(t,n,r){var i=r.zenApi,o=n(),a=Ur(o,e);if(!a.childItemId&&!a.isSimilarRequested&&a.similarLink){var s=Kr(o),c=s.rows[s.elements[e].row+1],u=a.similarLink;ta(c,me.DIRECT)&&(u=u.replace("_type_","ad")),t({type:"REQUEST_SIMILAR",payload:{itemId:e}}),i.getSimilar(u).then(function(n){t({type:"RECEIVE_SIMILAR",payload:{itemId:e,similar:n}});var r=n.items,i=r.sources,o=r.docs,a=r.direct,s=r.rtb;i.length+o.length+a.length+s.length!==0&&t(Qo(e,Object.assign({},n,{items:{sources:i,docs:o,direct:a,rtb:s}})))})}}},Qo=function(e,t){return function(n,r){var i=r(),o=Kr(i),a=o.rows,s=o.elements[e].row,c=a[s];if(ta(a[s+1],xe)){var u=a[s+1][0].id,l=Ur(i,u);void 0!==l.parentId&&n(Zo(l.parentId))}n({type:"INSERT_ITEM_AFTER",payload:{afterId:c[c.length-1].id,item:t}}),n({type:"LINK_CHILD_ITEM",payload:{itemId:e,childItemId:t.id}})}},Zo=function(e){return function(t,n){var r=n().feed.items[e];r.childItemId&&(t({type:"UNLINK_CHILD_ITEM",payload:{itemId:e}}),t({type:"REMOVE_ITEM",payload:{itemId:r.childItemId}}))}},$o=function(e){return{type:"SET_DISPLAYED_ROWS_NUMBER",payload:{displayedRowsNumber:e}}},Jo=function(e){return function(t,n){var r=n(),i=Ur(r,e),o=Vi(r,i.id);if(!i.isUserQuestionAnswered&&o){var a={type:me.USER_QUESTION,id:Pe(me.USER_QUESTION),parentId:i.id,bulkParams:i.bulkParams,statEvents:i.statEvents};setTimeout(function(){t(Qo(e,a))},500)}}},Xo=function(e){return function(t,n){var r=n(),i=$r(r,e);t({type:"ANSWER_USER_QUESTION",payload:{id:e,parentId:i}})}},ea=function(e){return{type:"REPORT_AD_DIDNT_LOAD",payload:{itemId:e}}},ta=function(e,t){return!!e&&e.some(function(e){return"string"==typeof t?e.type===t:t.has(e.type)})},na=function(e){return function(t,n){var r=(void 0===n?{}:n).isPublic;return{type:e,payload:t,meta:{isPublic:void 0===r||r},broadcastable:!0}}},ra=na("SOURCE_SUBSCRIBE"),ia=na("SOURCE_UNSUBSCRIBE"),oa=na("SOURCE_BLOCK"),aa=na("SOURCE_UNBLOCK"),sa=na("SOURCE_DISLIKE"),ca=Object(Vt.createSelector)(function(e){return e},function(e){if(e&&e.id)return{global:{__with_comment_id__:e.id}}}),ua=Object(Vt.createSelector)(mr,yr,function(e){return e.params.libType},function(e,t,n){var r=e.commentInCard;return t||n&&Nn(n)?{enabled:!1,hotBubble:!1}:r}),la=[],da=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},pa=function(e){return e||"DEFAULT_ID"},fa=function(e,t){return e({id:pa(t)},{type:"@@asyncScope/INIT"})},ma=function(e){var t=e.actionType,n=e.dataReducer,r=function(e){var t,n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&da(t,i)?n:(t=i,n=e.apply(void 0,i))}}(function(e,t,n){return{id:e,status:t,data:n}}),i=function(e){return function(t,n,r){if(void 0===t&&(t=je.Pending),r!==(n.payload&&n.payload.id))return t;switch(n.type){case e:return n.payload.status;default:return t}}}(t);return function(e,t){var o=function(e){return void 0===e&&(e="DEFAULT_ID"),e}(e&&e.id);return r(o,i(e&&e.status,t,o),n(e&&e.data,t,o))}},ha=function(e){var t=e.reducer,n=e.selector;return function(e,r){for(var i=pa(r),o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return n.apply(void 0,[e,i].concat(a))||fa(t,i)}},va=function(e){var t=e.type,n=e.id;return{type:t,payload:{id:void 0===n?"DEFAULT_ID":n,timestamp:Date.now(),status:je.Pending}}},ga=function(e){var t=e.type,n=e.value,r=e.id;return{type:t,payload:{id:void 0===r?"DEFAULT_ID":r,timestamp:Date.now(),status:je.Success,value:n}}},ba=function(e){var t=e.type,n=e.id;return{type:t,payload:{id:void 0===n?"DEFAULT_ID":n,timestamp:Date.now(),status:je.Error}}},_a=function(e){var t=e.type,n=e.request,r=e.selector,i=function(e){var i=e.isForced,o=e.isSilent,a=void 0!==o&&o;return function(e){for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];return function(){var o=Pn(regeneratorRuntime.mark(function o(c,u,l){var d,p,f;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(d=pa(e),p=u(),f=r.apply(void 0,[p,d].concat(s)),i||!f||f.status!==je.Success){o.next=5;break}return o.abrupt("return",f.data);case 5:return!a&&c(va({type:t,id:d})),o.abrupt("return",n.apply(void 0,[l,d].concat(s)).then(function(e){c(ga({type:t,id:d,value:e}));var n=u(),i=r.apply(void 0,[n,d].concat(s));if(i)return i.data},function(e){throw!a&&c(ba({type:t,id:d})),e}));case 7:case"end":return o.stop()}},o)}));return function(e,t,n){return o.apply(this,arguments)}}()}};return[i({isForced:!1}),i({isForced:!0}),i({isForced:!0,isSilent:!0})]},ya=function(e){var t=null,n=null,r=!1;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return!n||r||t&&!da(t,o)?(t=o,r=!1,n=e.apply(void 0,o).then(function(e){return r=!0,e},function(e){throw r=!0,e})):n}},Ea=n(136),ka=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}},Ca=ma({actionType:"USER_PROFILE_REQUEST",dataReducer:function(e,t,n){void 0===e&&(e=null);var r=t.payload&&t.payload.id,i=t.__data__&&t.__data__.selfUserId;if(null!==e)switch(t.type){case"SOURCE_SUBSCRIBE":var o=Object.assign({},e);return n===i?o.subscriptionCount++:n===r&&o.followerCount++,o;case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":var a=Object.assign({},e);return n===i?a.subscriptionCount--:n===r&&a.followerCount--,a}if(n!==r)return e;switch(t.type){case"USER_PROFILE_REQUEST":return t.payload.status===je.Success?Object.assign({},t.payload.value,{updateTimestamp:t.payload.timestamp}):e;case"USER_PROFILE_ONBOARDING_COMPLETE":if(null!==e)return Object.assign({},e,{privacy:{hideSubscriptions:!1,hideActivity:!1,hideInterests:!1}});case"USER_PROFILE_ONBOARDING_CLOSE":if(null!==e)return Object.assign({},e,{onboardingRequired:!1});case"USER_PROFILE_UPDATE":if(null!==e){var s=t.payload.params,c=s.about,u=void 0===c?e.about:c,l=s.hideSubscriptions,d=void 0===l?e.privacy.hideSubscriptions:l,p=s.hideActivity,f=void 0===p?e.privacy.hideActivity:p,m=s.hideInterests,h=void 0===m?e.privacy.hideInterests:m;return Object.assign({},e,{about:u,privacy:Object.assign({},e.privacy,{hideSubscriptions:d,hideActivity:f,hideInterests:h})})}case"USER_PROFILE_RESTORE":return t.payload.profile;default:return e}}}),wa=function(e){return fa(Ca,e)},Sa=ma({actionType:Ft,dataReducer:function(e,t,n){switch(void 0===e&&(e={ids:[],sources:{}}),t.type){case Ft:if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==je.Success)return e;var r=t.payload.value;if(r){var i=r.filter(function(e){return"subscribed"===e.status});return{ids:i.map(function(e){return e.id}),sources:i.reduce(function(e,t){var n;return Object.assign({},e,((n={})[t.id]=t,n))},Object.assign({},e.sources))}}return e}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_SUBSCRIBE":var o,a=t.payload.id;return-1===e.ids.indexOf(a)?{ids:[a].concat(e.ids),sources:Object.assign({},e.sources,(o={},o[a]=t.payload,o))}:e;case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":var s=t.payload.id,c=e.ids.indexOf(s);return-1!==c?Object.assign({},e,{ids:[].concat(e.ids.slice(0,c),e.ids.slice(c+1))}):e}return e}}),xa=function(e){return fa(Sa,e)},Oa=ma({actionType:jt,dataReducer:function(e,t,n){switch(void 0===e&&(e={ids:[],sources:{}}),t.type){case jt:if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==je.Success)return e;var r=t.payload.value;if(r){var i=r.filter(function(e){return"blocked"===e.status});return{ids:i.map(function(e){return e.id}),sources:i.reduce(function(e,t){var n;return Object.assign({},e,((n={})[t.id]=t,n))},Object.assign({},e.sources))}}return e}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_BLOCK":var o,a=t.payload.id;return-1===e.ids.indexOf(a)?{ids:[a].concat(e.ids),sources:Object.assign({},e.sources,(o={},o[a]=t.payload,o))}:e;case"SOURCE_SUBSCRIBE":case"SOURCE_UNSUBSCRIBE":case"SOURCE_UNBLOCK":var s=t.payload.id,c=e.ids.indexOf(s);return-1!==c?Object.assign({},e,{ids:[].concat(e.ids.slice(0,c),e.ids.slice(c+1))}):e}return e}}),Ra=function(e){return fa(Oa,e)},Ia=ma({actionType:"USER_FOLLOWERS_REQUEST",dataReducer:function(e,t,n){if(void 0===e&&(e={ids:[],sources:{}}),n===(t.payload&&t.payload.id))switch(t.type){case"USER_FOLLOWERS_REQUEST":if(t.payload.status!==je.Success)return e;var r=t.payload.value;return r?{ids:r.map(function(e){return e.id}),sources:r.reduce(function(e,t){var n;return Object.assign({},e,((n={})[t.id]=t,n))},{})}:e;case"SOURCE_SUBSCRIBE":var i,o=t.__data__&&t.__data__.selfUserId;return-1===e.ids.indexOf(o)?{ids:[o].concat(e.ids),sources:Object.assign({},e.sources,(i={},i[o]=t.payload,i))}:e;case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":var a=t.__data__&&t.__data__.selfUserId,s=e.ids.indexOf(a);return-1!==s?Object.assign({},e,{ids:[].concat(e.ids.slice(0,s),e.ids.slice(s+1))}):e}return e}}),Ta=function(e){return fa(Ia,e)},Na={id:"",state:{status:"inactive"}},Aa=function(e){return{id:e,state:{status:"inactive"}}},Pa=function(e){return{profile:wa(e),subscriptions:xa(e),blocked:Ra(e),followers:Ta(e),notifications:Aa(e)}},La=Object(Ea.a)({profile:Ca,subscriptions:Sa,blocked:Oa,followers:Ia,notifications:function(e,t){if(void 0===e&&(e=Na),(t.payload&&t.payload.id)!==e.id)return e;switch(t.type){case"USER_PROFILE_NOTIFICATIONS_CHANGE":return Object.assign({},e,{state:t.payload.state});default:return e}}}),Ma=(ka(function(e,t){switch(void 0===e&&(e={}),t.type){case"ADD_USER":var n,r=t.payload.userId;return e[r]?e:Object.assign({},e,((n={})[r]=Pa(r),n));default:return e}},function(e,t){void 0===e&&(e={});var n={};return Object.keys(e).forEach(function(r){var i=e[r],o=La(i,t);n[r]=o}),n}),ha({reducer:Sa,selector:function(e,t){return ja(e,t).subscriptions}})),Da=ha({reducer:Oa,selector:function(e,t){return ja(e,t).blocked}}),Ba=ha({reducer:Ia,selector:function(e,t){return ja(e,t).followers}}),ja=function(e,t){return e.users[t]||Pa(t)},Fa=(Object(Vt.createSelector)(function(e){return e.sources},function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return("subscribed"===r.status||r.isUnsubscribedInCurrentSession)&&t.push(n),t},[])}),Object(Vt.createSelector)(function(e){return e.sources},function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return("blocked"===r.status||r.isUnblockedInCurrentSession)&&t.push(n),t},[])}),Object(Vt.createSelector)(function(e){return e.auth},function(e){return e&&e.info&&e.info.uid||"SELF_USER_ID_FALLBACK"})),Ua=(Object(Vt.createSelector)(function(e){return e.router.location},Fa,function(e,t){if(!e)return t;var n=vn(e.pathname,{path:"/user/:uid(\\d*)"});return n&&n.params.uid||t}),ha({reducer:Ca,selector:function(e,t){return ja(e,t).profile}})),za=function(e){return{type:"ADD_USER",payload:{userId:e}}},Va=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(n){return n(za(t)),n(e.apply(void 0,[t].concat(r)))}}},Ha=function(e){var t={isFirstCall:!0};return function(){return t.isFirstCall&&(t={isFirstCall:!1,value:e.apply(void 0,arguments)}),t.value}},Wa=function(e){return"SELF_USER_ID_FALLBACK"===e?"":e},Ga=ya(function(e,t){return e.zenApi.getPreferences(Wa(t))}),qa=ya(function(e,t){return e.zenApi.getSocialProfile(Wa(t))}),Ka=ya(function(e,t){return e.zenApi.getUserSubscribers(Wa(t))}),Ya=function(e){return function(t){return function(){var n=Pn(regeneratorRuntime.mark(function n(r){var i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=Ha(Ga),o=_a({type:Ft,request:i,selector:Ma}).map(Va),a=o[0],s=o[1],c=_a({type:jt,request:i,selector:Da}).map(Va),u=c[0],l=c[1],!e){n.next=8;break}return n.next=6,Promise.all([r(s(t)),r(l(t))]);case 6:n.next=10;break;case 8:return n.next=10,Promise.all([r(a(t)),r(u(t))]);case 10:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},Qa=Ya(!0),Za=(Ya(!0),_a({type:"USER_PROFILE_REQUEST",request:qa,selector:Ua}).map(Va).map(function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(){var n=Pn(regeneratorRuntime.mark(function n(i,o){var a,s,c,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=o(),s=Fa(a),n.next=4,Promise.all([i(e.apply(void 0,[t].concat(r))),i(Qa(s))]);case 4:return c=n.sent,u=c[0],n.abrupt("return",u);case 7:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}})),$a=(Za[0],Za[1],Za[2],_a({type:"USER_FOLLOWERS_REQUEST",request:Ka,selector:Ba}).map(Va)),Ja=($a[0],$a[1],{links:hi,params:vi,shared:gi,context:bi,auth:_i,user:yi}),Xa={banner:"bannerStats",experiments_data:"experimentsData",client_definition:"clientDefinition",ice_start:"isIceStart",complaints:"complaints",bulk:"bulk"},es=function(e,t){var n=e.screens&&e.screens.items;if(!Array.isArray(n))return null;var r=n.filter(function(e){return e.type===t});return 1!==r.length?null:r[0].source},ts=function(e){return function(t,n,r){var o=r.zenApi,a=r.ttlController,s=e&&e.experimentsData&&e.experimentsData["ab:extend_feedback:extend_feedback_debug_client"],c=e&&e.experimentsData&&e.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"];(("boolean"==typeof s?s:s&&s.exp)||("boolean"==typeof c?c:c&&c.exp))&&e&&Array.isArray(e.items)&&e.items.forEach(function(e){e&&"customUserFeedbackData"in e&&e.customUserFeedbackData&&(e.customUserFeedbackData=null)}),a&&a.apiResponseReceived(i.Export,e),t({type:"CLEAR_FEED",payload:null});var u=Se.get(e,"grid_type.name");u&&t(function(e){return function(t){t(function(e){return{type:"SET_GRID_TYPE",payload:{gridType:e}}}(e)),t($o(Ae[e].initialDisplayedRowsNumber))}}(u)),e.items&&t(Go(e.items,!1,!1)),t(function(e){return{type:"SOURCE_MERGE",payload:e}}(e.channel)),e.commentsDoc&&t(function(e){return{type:"RECEIVE_COMMENTS_DOC",payload:{doc:e}}}(e.commentsDoc)),t(function(e){var t,n=((t={})[i.Onboarding]=Se.get(e,"onboarding.link")||null,t[i.More]=Se.get(e,"more.link")||null,t[i.Bulk]=Se.get(e,"bulk.link")||null,t[i.ClientLogs]=Se.get(e,"client_logs.link")||null,t[i.Subs]=es(e,"subs")||es(e,"switchable_subs"),t[i.Profile]=es(e,"profile"),t[i.Category]=es(e,"category"),t[i.Categories]=es(e,"categories"),t[i.Suggest]=es(e,"suggest"),t[i.Blocked]=es(e,"blocked"),t[i.Preferences]=es(e,"preferences"),t[i.Subscribers]=es(e,"subscribers"),t[i.BlockedSuggest]=es(e,"blocked_suggest"),t[i.VideoRecommend]=es(e,"video_recommend"),t[i.CountryLang]=es(e,"language"),t[i.CommentsCounter]=es(e,"comments_counter"),t[i.CommentsInfos]=es(e,"comments_infos"),t[i.SendAppLinkSms]=es(e,"send_app_link_sms"),t[i.SocialProfile]=es(e,"social_profile"),t[i.SocialActivityFeed]=es(e,"social_activity_feed"),t[i.SocialProfileEdit]=es(e,"social_profile_edit"),t[i.SocialInterestsFeedback]=es(e,"social_interests_feedback"),t[i.ProfileOnboardingShown]=es(e,"profile_onboarding_shown"),t[i.ProfileCompleteOnboarding]=es(e,"profile_complete_onboarding"),t[i.ProfileDeactivate]=es(e,"profile_deactivate"),t[i.ProfileCancelDeactivate]=es(e,"profile_cancel_deactivate"),t[i.AllChannelsLink]=Se.get(e,"links.all_channels_link"),t);return hi(n)}(e)),t(function(e){var t=ft(Xa).reduce(function(t,n){return t[Xa[n]]=e[n],t},{});return vi(t)}(e)),t(Ei({rid:Se.get(e,"rid")})),t({type:"APPLY_EXPORT_DATA",payload:{exportData:e,currentTime:Date.now()}}),e.id&&o.packUsed(e.id)}},ns=function(e){return function(t,n){var r=e.exportData,i=e.isExportDataParsed,o=void 0===i||i,a=e.initialDisplayedRowsNumber,s=e.params,c=e.comments;if(ft(Ja).forEach(function(n){var r=e[n];r&&t((0,Ja[n])(r))}),t(za(Fa(n()))),r){var u=o?r:Bt(r);t(ts(u))}c&&t(function(e){return function(){var t=Pn(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"INIT_COMMENTS",payload:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(c)),a&&t($o(a)),s&&s.isChildPage&&t(function(e){return{type:"SET_IS_CHILD_WINDOW",payload:e}}(!0)),t(function(e,t){var n=t(),r=n.shared.scrollToID;if(r){var i=Fr(n).displayedRowsNumber,o=Kr(n).rows.findIndex(function(e){return e.some(function(e){return e.id===r})});e($o(o+i))}})}},rs=function(e){return function(t){return function(n){return function(r){var i=Se.get(r,"payload.id"),o=t.getState(),a=function(e,t){var n={};if(t){var r=Kr(e).elements;n.rowIndex=r&&r[t]&&r[t].row}return n}(o,i),s=e.zenApi;if(r.statEvent){var c=r.statEvent,u=Ur(o,i),l=u.statEvents,d=u.bulkParams;(0,Ii(d,l,a,s).log)(c,r.loggerParams)}if(r.bulkStat){var p=r.bulkStat,f=p.statEvents,m=p.statEvent,h=p.bulkParams,v=f[m];s.logBulkEvent({event:v,bulkParams:h,statMeta:a})}return n(r)}}}};!function(e){e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.Blocked="blocked",e.Unblocked="unblocked"}(Bo||(Bo={}));var is=((Do={}).SOURCE_BLOCK=Bo.Blocked,Do.SOURCE_UNBLOCK=Bo.Unblocked,Do.SOURCE_SUBSCRIBE=Bo.Subscribed,Do.SOURCE_UNSUBSCRIBE=Bo.Unsubscribed,Do),os=function(e){return function(){return function(t){return function(n){var r=n.type,i=n.payload,o=e.outputBus;if(is[r]&&i){var a=i.id;o.emit("sourceChange",{id:a,type:is[r]})}return t(n)}}}},as=n(138),ss=n(154),cs=n.n(ss),us=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return function(){var r=[],i=r,o=0;return as.a.apply(void 0,[function(){return function(e){return function(t){var n,a="function"==typeof t;a&&o++;try{n=e(t)}finally{a&&o--}if(0===o)for(var s=r=i,c=0;c<s.length;c++)s[c]();return n}}},cs.a.withExtraArgument(e)].concat(n))(function(e){return function(){var t=e.apply(void 0,arguments),n=function(){i===r&&(i=r.slice())};return Object.assign({},t,{subscribe:function(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");var t=!0;return n(),i.push(e),function(){if(t){t=!1,n();var r=i.indexOf(e);i.splice(r,1)}}}})}}(t)).apply(void 0,arguments)}}}},ls=us();ls.withExtraArgument=us;n(198);var ds,ps=function(e){return[function(e){return function(t){return function(n){var r=e.getState(),i=Fa(r);return t(Object.assign({},n,{__data__:{selfUserId:i}}))}}},rs(e),os(e)]},fs=function(e,t,n){return void 0===n&&(n="page"),ls.withExtraArgument(t).apply(void 0,e)},ms=function(e,t){return e+"("+function(e){return e.displayName||e.name||"Component"}(t)+")"},hs=function(e){return e},vs=Object(p.createContext)(hs({})),gs=function(){return Object(p.useContext)(vs)},bs=function(e){return function(t){var n=function(n){var r=gs();return f.a.createElement(t,qt({},n,e(r,n)))};return n.displayName=ms("WithZenContext",t),n}},_s=function(){function e(e){var t=this;ys.call(this);var n=e.getState();this.store=e,Mr(n).zenkitNotificaitons&&Pn(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:n=e.sent,r=n.notifications,t.updateNotifications(r),t.on("notifications",function(e){t.updateNotifications(e.data)});case 6:case"end":return e.stop()}},e)}))()}var t=e.prototype;return t.init=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=window.ZENKIT_LAUNCH_OPTIONS)||((t=window.ZENKIT_LAUNCH_OPTIONS=new Promise(function(e){n=e})).resolve=n),e.next=4,t;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),t.close=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.close());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.requestCookieAuthURL=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.requestCookieAuthURL(t,n,r));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.channelStatusChanged=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.channelStatusChanged(t,n,r));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.navigateBrowser=function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("BROWSER",t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.navigateChannel=function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("CHANNEL",t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.navigateSubscriptions=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("SUBSCRIPTIONS"));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.navigateSettings=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("SETTINGS"));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.navigateHistory=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("HISTORY"));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.navigateEditor=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("EDITOR"));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.navigateEditorPost=function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("EDITOR_POST",t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.navigateNotifications=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("NOTIFICATIONS"));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.navigateProfile=function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.navigate("PROFILE",t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.onReady=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.onReady());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.onError=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.onError());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.on=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.on(t,n));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.off=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return e.abrupt("return",window.ZENKIT.off(t,n));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),e}(),ys=function(){var e=this;this.updateNotifications=function(t){e.store.dispatch(function(e){return function(t,n){var r=n(),i=Fa(r);t(za(i)),t({type:"USER_PROFILE_NOTIFICATIONS_CHANGE",payload:{id:i,state:e}})}}(t))}},Es=Object(p.createContext)(null),ks=n(46),Cs=Ea.a,ws=ks.b,Ss="undefined"!=typeof window,xs=function(e,t){return t},Os=(n(222),Object(Vt.createSelector)(function(e){return e.params.host},function(e){return e.params.clid},function(e){return e.params.countryCode},function(e){return e.params.zenFeatures},function(e){return e.params.clientExperiments},function(e){return e.links},function(e){return e.user},function(e){return e.params.referrerClid},function(e){return e.params.referrerPlace},function(e,t,n,r,i,o,a,s,c){return{host:e,clid:t,countryCode:n,zenFeatures:r,clientExperiments:i,links:o,userInfo:a,referrerClid:s,referrerPlace:c}})),Rs=function(e){var t=e.items,n={id:Pe(me.SIMILAR),type:me.SIMILAR,items:{docs:[],direct:[],sources:[],rtb:[]}},r=n.items,i=r.docs,o=r.direct,a=r.sources,s=r.rtb;return t.forEach(function(e){switch(e.type){case"channel":case"interest":var t=Ke({source:e,stat_params:e.stat_params});t&&a.push(t);break;case"small_card":i.push(function(e){var t={title:e.title||"",text:e.text||"",link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:Je(e.ad),rocket:Boolean(e.zen_logo),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link};return e.card_colors?t.cardColors={card:e.card_colors.card,text:e.card_colors.text}:e.main_color&&(t.mainColor=e.main_color),t}(e));break;case"ad":var n=Me(e);n&&o.push(n);break;case"rtb":var r=Je(e.ad);r&&s.push({type:e.type,ad:r})}}),n};!function(e){e.Default="default",e.Reload="reload",e.NoCache="no-cache",e.NoStore="no-store"}(ds||(ds={}));var Is=/[?&]([^&#]*)/,Ts=function(e){var t={},n=e.indexOf("?");if(-1===n)return t;for(var r=n;;){var i=e.slice(r).match(Is);if(!i)break;r+=i[0].length;var o=i[1].split("="),a=o[0],s=o[1],c=void 0===s?"":s;a&&(t[decodeURIComponent(a)]=decodeURIComponent(c))}return t},Ns=function(e){var t=ft(e);return 0===t.length?"":t.reduce(function(t,n){var r=e[n];return n&&void 0!==r?""+t+(0===t.length?"?":"&")+encodeURIComponent(n)+"="+encodeURIComponent(r):t},"")},As=function(e,t){var n=Object.assign({},Ts(e),t),r=e.indexOf("?"),i=e.indexOf("#"),o=-1!==i?i:e.length,a=-1!==r?r:o;return e.slice(0,a)+Ns(n)+e.slice(o)},Ps=(n(99),n(70),n(100),n(145),n(146),n(104)),Ls=n.n(Ps),Ms=function(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i];t.includes(o)||(r[o]=e[o])}return r},Ds={},Bs={get:function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds[t]);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ds[t]=n;case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete Ds[t];case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),isEnabled:function(){return!0},keys:function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(Ds));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},js="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Fs=null,Us=function(e,t){return(js?(Fs||(Fs=new Promise(function(e,t){var n=js.open("zen-db",1);n.onerror=function(){t(n.error)},n.onupgradeneeded=function(){n.result.createObjectStore("zen-api-cache")},n.onsuccess=function(){e(n.result),n.result.onclose=function(){Fs=null}}})),Fs):Promise.reject(new Error("indexedDB is not supported."))).then(function(n){return new Promise(function(r,i){var o=n.transaction("zen-api-cache",e);o.oncomplete=function(){r()},o.onerror=function(){i(o.error)},t(o.objectStore("zen-api-cache"))})})},zs=function(e){var t;return Us("readonly",function(n){t=n.get(e)}).then(function(){return t.result})},Vs=function(e,t){return Us("readwrite",function(n){n.put(t,e)})},Hs=function(e){return Us("readwrite",function(t){t.delete(e)})},Ws=function(){var e=[];return Us("readonly",function(t){var n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=function(){n.result&&(e.push(n.result.key),n.result.continue())}}).then(function(){return e})},Gs={get:function(e){return zs(e)},put:function(e,t){return Vs(e,t)},remove:function(e){return Hs(e)},isEnabled:function(){return Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB))},keys:function(){return Ws().then(function(e){var t=[];return e.forEach(function(e){"string"==typeof e&&t.push(e)}),t})}};var qs,Ks,Ys,Qs=["zenFeatures","clientExperiments"],Zs=function(e){if(!e.items)throw new Error("Invalid api response to put in cache.")},$s=function(e,t,n,r){var i=e&&e.userId&&t&&t.userId&&e.userId===t.userId&&Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled)&&("number"!=typeof e.clid||e.clid===t.clid)&&("number"!=typeof e.referrerClid||e.referrerClid===t.referrerClid)&&("string"!=typeof e.referrerPlace||e.referrerPlace===t.referrerPlace)&&("string"!=typeof e.countryCode||e.countryCode===t.countryCode)&&Ls()(e.feedFilter,t.feedFilter)&&Ls()(e.zenFeatures&&Ms(e.zenFeatures,r),t.zenFeatures&&Ms(t.zenFeatures,r)),o=!0;if(e&&Array.isArray(e.clientExperiments)){var a=function(e,t){var n=[];return e&&Array.isArray(e.clientExperiments)&&n.push.apply(n,e.clientExperiments),t.experimentsData&&Object.keys(t.experimentsData).forEach(function(e){var r=t.experimentsData[e];r&&r.exp&&n.push(e)}),n}(t,n);o=e.clientExperiments.every(function(e){return a.includes(e)})}if(!i||!o)throw new Error("ZenApi cache is not valid.")},Js=function(){function e(e,t){this._zenApi=e,this._eventEmitter=t}var t=e.prototype;return t._getStorage=function(){var e=this._zenApi.getConfig();if(e.cache)switch(e.cache.type){case o.MultiSessionCache:if(Gs.isEnabled())return Gs;if(Bs.isEnabled())return Bs;break;case o.SessionCache:if(Bs.isEnabled())return Bs}throw new Error("ZenApi cache is not enabled.")},t._getRecordKey=function(e,t){void 0===t&&(t=this.getCurrentCacheId());var n=this._zenApi.getConfig(),r=n.cache&&n.cache.namespace;if(!r)throw new Error("ZenApi cache.namespace is not configured.");return r+"-"+e+t},t.getCurrentCacheId=function(){var e=this._zenApi.getConfig(),t="";e.cache&&e.cache.useLocalNamespaces&&(t="("+function(e){return function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(Object.entries(e).filter(function(e){var t=e[0];return!Qs.includes(t)}).sort(function(e,t){var n=e[0],r=t[0];return n.localeCompare(r)}).map(function(e){return e[0]+"="+e[1]}).join("")).toString()}(this.getValidationParams())+")");return t},t._get=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._getStorage(),i=n&&n.cacheId,o=this._getRecordKey(t,i),e.next=5,r.get(o);case 5:return a=e.sent,this.validateRecord(a,n),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t._put=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,r,i,o){var a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._getStorage(),s=this._getRecordKey(t,o),c=this.createRecord(n,r,i),e.next=5,a.put(s,c);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),t._remove=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._getStorage(),i=this._getRecordKey(t,n),e.next=4,r.remove(i);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.getValidationParams=function(){var e=this.getValidationUserId(),t=this._zenApi.getConfig();return{clid:t.clid,referrerClid:t.referrerClid,referrerPlace:t.referrerPlace,feedFilter:t.feedFilter,countryCode:t.countryCode,clientExperiments:t.clientExperiments,userId:e,zenFeatures:t.zenFeatures,isAdblockEnabled:t.isAdblockEnabled}},t.getValidationUserId=function(){var e=this._zenApi.getConfig().userInfo,t=e.oauthToken,n=e.login,r=e.deviceId,i=e.profileId,o=e.yandexuid;return t||n||function(){var e=("; "+document.cookie).match(/; yandex_login=([^;]*)/);return e&&e[1]}()||r||i||o||function(){var e=("; "+document.cookie).match(/; yandexuid=([^;]*)/);return e&&e[1]}()},t.createRecord=function(e,t,n){var r=this._zenApi.getConfig().apiResponseValidator,i=Bt(t,this.getCurrentCacheId());return Zs(i),r(i),{type:e,apiResponse:t,params:n}},t.validateRecord=function(e,t){var n=void 0===t?{}:t,r=n.byStoreTtl,i=void 0!==r&&r,o=n.ignoredZenFeatures,a=void 0===o?[]:o;!function(e){if(!(e&&e.type&&e.apiResponse&&e.params))throw new Error("Invalid cache record scheme.")}(e);var s=this._zenApi.getConfig().apiResponseValidator,c=Bt(e.apiResponse),u=this.getValidationParams();!function(e,t){var n=e.receivedAt,r=e.ttl,i=e.storeTtl,o=t?i:r;if(!("number"==typeof n&&"number"==typeof o&&n+o>Date.now()))throw new Error("Invalid cache "+(t?"store-ttl":"ttl")+".")}(c,i),$s(u,e.params,c,a),Zs(c),s(c)},t.getNotShownPack=function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._get("not-shown-pack",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getLastShownPack=function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._get("last-shown-pack",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.putNotShownPack=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=this.getValidationParams()),e.next=3,this._put("not-shown-pack",t,n,i);case 3:this._eventEmitter.emit(r.NotShownPackUpdated,t,n,i);case 4:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.putLastShownPack=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,i,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=this.getValidationParams()),e.next=3,this._put("last-shown-pack",t,n,i,o);case 3:this._eventEmitter.emit(r.LastShownPackUpdated,t,n,i);case 4:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),t.removeNotShownPack=function(e){return this._remove("not-shown-pack",e)},t.removeLastShownPack=function(e){return this._remove("last-shown-pack",e)},t.clearOverflowCache=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,s,c,u,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._zenApi.getConfig(),n=t.cache&&t.cache.namespace,n&&t.cache.useLocalNamespaces){e.next=5;break}return e.abrupt("return");case 5:return r=this._getStorage(),e.next=8,r.keys();case 8:if(!((i=e.sent).length<25)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,this._getAllRecordsMappedWithKeys(r,i);case 13:o=e.sent,a=o.sort(function(e,t){var n=e.record;return t.record.apiResponse.received_at-n.apiResponse.received_at}).splice(11),s=a,c=Array.isArray(s),u=0,s=c?s:s[Symbol.iterator]();case 16:if(!c){e.next=22;break}if(!(u>=s.length)){e.next=19;break}return e.abrupt("break",32);case 19:l=s[u++],e.next=26;break;case 22:if(!(u=s.next()).done){e.next=25;break}return e.abrupt("break",32);case 25:l=u.value;case 26:return d=l.key,e.next=30,r.remove(d);case 30:e.next=16;break;case 32:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._getAllRecordsMappedWithKeys=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=n,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();case 2:if(!o){e.next=8;break}if(!(a>=i.length)){e.next=5;break}return e.abrupt("break",19);case 5:s=i[a++],e.next=12;break;case 8:if(!(a=i.next()).done){e.next=11;break}return e.abrupt("break",19);case 11:s=a.value;case 12:return c=s,e.next=15,t.get(c);case 15:u=e.sent,r.push({record:u,key:c});case 17:e.next=2;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),e}(),Xs=function(e){var t=e.ok,n=e.url,r=e.status,i=e.statusText;if(!t)throw new Error(n+" "+r+" ("+i+")");return function(e){var t=e.headers.get("Content-Type");return t&&-1!==t.indexOf("application/json;")?e.json():e.text()}(e)},ec=function(e,t){void 0===t&&(t={});var n=t,r=n.params,i=n.timeout,o=void 0===i?6e4:i,a=n.credentials,s=void 0===a?"include":a,c=an(n,["params","timeout","credentials"]),u=r?As(e,r):e;return new Promise(function(e,t){fetch(u,Object.assign({credentials:s},c)).then(Xs).then(e,t),jn(o).then(function(){t(new Error("Request timeout."))})})},tc=function(e,t){return void 0===t&&(t={}),ec(e,Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:String(Date.now())})}))},nc=function(e){void 0===e&&(e={});var t=Object.assign({Accept:"application/json;"},e.headers),n=e.method,r=void 0===n?"POST":n,i=e.body;return t["Content-Type"]||(t["Content-Type"]="application/json;",i&&"string"!=typeof i&&(i=JSON.stringify(i))),Object.assign({},e,{method:r,headers:t,body:i})},rc=function(e,t){return void 0===t&&(t={}),ec(e,nc(t))},ic=function(e,t){return void 0===t&&(t={}),ec(e,nc(t))},oc=function(){function e(e){this._zenApiInstance=e}var t=e.prototype;return t._getExtraHeaders=function(){var e={},t=this._zenApiInstance.getConfig(),n=t.userInfo,r=t.zenFeatures,i=t.clientExperiments;return n.oauthToken&&(e.Authorization="OAuth "+n.oauthToken),Object.keys(r).length>0&&(e["Zen-Features"]=JSON.stringify(r)),e["Zen-Client-Experiments"]=["zen-version:2.225.3"].concat(Array.isArray(i)&&i.length>0?i:[]).join(", "),e},t.makeApiRequest=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),r=n.noExtraHeaders?{}:this._getExtraHeaders(),i=n.method,o={params:n.params,headers:Object.assign({},r,n.headers),mode:n.mode,method:i},!n.body){e.next=17;break}if(s=Object.assign({},o,{body:n.body}),"PUT"!==i){e.next=12;break}return e.next=9,ic(t,s);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,rc(t,s);case 14:a=e.sent;case 15:e.next=20;break;case 17:return e.next=19,tc(t,o);case 19:a=e.sent;case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),e}(),ac=function(){function e(){this._eventEmitter=new s,this._config={limits:{docImages:10}},this.addListener=this._eventEmitter.on.bind(this._eventEmitter),this.removeListener=this._eventEmitter.off.bind(this._eventEmitter)}var t=e.prototype;return t.onNetworkResponse=function(e){var t=this._getUrlsToPreload(e);this._eventEmitter.emit("updatePreload",t)},t._getUrlsToPreload=function(e){var t=[];return e&&e.items&&(t=t.concat(e.items.map(function(e){return e.cardBackgroundWhiteImage}).filter(Boolean).slice(0,this._config.limits.docImages))),t},e}(),sc=function(e){return{email:e.email,name:e.name,avatar:e.avatar}},cc=function(e){return{count:e.count,externalUrl:e.external_url}},uc=function(e){return{country:e.country,externalUrl:e.external_url}},lc=function(e){return{externalUrl:e.external_url}},dc=function(e){return{statEvents:e.stat_events,bulkParams:e.bulk_params,disabled:e.disabled}},pc={"user-info":function(e){return{userInfo:sc(e)}},"no-user":function(e){return{noUser:lc(e)}},"blocked-count":function(e){return{blockedCount:cc(e)}},video:function(e){return{video:dc(e)}},autoplay:function(e){return{autoplay:{}}},language:function(e){return{language:uc(e)}},feedback:function(e){return{feedback:lc(e)}},eula:function(e){return{eula:lc(e)}},logout:function(e){return{logout:lc(e)}}},fc=function(e){var t=e.items.reduce(function(e,t){return Object.assign({},e,pc[t.type](t))},{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t},mc=function(e){return{link:e.link,title:e.title,image:e.image,name:e.name,statEvents:e.stat_events,bulkParams:e.bulk_params}},hc=function(e){return{sources:Ye(e),category:e.category&&mc(e.category)}},vc=function(e){var t,n=e.items.filter(function(e){return"carousel"===e.type}).map(function(e){return e.sources}),r=[];0!==n.length&&(r=function(e){return e.filter(Boolean)}((t=[]).concat.apply(t,n).map(Ke)));var i=e.items.filter(function(e){return"list_item"===e.type}).map(mc);return{sources:r,list:mt(i,function(e){return e.name})}},gc=function(e){var t=e.country_id,n=e.language_ids,r=e.countries,i=e.languages;return{countryId:t,languageIds:n.reduce(function(e,t){return e[t]=!0,e},{}),countries:r.map(function(e){return{code:e.code,langs:e.langs,name:e.name}}),languages:i}},bc=function(e){var t=e.items;return(void 0===t?[]:t).reduce(function(e,t){if(t.type===me.GIF){var n=ut(t);n&&e.push(n)}return e},[])},_c=function(e){var t={};return Object.keys(e).forEach(function(n){t[n]={count:e[n],id:void 0,text:void 0,authorName:void 0,authorAvatar:void 0}}),t},yc=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];t[n]={count:r.count,id:r.id,text:r.text,authorName:r.authorName,authorAvatar:r.authorAvatar}}),t},Ec=function(e){return{status:e.status,uid:e.uid,avatarUrl:e.avatarUrl,name:e.name,about:e.about,followerCount:e.followerCount,subscriptionCount:e.subscriptionCount,backgroundColor:e.backgroundColor,textColor:e.textColor,interests:e.interests.map(qe),privacy:e.privacy?{hideInterests:e.privacy.hideInterests,hideActivity:e.privacy.hideActivity,hideSubscriptions:e.privacy.hideSubscriptions}:{hideInterests:!0,hideActivity:!0,hideSubscriptions:!0},isSleeping:e.isSleeping,onboardingRequired:e.onboardingRequired,csrfToken:e.csrfToken,passportRetPathPlaceholder:e.passportRetPathPlaceholder,passportAvatarEditLink:e.passportAvatarEditLink,passportDisplayNameEditLink:e.passportDisplayNameEditLink,source:Ke(e.source),isDeactivated:"deleted"===e.status,isNotExist:"not_exist"===e.status}};!function(e){e.GetBeforeNetwork="GET_BEFORE_NETWORK",e.PutAfterNetwork="PUT_AFTER_NETWORK",e.GetAfterNetwork="GET_AFTER_NETWORK"}(Ys||(Ys={}));for(var kc=((qs={})[ds.Default]=[Ys.GetBeforeNetwork,Ys.PutAfterNetwork,Ys.GetAfterNetwork],qs[ds.Reload]=[Ys.PutAfterNetwork,Ys.GetAfterNetwork],qs[ds.NoCache]=[Ys.PutAfterNetwork],qs[ds.NoStore]=[],qs),Cc={zenFeatures:{},clientExperiments:null,apiResponseValidator:function(){return null},links:(Ks={},Ks[i.Onboarding]=null,Ks[i.Export]=null,Ks[i.More]=null,Ks[i.Bulk]=null,Ks[i.Subs]=null,Ks[i.Profile]=null,Ks[i.Blocked]=null,Ks[i.Preferences]=null,Ks[i.Subscribers]=null,Ks[i.Categories]=null,Ks[i.Category]=null,Ks[i.Suggest]=null,Ks[i.BlockedSuggest]=null,Ks[i.VideoRecommend]=null,Ks[i.CountryLang]=null,Ks[i.CommentsCounter]=null,Ks[i.CommentsInfos]=null,Ks[i.SocialActivityFeed]=null,Ks[i.SocialInterestsFeedback]=null,Ks[i.ClientLogs]=null,Ks[i.PublisherConfig]=null,Ks[i.SendAppLinkSms]=null,Ks[i.SocialProfile]=null,Ks[i.SocialProfileEdit]=null,Ks[i.ProfileOnboardingShown]=null,Ks[i.ProfileCompleteOnboarding]=null,Ks[i.ProfileDeactivate]=null,Ks[i.ProfileCancelDeactivate]=null,Ks[i.AllChannelsLink]=null,Ks[i.CurrentUserSubscriptions]=null,Ks[i.CurrentUserInterests]=null,Ks),userInfo:{oauthToken:null,login:null,deviceId:null,profileId:null,yandexuid:null,partnerId:null,adId:void 0},cache:{type:o.SessionCache,namespace:"common",isPrefetchEnabled:!0,useLocalNamespaces:!1},chromeExtensionId:null,feedFilter:void 0},wc=function(){function e(e){var t=this;this._config=Cc,this._eventEmitter=new s,this._cache=new Js(this,this._eventEmitter),this._network=new oc(this),this._preload=new ac,this._queue=Promise.resolve(),this._lastUsedPackId=null,this._lastUsedPackShown=!1,this._debouncedUpdateNotShownPack=Fi(function(e){return t._updateNotShownPack(e)},d),this.on=this._eventEmitter.on.bind(this._eventEmitter),this.off=this._eventEmitter.off.bind(this._eventEmitter),this.addListener=this._eventEmitter.on.bind(this._eventEmitter),this.removeListener=this._eventEmitter.off.bind(this._eventEmitter),e&&this.configure(e)}var t=e.prototype;return t._isCacheEnabledForStep=function(e,t){if(!this._config.cache)return!1;var n=kc[t];if(!n)throw new Error("Cache mode '"+t+"' is not exist.");return n.includes(e)},t.getDevQueryParams=function(){var e=Ts(window.location.href);return{experiment:e.experiment,excludeExperiments:e.excludeExperiments,telemetry:e.telemetry}},t.getCommonQueryParams=function(){var e=this._config,t=e.host,n=e.clid,r=e.referrerClid,i=e.referrerPlace,o=e.countryCode,a=e.channelName,s=e.channelId,c=e.interestName,u={};if(!t)throw new Error("ZenApi host is not configured.");return Object.assign({},u,{clid:n,country_code:o,referrer_clid:r,referrer_place:i,channel_name:a,channel_id:s,interest_name:c})},t._getApiRequestUrl=function(e){var t,n,r=((t={})[i.Export]="export",t[i.PublisherConfig]="publisher-config",t[i.CurrentUserSubscriptions]="subscriptions",t),o=((n={})[i.CurrentUserInterests]="api/social/current-user-interests",n),a=r[e];if(a){var s=this._config,c=s.host,u=s.userInfo,l=this.getCommonQueryParams();return u&&u.partnerId&&(l.partner_user_id=String(u.partnerId)),u&&u.adId&&(l.user_ad_id=String(u.adId)),As(c+"api/v3/launcher/"+a,l)}var d=o[e];if(d){var p=this._config.host,f=this.getCommonQueryParams();return As(""+p+d,f)}var m=this._config.links[e];if(!m)throw new Error("ZenApi "+e+" url is not configured.");return m},t._getApiRequestUrlWithUid=function(e,t){return this._getApiRequestUrl(e).replace("__uid__",t)},t._getApiResponseFromNetworkAndMaybePutItToCache=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,i,o,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),r=this._getApiRequestUrl(t),i=n.cache||ds.Default,o=this._cache.getValidationParams(),e.next=6,this._network.makeApiRequest(r,n);case 6:return s=e.sent,c=Object.assign({},s,{received_at:Date.now()}),u=Bt(c,this._cache.getCurrentCacheId()),this._config.apiResponseValidator(u),this._isCacheEnabledForStep(Ys.PutAfterNetwork,i)&&(this._cache.putNotShownPack(t,c,o).catch(function(){}),this._preload.onNetworkResponse(u)),e.abrupt("return",{apiResponse:u,source:a.Network});case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t._getApiResponseFromCacheBeforeNetwork=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cache.getNotShownPack();case 2:if(n=e.sent,r=Bt(n.apiResponse,this._cache.getCurrentCacheId()),t!==i.More||n.type!==i.Export){e.next=6;break}throw new Error("Can not apply cache from export to more request.");case 6:if(this._lastUsedPackId!==r.id){e.next=8;break}throw new Error("Pack '"+r.id+"' has already been used.");case 8:return e.abrupt("return",{apiResponse:r,source:a.CacheBeforeNetwork});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._getApiResponseFromCacheAfterNetwork=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._cache.getNotShownPack({byStoreTtl:!0});case 3:t=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this._cache.getLastShownPack({byStoreTtl:!0});case 10:t=e.sent;case 11:return e.abrupt("return",{apiResponse:Bt(t.apiResponse),source:a.CacheAfterNetwork});case 12:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),t._getApiResponse=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),r=n.cache||ds.Default,!this._isCacheEnabledForStep(Ys.GetBeforeNetwork,r)){e.next=11;break}return e.prev=3,e.next=6,this._getApiResponseFromCacheBeforeNetwork(t);case 6:o=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(o){e.next=32;break}return e.prev=12,e.next=15,this._getApiResponseFromNetworkAndMaybePutItToCache(t,n);case 15:o=e.sent,e.next=32;break;case 18:if(e.prev=18,e.t1=e.catch(12),a=t===i.Export,!this._isCacheEnabledForStep(Ys.GetAfterNetwork,r)||!a){e.next=30;break}return e.prev=22,e.next=25,this._getApiResponseFromCacheAfterNetwork();case 25:o=e.sent,e.next=30;break;case 28:e.prev=28,e.t2=e.catch(22);case 30:if(o){e.next=32;break}throw e.t1;case 32:return this._updateNotShownPack(),e.abrupt("return",o);case 34:case"end":return e.stop()}},e,this,[[3,9],[12,18],[22,28]])}));return function(t,n){return e.apply(this,arguments)}}(),t._hasValidNotShownPackInCache=function(){var e=Pn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._getApiResponseFromCacheBeforeNetwork(t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),t._updateNotShownPack=function(e){var t=this,n=void 0===e?{}:e,r=n.invalidate,o=void 0!==r&&r,a=n.requestType;this._config.cache&&this._config.cache.isPrefetchEnabled&&this._addToQueue(Pn(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a||i.More,e.t0=o,e.t0){e.next=6;break}return e.next=5,t._hasValidNotShownPackInCache(n);case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=14;break}return e.prev=7,e.next=10,t._getApiResponseFromNetworkAndMaybePutItToCache(n);case 10:e.next=14;break;case 12:e.prev=12,e.t1=e.catch(7);case 14:case"end":return e.stop()}},e,null,[[7,12]])})))},t._addToQueue=function(e){var t=this._queue=this._queue.then(function(){return e()},function(){return e()});return t.catch(function(){}),t},t.configure=function(e){this._config="function"==typeof e?e(this._config):e},t.getConfig=function(){return this._config},t.getExport=function(e){var t=this;return this._addToQueue(function(){return t._getApiResponse(i.Export,e)})},t.getMore=function(){var e=this;return this._addToQueue(function(){return e._getApiResponse(i.More)})},t.getSimilar=function(e){return this._network.makeApiRequest(e).then(Rs)},t.sendBannerStats=function(e){return this._network.makeApiRequest(e)},t.sendAppLinkSms=function(e){var t=this._getApiRequestUrl(i.SendAppLinkSms);return this._network.makeApiRequest(t,{params:{phone:e}})},t.getPublisherConfig=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getApiRequestUrl(i.PublisherConfig),e.next=3,this._network.makeApiRequest(t);case 3:return n=e.sent,e.abrupt("return",Bt(n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getProfile=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getApiRequestUrl(i.Profile),e.next=3,this._network.makeApiRequest(t);case 3:return n=e.sent,e.abrupt("return",fc(n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getSuggest=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.Suggest),e.next=3,this._network.makeApiRequest(n,{params:{search_text:t}});case 3:return r=e.sent,e.abrupt("return",Ye(r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getBlockedSuggest=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.BlockedSuggest),e.next=3,this._network.makeApiRequest(n,{params:{search_text:t}});case 3:return r=e.sent,e.abrupt("return",Ye(r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getCategories=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getApiRequestUrl(i.Categories),e.next=3,this._network.makeApiRequest(t);case 3:return n=e.sent,e.abrupt("return",vc(n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getCategory=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.Category).replace("__name__",t),e.next=3,this._network.makeApiRequest(n);case 3:return r=e.sent,e.abrupt("return",hc(r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getPreferences=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),r=this._getApiRequestUrlWithUid(i.Preferences,t),e.next=4,this._network.makeApiRequest(r,n);case 4:return o=e.sent,e.abrupt("return",Ye(o));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.getVideoRecommend=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getApiRequestUrl(i.VideoRecommend),e.next=3,this._network.makeApiRequest(t);case 3:return n=e.sent,e.abrupt("return",bc(n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getCountryLang=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getApiRequestUrl(i.CountryLang),e.next=3,this._network.makeApiRequest(t);case 3:return n=e.sent,e.abrupt("return",gc(n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getCommentsCounters=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.CommentsCounter),e.next=3,this._network.makeApiRequest(n,{body:{documentIds:t},mode:"cors",noExtraHeaders:!0,method:"POST"});case 3:return r=e.sent,e.abrupt("return",_c(r.counts));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getCommentsInfos=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.CommentsInfos),e.next=3,this._network.makeApiRequest(n,{body:{documentIds:t},mode:"cors",noExtraHeaders:!0,method:"POST"});case 3:return r=e.sent,e.abrupt("return",yc(r.infos));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.setCountryLang=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._getApiRequestUrl(i.CountryLang),e.next=3,this._network.makeApiRequest(r,{body:{country_id:t,language_ids:n}});case 3:this.invalidateCache();case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.getSocialProfile=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrlWithUid(i.SocialProfile,t),e.next=3,this._network.makeApiRequest(n);case 3:return r=e.sent,e.abrupt("return",Ec(r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getUserSubscribers=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrlWithUid(i.Subscribers,t),e.next=3,this._network.makeApiRequest(n);case 3:return r=e.sent,e.abrupt("return",Ye(r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.updateSocialProfile=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.SocialProfileEdit),e.next=3,this._network.makeApiRequest(n,{headers:{"x-csrf-token":t.token},method:"PUT",body:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.prefetch=function(){this._updateNotShownPack()},t.invalidateCache=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cache.removeNotShownPack();case 2:this._debouncedUpdateNotShownPack();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.clearCache=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cache.removeNotShownPack();case 2:return e.next=4,this._cache.removeLastShownPack();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.packUsed=function(e){this._lastUsedPackId=e,this._lastUsedPackShown=!1},t.packShown=function(e,t){var n=this,i=this._lastShownPackId===e&&this._lastShownCacheId===t;if(this._config.cache&&!i){this._setLastShownPack(e,t);var o=function(){var e=Pn(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([n._cache.removeNotShownPack(t),n._cache.putLastShownPack(r.type,r.apiResponse,r.params,t)]);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),a=function(e){return e.apiResponse&&e.apiResponse.rid},s=function(){var i=Pn(regeneratorRuntime.mark(function i(){var s,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n._cache.getNotShownPack({cacheId:t});case 3:if(s=i.sent,c=a(s),!(c===e)){i.next=9;break}return i.next=9,o(s);case 9:i.next=13;break;case 11:i.prev=11,i.t0=i.catch(0);case 13:return i.prev=13,e===n._lastUsedPackId&&!n._lastUsedPackShown&&(n._lastUsedPackShown=!0,n._updateNotShownPack()),n._eventEmitter.emit(r.PackShown,e),i.finish(13);case 18:case"end":return i.stop()}},i,null,[[0,11,13,18]])}));return function(){return i.apply(this,arguments)}}();this._addToQueue(s)}},t._setLastShownPack=function(e,t){this._lastShownPackId=e,this._lastShownCacheId=t},t.getNotShownPackFromCache=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cache.getNotShownPack(t);case 2:return n=e.sent,e.abrupt("return",Bt(n.apiResponse));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getLastShownPackFromCache=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cache.getLastShownPack(t);case 2:return n=e.sent,e.abrupt("return",Bt(n.apiResponse));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.setIntervalPackUpdater=function(e){var t=this;setInterval(Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t._updateNotShownPack({requestType:i.Export});case 1:case"end":return e.stop()}},e)})),e),this._updateNotShownPack({requestType:i.Export})},t.getActivityFeed=function(e){var t=this;return this._addToQueue(function(){return t._getApiResponse(i.SocialActivityFeed,e)})},t.sendInterestsFeedback=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.SocialInterestsFeedback),e.next=3,this._network.makeApiRequest(n,{method:"PUT",body:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.profileOnboardingShown=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.ProfileOnboardingShown),e.next=3,this._network.makeApiRequest(n,{headers:{"x-csrf-token":t.token},body:{context:t.context},method:"POST"});case 3:if((r=e.sent)&&"ok"===r.status){e.next=6;break}throw new Error("onboarding shown failed");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.completeProfileOnboarding=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.ProfileCompleteOnboarding),e.next=3,this._network.makeApiRequest(n,{headers:{"x-csrf-token":t.token},body:{context:t.context,onboardingDocumentId:t.documentId},method:"PUT"});case 3:if((r=e.sent)&&"ok"===r.status){e.next=6;break}throw new Error("complete onboarding failed");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deactivateProfile=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._getApiRequestUrl(i.ProfileDeactivate),o=this._config.userInfo,a=o.deviceId,s=n.token,e.next=6,this._network.makeApiRequest(r,{headers:{"x-csrf-token":s},body:{reason:t,deviceId:a,clientTs:Date.now()},method:"PUT"});case 6:if((c=e.sent)&&"ok"===c.status){e.next=9;break}throw new Error("profile deactivate failed");case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),t.cancelDeactivateProfile=function(){var e=Pn(regeneratorRuntime.mark(function e(t){var n,r,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._getApiRequestUrl(i.ProfileCancelDeactivate),r=this._config.userInfo,o=r.deviceId,a=t.token,e.next=6,this._network.makeApiRequest(n,{headers:{"x-csrf-token":a},body:{deviceId:o,clientTs:Date.now()},method:"PUT"});case 6:if((s=e.sent)&&"ok"===s.status){e.next=9;break}throw new Error("cancel profile deactivate failed");case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.clearOverflowCache=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cache.clearOverflowCache();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getCurrentUserInterests=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._network.makeApiRequest(this._getApiRequestUrl(i.CurrentUserInterests)));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getCurrentUserSubscriptions=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._network.makeApiRequest(this._getApiRequestUrl(i.CurrentUserSubscriptions)));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),e}(),Sc=(n(224),function(e){return e+"_"+Date.now()}),xc=function(e){return{stats:e.map(function(e){var t=e.event,n=e.params,r=e.ts,i=e.info,o={event:t,data:n,ts:r};return i&&(o.info=i),o}),bulk_ts:Date.now()}},Oc=function(e){if("undefined"!=typeof document){var t=e?e+"=1":atob("Ymx0c3I9MQ==");return Boolean(document.cookie.match(new RegExp(t)))}}(),Rc=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._bulkEvents=[],n._sendingTimeoutId=null,n._bulkEventBatch=null,t||qn(n)}Gt(t,e);var n=t.prototype;return n._getApiResponseFromNetworkAndMaybePutItToCache=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),Oc&&this._sendBulkEventsWithinQueue(),!Oc&&0!==this._bulkEvents.length&&!n.body){e.next=4;break}return e.abrupt("return",wc.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,t,n));case 4:return r=this._bulkEvents,i=xc(r),o=Object.assign({},n,{body:i}),this._bulkEvents=[],e.prev=8,e.abrupt("return",wc.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,t,o));case 12:throw e.prev=12,e.t0=e.catch(8),this._bulkEvents=this._bulkEvents.concat(r),e.t0;case 16:case"end":return e.stop()}},e,this,[[8,12]])}));return function(t,n){return e.apply(this,arguments)}}(),n._addToQueue=function(t,n){return void 0===n&&(n=!0),n&&(this._bulkEventBatch=null),e.prototype._addToQueue.call(this,t)},n._sendBulkEvents=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._bulkEvents.length){e.next=2;break}return e.abrupt("return");case 2:return t=this._getApiRequestUrl(i.Bulk),n=this._bulkEvents,r=xc(n),this._bulkEvents=[],e.prev=6,e.next=9,this._network.makeApiRequest(t,{body:r});case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(6),this._bulkEvents=this._bulkEvents.concat(n),e.t0;case 15:case"end":return e.stop()}},e,this,[[6,11]])}));return function(){return e.apply(this,arguments)}}(),n._planBulkEventsSending=function(){var e=this;null===this._sendingTimeoutId&&(this._sendingTimeoutId=setTimeout(function(){e._sendingTimeoutId=null,e._sendBulkEventsWithinQueue()},1e3))},n._sendBulkEventsWithinQueue=function(){var e=this;if(!this._bulkEventBatch){var t=this._bulkEventBatch=function(){var e,t,n=0,r=0,i=!1,o=new Promise(function(t){e=t}),a=new Promise(function(e){t=e}),s=function(){i=!0,t()},c=function(){++r===n&&s()};return{trigger:function(){return e(),r===n&&s(),a},extend:function(e){i||(n++,o.then(e).then(c,c))}}}();this._addToQueue(function(){return t.trigger().then(function(){e._bulkEventBatch===t&&(e._bulkEventBatch=null)})},!1)}this._bulkEventBatch&&this._bulkEventBatch.extend(function(){return e._sendBulkEvents().catch(function(e){console.warn("Error while sending bulk events",e)})})},n.logBulkEvent=function(e){var t=e.event,n=e.bulkParams,i=e.statMeta,o=e.info,a={id:Sc(t),event:t,params:n,ts:Date.now(),info:o};this._bulkEvents.push(a),this._planBulkEventsSending(),this._eventEmitter.emit(r.BulkEventLogged,Object.assign({},a,{statMeta:i}))},n.getPreferences=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),Oc&&this._sendBulkEventsWithinQueue(),!Oc&&0!==this._bulkEvents.length){e.next=4;break}return e.abrupt("return",wc.prototype.getPreferences.call(this,t,n));case 4:return r=this._bulkEvents,i=xc(r),o=Object.assign({},n,{body:i}),this._bulkEvents=[],e.prev=8,e.abrupt("return",wc.prototype.getPreferences.call(this,t,o));case 12:throw e.prev=12,e.t0=e.catch(8),this._bulkEvents=this._bulkEvents.concat(r),e.t0;case 16:case"end":return e.stop()}},e,this,[[8,12]])}));return function(t,n){return e.apply(this,arguments)}}(),t}(wc),Ic=function(e){var t="Invalid response from ZenApi"+(e.message?": '"+e.message+"'":"")+".",n=new Error(t);throw e.errorType&&(n.type=e.errorType),e.ttl&&(n.ttl=e.ttl),n},Tc=function(e){Array.isArray(e.items)&&e.items.length>0&&e.more&&e.more.link&&e.bulk&&e.bulk.link||Ic(e)},Nc=function(){function e(){}var t=e.prototype;return t.setHandler=function(){},t.setContext=function(){},t.error=function(){},t.warn=function(){},t.log=function(){},e}(),Ac=["heartbeat","end","replay"],Pc=function(e){return function(t){return function(t){return function(n){if(n.broadcastable){var r=Object.assign({},n);delete r.statEvent,delete r.bulkStat,delete r.broadcastable,r.tabId=e,Vo.setItem("BROADCAST_ACTION",JSON.stringify(r))}return t(n)}}}},Lc={"__LANG__":"ru","desktop.feed.updating":"Обновляем ленту","feedback.dislike_select.saved":"Выбор сохранён","feedback.feedback_to_dislike_title":"Публикация скрыта","feedback.feedback_to_dislike_desc":"Вы будете видеть меньше подобных публикаций в своей ленте.","feedback.complain":"Пожаловаться","v2.cancel":"Отменить","feedback.block":"Заблокировать %domain","feedback.feedback_to_block_title":"Источник заблокирован","feedback.feedback_to_block_desc":"Вы не будете видеть публикации %source в своей ленте.","feedback.complain_reason":"Причина жалобы","feedback.complain_close":"Закрыть","feedback.complain_send":"Отправить","feedback.thanks":"Спасибо!","feedback.complained":"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте.","feedback.official_complain_url_text":"Сообщить о нарушении прав","mobile.video.unmute":"Включить звук","mobile.video.mute":"Выключить звук","mobile.video.no_sound":"Видео без звука","desktop.eula_scroll_to_agree":"Пролистывая далее, вы соглашаетесь с условиями пользовательского соглашения Яндекс Дзен.","desktop.eula_read_full":"Читать полный текст пользовательского соглашения","desktop.direct_go":"Перейти","desktop.direct":"Яндекс.Директ","api.v3.launcher.onboarding.title_domain":"Отметьте интересные источники","api.v3.launcher.onboarding.description_domain":"В ленте будет больше публикаций с этих сайтов","onboarding.more_sources":"Показать больше источников","desktop.ad_box":"реклама","desktop.similar_title":"Вам может быть интересно","preferences.similar_interests":"Смотрите также","desktop.unsubscribe":"Отписаться","desktop.subscribe":"Подписаться","onboarding.no-recommendations":"Новых рекомендаций пока нет","onboarding.find-other-topics":"Найти другие темы и каналы","onboarding.show-more-topics":"Показать больше тем","onboarding.new.title":"Чем вы интересуетесь?","common.comment_on":"Комментарий к статье","common.liked":"Понравилось","comments.adult-image":"Откровенное изображение","comments.adult-image-show":"Показать","profile.all-comment":"Все комментарии","profile.onboarding-card-likes-title":"Здесь будут размещаться ваши лайки, публикации и комментарии","profile.onboarding-card-interests-title":"При желании активность или интересы можно скрыть в настройках","desktop.feed.personal":"Персональные рекомендации","desktop.feed.personal_popup":"По интересу %s — много публикаций.\nДзен выбрал те, что могут вам понравиться","channel.channel.no_publications":"Нет публикаций","header.empty":"Новых публикаций пока нет","v2.new_publications":"Новые публикации","v2.open_in_app":"Читать в приложении","desktop.advertisers_link":"Рекламодателям","channels.all_channels":"Все каналы Дзена"},Mc=function(){function e(e,t){this.app=null,this.store=null,this.inputBus=c(),this.outputBus=u(),this.on=this.outputBus.on.bind(this.outputBus),this.off=this.outputBus.on.bind(this.outputBus),this.trigger=this.inputBus.emit.bind(this.inputBus),this.App=e,this.reducer=t}var t=e.prototype;return t.init=function(e,t){var n,o=this,a={product:l.LIB,host:e.host,clid:e.clid,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,countryCode:e.countryCode,lang:e.lang,teethType:e.teethType,zenFeatures:e.zenFeatures,clientExperiments:e.exps,libType:e.libType,notifiersPosition:e.notifiersPosition,styles:e.styles,isMobile:!1,isAdaptiveDesign:e.isAdaptiveDesign,disableMetrika:e.disableMetrika,cspNonce:e.cspNonce,withFloatingLinks:e.withFloatingLinks,withHeader:e.withHeader,adId:e.adId};e.userInfo&&(n={oauthToken:e.userInfo.oauthToken,login:e.userInfo.login,deviceId:e.userInfo.deviceId,profileId:e.userInfo.profileId,yandexuid:e.userInfo.yandexuid,partnerId:e.userInfo.partnerId,avatar:e.userInfo.avatarUrl,displayName:e.userInfo.displayName});var c=new Rc(function(e){return Object.assign({},e,{apiResponseValidator:Tc})}),u=hs({zenApi:c,zenLogger:new Nc,inputBus:this.inputBus,outputBus:this.outputBus,privateBus:new s}),d=Math.round(1e8*Math.random()),p=function(e){var t=e.settings,n=e.App,r=e.reducer,i=(e.history,e.translations),o=e.middlewares,a=void 0===o?[]:o,s=e.zenContext,c=e.nativeZenApiMethods,u=void 0===c?{}:c,l=e.onBeforeInit,d=e.feedId,p=ws(r,fs(a,s,d));return l&&l(),p.dispatch(ns(t)),p.getState().params.isWebview&&Ss&&(s.zenkitApi=new _s(p)),{app:f.a.createElement(vs.Provider,{value:hs(s)},f.a.createElement(Es.Provider,{value:i},f.a.createElement(C,{store:p},xs(0,f.a.createElement(n,{nativeZenApiMethods:u,exportData:t}))))),store:p}}({settings:{exportData:t,params:a,user:n,initialDisplayedRowsNumber:e.initialDisplayedRowsNumber},App:this.App,reducer:this.reducer,middlewares:ps(u).concat([Pc(d)]),translations:Lc,zenContext:u,nativeZenApiMethods:e.nativeZenApiMethods}),m=p.app,h=p.store;!function(e,t){var n,r=function(){var r=t.getState(),i=Os(r);void 0!==n&&n===i||(n=i,e.configure(function(e){return Object.assign({},e,i)}))};r(),t.subscribe(r)}(c,h);var v=e.referrerClidResetTimeout,g="number"==typeof v;c.configure(function(t){return Object.assign({},t,{cache:e.cache,chromeExtensionId:e.chromeExtensionId,feedFilter:e.feedFilter,isAdblockEnabled:e.isAdblock})}),g&&function(e,t,n){void 0===n&&(n=18e3);var o=function(e){var t=e.event;!Ac.includes(t)&&a&&a()},a=Fi(Pn(regeneratorRuntime.mark(function n(){var a,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e.removeListener(r.BulkEventLogged,o),s=t.getState(),c=s.links,t.dispatch(vi({referrerClid:null})),t.dispatch(hi(((a={})[i.More]=As(c.more,{referrer_clid:void 0}),a)));case 4:case"end":return n.stop()}},n)})),1e3*n);a(),e.addListener(r.BulkEventLogged,o)}(c,h,v),c.addListener(r.BulkEventLogged,function(e){var t=e.event,n=e.statMeta;o.outputBus.emit("stat",{eventName:t,statMeta:n})}),c.addListener(r.NotShownPackUpdated,function(e,t){o.outputBus.emit("cachePut",t)}),c.packUsed(h.getState().request.rid),c.clearOverflowCache(),this.app=m,this.store=h},t.render=function(e){if(!this.app||!this.outputBus)throw new Error("Call render before init");!function(e){var t=e.app,n=e.container,r=e.outputBus,i=e.ssr,o=function(){r&&r.emit("firstPaint")},a=t;void 0!==i&&i?se.a.hydrate(a,n,o):se.a.render(a,n,o)}({app:this.app,container:e,outputBus:this.outputBus})},t.setParams=function(e){if(!this.store)throw new Error("Call setParams before init");!function(e,t){var n={};if(e.countryCode&&(n.countryCode=e.countryCode),e.theme){var r=t.getState().params.zenFeatures;n.zenFeatures=Object.assign({},r,{color_theme:e.theme})}Object.keys(n).length>0&&t.dispatch(vi(n)),e.userInfo&&t.dispatch(yi(e.userInfo))}(e,this.store)},e}(),Dc=(n(226),{}),Bc=65;Bc<91;Bc++){var jc=String.fromCharCode(Bc);Dc[jc]="-"+jc.toLowerCase()}var Fc=function(e){return function(t,n){var r="string"==typeof t?[t,n]:[null,t],i=r[0],o=r[1],a=e;return i&&(a+="__"+i),o&&Object.keys(o).forEach(function(e){var t=o[e],n=function(e){for(var t=e.length,n="",r=0;r<t;r++){var i=e[r];n+=Dc[i]||i}return n}(e);!0===t?a+=" _"+n:(0===t||t)&&(a+=" _"+n+"_"+t)}),a}},Uc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};Fc.mix=Uc;var zc=Fc,Vc=(n(60),n(240),Object(Vt.createSelector)(function(e){return e.feed.itemsOrder.length>0},function(e){return e.opera.isScrolled},function(e){return e.opera.isPageVisible},function(e,t,n){return!e||!(t||n)}),n(157),zt(function(e,t){return e.getExport(t)}),n(337),n(338),function(e,t){for(var n=Object.keys(t),r=Object.assign({},e),i=0;i<n.length;i++){var o=n[i];switch(o){case"className":r[o]=Uc(t.className,e.className);break;case"style":r[o]=Object.assign({},e.style,t.style);break;default:!function(){var n=t[o],i=e[o];"on"===o.slice(0,"on".length)&&(r[o]=function(e){"function"==typeof n&&n(e),"function"==typeof i&&i(e)})}()}}return r}),Hc=n(156),Wc=function(e){return Fc(Hc["lib-prefix"]+"-"+e)};Wc.mix=Uc;var Gc=Wc("spinner"),qc=2e3,Kc=2*Math.PI*42,Yc=[.8,.2],Qc=.8*function(e){return 2*Math.PI*e}(42),Zc=function(e){return-.5*(Math.cos(Math.PI*e)-1)};var $c=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._circleRef=Object(p.createRef)(),n.animateDashOffsetFallback=function(){var e=n._circleRef.current;e&&function e(t,n){var r=performance.now();requestAnimationFrame(function i(o){var a=o-r;a>n&&(a=n),t(a),a<n?requestAnimationFrame(i):requestAnimationFrame(function(){return e(t,n)})})}(function(t){var n=qc/Yc.length,r=t%n,i=Math.floor(t/n),o=(i-1+Yc.length)%Yc.length,a=Yc[i]-Yc[o];e.style.strokeDashoffset=String(Kc*(Yc[o]+a*Zc(r/n)))},qc)},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){(document.documentMode||navigator.userAgent.includes("Edge"))&&this.animateDashOffsetFallback()},n.render=function(){var e=this.props,t=e.size,n=an(e,["size"]),r={width:t,height:t},i=Vc(n,{className:Gc(),style:r}),o={strokeWidth:16};return f.a.createElement("svg",qt({},i,{viewBox:"0 0 100 100"}),f.a.createElement("circle",{ref:this._circleRef,style:o,className:Gc("circle"),strokeDashoffset:Qc,cx:"50",cy:"50",r:42}))},t}(f.a.Component);$c.defaultProps={size:20,className:""};var Jc=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={value:n._getEndValue(),duration:null,withTransition:!1},n._startTime=null,n._containerElem=null,n._containerRef=function(e){var t=n._containerElem;e?e.addEventListener("transitionend",n._onTransitionEnd):t&&t.removeEventListener("transitionend",n._onTransitionEnd),n._containerElem=e},n._onTransitionEnd=function(e){n._isTransitionEvent(e)&&n._endTransition({withEndHandlers:!0})},t||qn(n)}Gt(t,e);var n=t.prototype;return n._isTransitionEvent=function(e){return e.target===this._containerElem&&"opacity"===e.propertyName},n._getRemainingTime=function(){var e=this.state.duration;return"number"==typeof e&&"number"==typeof this._startTime?Math.max(e-(Date.now()-this._startTime),0):0},n._getEndValue=function(){var e=this.props,t=e.type,n=e.minOpacity,r=e.maxOpacity;switch(t){case"in":return r;case"out":return n;default:return 1}},n._getContainerStyle=function(){var e=this.props,t=e.timingFunction,n=e.delay,r=this.state,i=r.value,o=r.duration,a=r.withTransition,s={};return null!==i&&(s.opacity=i),a&&(s.transition=o+"ms opacity "+t+" "+n+"ms"),s},n._forceContainerReflow=function(){this._containerElem&&this._containerElem.offsetHeight},n._endTransition=function(e){var t=this,n=e.withEndHandlers;n&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:this._getEndValue(),duration:null,withTransition:!1},function(){n&&t.props.onAfterEnd(),t.props.onComplete()})},n._startTransition=function(){var e=this,t=this.props,n=t.getDuration,r=t.onBeforeStart;if(this._containerElem){var i=parseFloat(getComputedStyle(this._containerElem).opacity),o=this._getEndValue(),a=this._getRemainingTime(),s=o-i;if(0!==s){var c=n(a,s);0!==c?(r(),this.setState({value:i,duration:c,withTransition:!0},function(){var t=e.props.onAfterStart;e._forceContainerReflow(),e.setState({value:o},function(){e._startTime=Date.now(),t()})})):this._endTransition({withEndHandlers:!1})}else this._endTransition({withEndHandlers:!1})}},n.componentDidUpdate=function(e){this.props.triggerKey!==e.triggerKey&&this._startTransition()},n.render=function(){return this.props.children({ref:this._containerRef,style:this._getContainerStyle()})},t}(p.PureComponent);Jc.defaultProps={minOpacity:0,maxOpacity:1,timingFunction:"ease-out",delay:0,onBeforeStart:function(){},onAfterStart:function(){},onBeforeEnd:function(){},onAfterEnd:function(){},onComplete:function(){}};var Xc=function(){var e=gs().zenLogger,t=Object(p.useContext)(Es);if(!t)throw new Error("Translations is not passed");var n=t.__LANG__;return{l10n:Object(p.useCallback)(function(r){var i=function(e,t){return e[t]}(t,r);return i||(e&&e.error({message:"Missing translation",details:{lang:n,key:r}}),"")},[e,t,n]),lang:n}},eu=function(e){var t=Object(p.forwardRef)(function(t,n){var r=Xc(),i=r.l10n,o=r.lang;return f.a.createElement(e,qt({},t,{ref:n,l10n:i,lang:o}))});return t.displayName=ms("WithTranslation",e),t},tu=Fc("feed-loading-progress-view"),nu=function(){return 100},ru=eu(function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={isSpinnerShown:!1},n._ref=null,n._setRef=function(e){return n._ref=e},n._disableEvent=function(e){e.preventDefault(),e.stopPropagation()},n._onTransitionEnd=function(){n.setState({isSpinnerShown:n.props.isVisible})},n._onTransitionStart=function(){n.setState({isSpinnerShown:!0})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){this._ref&&(this._ref.addEventListener("wheel",this._disableEvent),this._ref.addEventListener("touchmove",this._disableEvent))},n.componentWillUnmount=function(){this._ref&&(this._ref.removeEventListener("wheel",this._disableEvent),this._ref.removeEventListener("touchmove",this._disableEvent))},n.render=function(){var e=this.props,t=e.isMobile,n=e.isVisible,r=e.l10n,i=this.state.isSpinnerShown,o=n||i;return f.a.createElement("div",{className:tu("container"),ref:this._setRef},f.a.createElement(Jc,{triggerKey:n,type:n?"in":"out",onBeforeStart:this._onTransitionStart,onComplete:this._onTransitionEnd,getDuration:nu},function(e){var n=e.ref,i=e.style;return f.a.createElement("div",{className:tu({isMobile:t,isVisible:o}),ref:n,style:i},f.a.createElement($c,{className:tu("spinner"),size:34}),f.a.createElement("div",{className:tu("text")},r("desktop.feed.updating")))}))},t}(p.PureComponent)),iu=X(function(e){return{isVisible:e.iface.feedLoadingProgressVisible}})(ru),ou=function(e){return function(t){function n(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=t.call.apply(t,[this].concat(i))||this,n.state={isVisible:!1,isIntersecting:!1,isObserving:!1},n._node=null,n._intersectionObserver=null,n._rootRef=function(e){n._unobserve(),e&&n._observe(e),n.props.rootRef&&n.props.rootRef(e)},n._onIntersectionChange=function(e){var t=e[e.length-1];n.setState({isIntersecting:t.isIntersecting,isVisible:t.intersectionRatio>=n.getVisibilityThreshold(),isObserving:!0})},e||qn(n)}Gt(n,t);var r=n.prototype;return r.getVisibilityThreshold=function(){var e=this.props.visibilityThreshold;return null!=e?e:.8},r._ensureIntersectionObserverInstance=function(){if(!this._intersectionObserver){var e=this.getVisibilityThreshold(),t=this.props,n=t.root,r=t.rootMargin,i={root:n,rootMargin:void 0===r?"0px 0px 0px 0px":r,threshold:[0,1-e,e,1].sort(function(e,t){return e-t})};this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,i)}},r._observe=function(e){this._ensureIntersectionObserverInstance(),this._node=e,this._intersectionObserver&&this._intersectionObserver.observe(this._node)},r._unobserve=function(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._node=null},r.componentWillUnmount=function(){this._unobserve()},r.render=function(){var t=this.state,n=t.isVisible,r=t.isIntersecting,i=t.isObserving;return f.a.createElement(e,qt({},this.props,{rootRef:this._rootRef,isVisible:n,isIntersecting:r,isObserving:i}))},n}(p.PureComponent)},au=function(e,t){return function(n,r){var i=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_INTERSECTING",payload:{id:e,value:t,index:i}})}},su=function(e,t){return function(n,r){var i=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_VISIBILITY",payload:{id:e,value:t,index:i}})}},cu=function(e){return{type:"VIDEO_CARD_CHANGE_INTERACTION",payload:{id:e}}},uu=function(e){return{type:"VIDEO_CHANGE_ACTIVE_CARD",payload:e}},lu=function(e){return function(t,n){t({type:"VIDEO_MODAL_TOGGLE",payload:{openedItem:n().feed.items[e]}})}},du=(zt(function(e,t,n){return n.zenApi.getVideoRecommend().then(function(t){if(0===t.length)throw new Error("no recommends");var n={};e({type:"VIDEO_MODAL_GET_RECOMMEND",payload:{videoFeed:t.reduce(function(e,t){var r,i=t.id,o=t.source,a=t.statParams,s=t.statEvents,c=t.bulkParams;return n[o.id]||(n[o.id]=Object.assign({},o,{statParams:a,statEvents:s,bulkParams:c})),Object.assign(((r={})[i]=Object.assign({},t),r),e)},{})}}),e({type:"VIDEO_MODAL_SET_SOURCES",payload:{sources:n}})})},{timeouts:[1e3,3e3,5e3]}),{short:"short",show:"show",click:"click","feedback:more":"feedback:more","feedback:less":"feedback:less","feedback:block":"feedback:block","feedback:cancel_less":"feedback:cancel_less","feedback:cancel_more":"feedback:cancel_more","feedback:cancel_block":"feedback:cancel_block",play:"play",pause:"pause",end:"end",autoplay:"autoplay",autopause:"autopause",sound_on:"sound_on",sound_off:"sound_off",action:"action",autoplay_on:"autoplay_on",autoplay_off:"autoplay_off",heartbeat:"heartbeat",replay:"replay"}),pu=function(e){var t=function(t){function n(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=t.call.apply(t,[this].concat(i))||this,n.state={started:!1},n._onPlayerDestroy=function(){n.setState({started:!1})},n._sendShowStat=function(){var e=n.props,t=e.logger,r=e.pixels;t.log(du.show),!n._pixelsExist&&r&&(r.forEach(function(e){var t=new Image;t.onerror=function(){return console.error("Error while calling pixel (desktop video); "+e)},t.src=e}),n._pixelsExist=!0)},e||qn(n)}Gt(n,t);var r=n.prototype;return r.componentDidMount=function(){var e=this.props,t=e.autoplay,n=e.setVideoAutoplay;if("boolean"!=typeof t){var r=Ho();n("boolean"!=typeof r||r)}},r.componentDidUpdate=function(e){var t=this.state.started,n=e.paused,r=e.isIntersecting,i=e.isVisible,o=this.props,a=o.id,s=o.isIntersecting,c=o.isVisible,u=o.paused,l=o.interactive,d=o.logger,p=o.setIntersecting,f=o.setVisibility;t||u||this.setState({started:!0}),r!==s&&p(a,s),i!==c&&f(a,c),!n||u||l||d.log(du.autoplay),n||!u||l||d.log(du.autopause)},r.render=function(){var t=this.props.isVisible,n=this.state.started,r=Object.assign({},this.props,{started:n,onDestroy:this._onPlayerDestroy});return f.a.createElement(Qn,{isVisible:t,onShow:this._sendShowStat},f.a.createElement(e,r))},n}(p.PureComponent);t.defaultProps={paused:!0,muted:!0,shouldInitPlayer:!1,interactive:!1};var n={setVideoAutoplay:Wo,setIntersecting:au,setVisibility:su,setLastInteractedCard:cu,setActiveCard:uu,toggleVideoModal:lu};return bs(function(e){return{zenApi:e.zenApi}})(X(function(){var e=qi(),t=Yi(),n=Mi(),r=Sn();return function(i,o){var a=o.id,s=o.zenApi,c=Ur(i,a),u=e(i,a),l=t(i,a),d=n(Object.assign({},c,{zenApi:s}),"feed"),p=r(i,a),f=i.videoModal.openedItemId===a,m=i.iface.isVideoAutoplayEnabled,h=i.videoCards.interactionCardId===a;return Object.assign({},c,{feedbackProps:u,feedbackMittensProps:l,logger:d,source:p,isModalOpen:f,autoplay:m,interactive:h})}},n)(t))};n(286);function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mu(e,t){return(mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hu(e,t,n){return(hu=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&mu(i,n.prototype),i}).apply(null,arguments)}function vu(e){var t="function"==typeof Map?new Map:void 0;return(vu=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return hu(e,arguments,fu(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),mu(n,e)})(e)}n(147);var gu,bu=function(){var e,t;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(t&&da(e,r))return t;var o=function(e){for(var t=0;t<r.length;t++){var n=r[t];"function"==typeof n?n(e):n&&(n.current=e)}};return e=r,t=o,o}},_u=n(62),yu=n.n(_u),Eu=Object.prototype.hasOwnProperty,ku=function(e,t,n){if(void 0===n&&(n=[]),Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!(n&&n.includes(r[o])||Eu.call(t,r[o])&&Object.is(e[r[o]],t[r[o]])))return!1;return!0},Cu=/[A-Za-z]+|[А-Яа-яЁё]+|\d+|\S/,wu=/\S/,Su=function(e){return 0!==e.width&&0!==e.height},xu=function(e){for(var t=function(e){var t=[];return function e(n){for(var r=n.childNodes,i=0;i<r.length;i++){var o=r[i];switch(o.nodeType){case Node.ELEMENT_NODE:e(o);break;case Node.TEXT_NODE:t.push(o)}}}(e),t}(e),n=[],r="",i=0;i<t.length;i++){var o=t[i],a=r+o.nodeValue;n.push({node:o,startIndex:r.length,endIndex:a.length}),r=a}return{textContent:r,createRange:function(e,t){for(var r=void 0,i=void 0,o=0;o<n.length;o++){var a=n[o];if(!r&&e>=a.startIndex&&e<a.endIndex&&(r=a),!i&&t<=a.endIndex&&t>a.startIndex&&(i=a),r&&i){var s=document.createRange();return s.setStart(r.node,e-r.startIndex),s.setEnd(i.node,t-i.startIndex),s}}return null}}};!function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical"}(gu||(gu={}));var Ou=function(e,t,n){var r=void 0,i=void 0;e===gu.horizontal?(r="left",i="right"):(r="top",i="bottom");var o=t[r]-n[r],a=n[i]-t[i],s=0;return o<0&&(s+=o),a<0&&(s+=a),!(s<0)||Math.abs(s)<=(1-.8)*t.height},Ru=function(e,t){var n,r=t.textContent,i=t.createRange,o=null,a=null,s=function t(){var n=a?a.valueEndIndex:0,s=null===o?Cu:wu,c=r.slice(n).match(s);if(!c)return{done:!0};var u=c[0],l=n+c.index,d=l+u.length,p=i(l,d);if(!p)return t();var f=void 0;if(null===o){var m=p.getClientRects();if(m.length>1)return o=d,t();f=m[0]}else d>=o&&(o=null),f=p.getBoundingClientRect();var h=a?a.index+1:0,v=a?function(e,t){return e.top===t.rect.top&&e.bottom===t.rect.bottom?t.lineIndex:t.lineIndex+1}(f,a):0,g=function(e,t){return Ou(gu.horizontal,e,t)&&Ou(gu.vertical,e,t)}(f,e);return{value:a={value:u,valueStartIndex:l,valueEndIndex:d,index:h,lineIndex:v,isVisible:g,rect:f},done:!1}};return(n={next:s})[Symbol.iterator]=function(){return{next:s}},n},Iu=function(e){var t=e.containerElem,n=e.textElem,r=e.onlyVisibleTokens,i=void 0!==r&&r,o=e.linesLimit,a=t.getBoundingClientRect(),s=n.getBoundingClientRect();if(!Su(a)||!Su(s))return null;var c=xu(n),u=[],l=[],d=null,p=!0,f=Ru(a,c),m=Array.isArray(f),h=0;for(f=m?f:f[Symbol.iterator]();;){var v;if(m){if(h>=f.length)break;v=f[h++]}else{if((h=f.next()).done)break;v=h.value}var g=v;if(g.isVisible)d=g;else if(p=!1,i)break;if(u.push(g),l[g.lineIndex]||(l[g.lineIndex]=[]),l[g.lineIndex].push(g),o&&l.length===o)break}return{containerElem:t,containerRect:a,textElem:n,textRect:s,onlyVisibleTokens:i,tokens:u,lines:l,lastVisibleToken:d,isTextFits:p}},Tu=function(e){return"string"==typeof e?e:f.a.Children.only(e)},Nu=function(e){var t=Tu(e);return"string"==typeof t?t.length:0},Au=function(e){function t(){return e.call(this,"Not applied 'clamp' call.")||this}return Gt(t,e),t}(vu(Error)),Pu=Fc("clamp"),Lu=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={visibilitySplitIndex:Nu(n.props.children),lineCount:null,isEllipsisNeeded:!1},n._composeContainerRefs=bu(),n._isMounted=!1,n._isPropsChanged=!1,n._containerElem=null,n._textElem=null,n._containerRef=function(e){n._containerElem=e},n._textRef=function(e){return n._textElem=e},t||qn(n)}Gt(t,e);var n=t.prototype;return n._setState=function(e){var t=this;return new Promise(function(n){t.setState(e,n)})},n._hide=function(){return this._setState({visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1})},n.clamp=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.applyClamp();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),n.applyClamp=function(){var e=Pn(regeneratorRuntime.mark(function e(){var t,n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isMounted){e.next=2;break}throw new Au;case 2:if(!this.props.shouldResetLineCount){e.next=5;break}return e.next=5,this._setState({lineCount:null});case 5:return e.next=7,this.getTextDescriptor();case 7:if(t=e.sent){e.next=10;break}throw new Au;case 10:if(e.prev=10,t.lastVisibleToken){e.next=15;break}return e.next=14,this._hide();case 14:return e.abrupt("return",e.sent);case 15:if(n=this.props.minLineCount,r=t.lines.length,i=!t.isTextFits,o=t.lastVisibleToken.valueEndIndex,!(r<n&&i)){e.next=23;break}return e.next=22,this._hide();case 22:return e.abrupt("return",e.sent);case 23:return e.next=25,this._setState({visibilitySplitIndex:o,lineCount:r,isEllipsisNeeded:i});case 25:return e.abrupt("return",e.sent);case 28:throw e.prev=28,e.t0=e.catch(10),new Au;case 31:case"end":return e.stop()}},e,this,[[10,28]])}));return function(){return e.apply(this,arguments)}}(),n.getTextDescriptor=function(){var e=this;return function(e){return new Promise(function(t){yu.a.measure(function(){t(e())})})}(function(){return e._isMounted&&e._containerElem&&e._textElem?Iu({containerElem:e._containerElem,textElem:e._textElem,onlyVisibleTokens:!0}):null})},n.componentDidMount=function(){var e=this;this._isMounted=!0,this.props.withAutoClamp&&(window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){return e.clamp()}):this.clamp())},n.componentWillReceiveProps=function(e){Tu(this.props.children)!==Tu(e.children)&&this.setState(function(t){return 0===t.visibilitySplitIndex?{visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1}:{visibilitySplitIndex:Nu(e.children),lineCount:null,isEllipsisNeeded:!1}})},n.shouldComponentUpdate=function(e,t){var n=ku(this.props,e,["children"]),r=ku(this.state,t),i=ku(this.props.children,e.children);return this._isPropsChanged=!n||!i,!n||!r||!i},n.componentDidUpdate=function(){this._isPropsChanged&&this.props.withAutoClamp&&this.clamp()},n.componentWillUnmount=function(){this._isMounted=!1},n.render=function(){var e=this.props,t=e.className,n=e.style,r=e.fitToSpace,i=e.domRef,o=e.children,a=e.component,s=void 0===a?"span":a,c=this.state,u=c.visibilitySplitIndex,l=c.lineCount,d=c.isEllipsisNeeded,p=Tu(o);if("string"!=typeof p)return console.error(new Error("Clamp: children must be string")),null;var m={"line-count":null===l?void 0:String(l)},h=t?Pu(m)+" "+t:Pu(m),v=d?function(e,t){var n=e[t-1];return"."===n||","===n||"…"===n?t-1:t}(p,u):u,g=p.slice(0,v),b=p.slice(v);return f.a.createElement("div",{className:h,style:n,ref:this._composeContainerRefs(this._containerRef,i)},f.a.createElement("div",{className:Pu("wrapper")},f.a.createElement("div",{className:Pu("text"),ref:this._textRef},f.a.createElement(s,{className:Pu("visible-tokens",{ellipsis:d})},g),f.a.createElement("span",{className:Pu("invisible-tokens")},b),f.a.createElement("div",{className:Pu("spacer")}))),r?null:f.a.createElement("div",{className:Pu("text-expand")},o))},t}(p.Component);Lu.defaultProps={minLineCount:1,withAutoClamp:!0,shouldResetLineCount:!0};var Mu,Du=n(35),Bu=n.n(Du),ju=function(e,t,n){return{type:n,bulkStat:{bulkParams:e.bulkParams,statEvents:e.statEvents,statEvent:t},payload:{id:e.id}}},Fu=function(e){return e},Uu=function(e,t,n){var r=void 0,i=(e=e.toUpperCase())+"_REQUEST",o=e+"_SUCCEED",a=e+"_FAILURE",s={status:je.Pending,data:void 0};return{action:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(e,s,c){e({type:i,meta:n});var u=r=t.apply(void 0,[c].concat(n)).then(function(t){u===r&&e({type:o,payload:t,meta:n})},function(){u===r&&e({type:a,meta:n})})}},reducer:function(e,t){switch(void 0===e&&(e=s),t.type){case i:return Object.assign({},e,{status:je.Pending});case o:var r=t.payload;return Object.assign({},e,{status:je.Success,data:n(r)});case a:return Object.assign({},e,{status:je.Error});default:return e}},request:i,succeed:o,failure:a}},zu=function(e,t){void 0===t&&(t=1e3);var n=function(e,t){var n=null,r=null,i=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=a,Promise.resolve(n).then(function(){return i&&(n=jn(t),r=e.apply(void 0,i),i=null),r})}}(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t(e.apply(void 0,r))},t);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return n.apply(void 0,[e].concat(t))}}},Vu=function(e,t,n,r,i){void 0===r&&(r=Fu),void 0===i&&(i=1e3);var o=Uu(e,t,r),a=o.action,s=an(o,["action"]),c=zu(a,i),u=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(n,i){var o=t.apply(void 0,[i()].concat(r)),a=o.status,s=o.data;return a!==je.Success?n(e.apply(void 0,r)):Promise.resolve(s)}}}(c,n);return Object.assign({action:u,forceAction:c},s)},Hu=function(e){return function(t,n){var r=Object.keys(e).reduce(function(t,r){return t[r]=function(t){return void 0===t&&(t={}),e[r](Object.assign({},n,t))},t},{});return Object(U.a)(r,t)}},Wu=function(e){return function(t){t(ju(e,"feedback_more","ITEM_FEEDBACK_LIKE"))}},Gu=function(e){return function(t){t(ju(e,"feedback_cancel_more","ITEM_FEEDBACK_CANCEL"))}},qu=function(e){return function(t,n,r){var i=r.zenApi,o=n(),a=mr(o).invalidateCacheOnDislike;"liked"===(e.parentId?function(e,t,n){var r=Ur(e,n);if("items"in r&&Array.isArray(r.items)){var i=r.items.find(function(e){return e.id===t});if(i)return i}throw new Error("ChildItem with id '"+t+"' not found in parent with id '"+n)}(o,e.id,e.parentId):function(e,t){var n=e.videoModal&&e.videoModal.videoFeed[t];if(n)return n;var r=Ur(e,t);if(r)return r;throw new Error("Item with id '"+t+"' not found")}(o,e.id)).feedback&&t(Gu(e)),t(ju(e,"feedback_less","ITEM_FEEDBACK_DISLIKE")),a&&i.invalidateCache()}},Ku=function(e){return function(t){t(ju(e,"feedback_cancel_less","ITEM_FEEDBACK_CANCEL"))}},Yu=function(e){return{type:"ITEM_FEEDBACK_BLOCK",payload:{id:e.id}}},Qu=function(e){return{type:"ITEM_FEEDBACK_CANCEL_BLOCK",payload:{id:e.id}}},Zu=function(e){return function(t){t(ju(e,"complain_show","ITEM_COMPLAINTS_OPEN"))}},$u=function(e){return function(t){var n=function(e,t,n){var r;return Object.assign({},e,{statEvents:Object.assign({},e.statEvents,(r={},r[t]=Object.keys(n).reduce(function(e,t){return e.replace(t,n[t])},e.statEvents[t]),r))})}(e,"complain_click",{__reasons__:e.reasonIds.join(",")});t(ju(n,"complain_click","ITEM_COMPLAINTS_SEND"))}},Ju=function(e){return{type:"ITEM_COMPLAINTS_CANCEL",payload:{id:e.id}}},Xu=function(e,t){return{type:"ITEM_MITTENS_JUMP",payload:{id:e,isMittensJumping:t}}},el=function(e){return{type:"ITEM_FEEDBACK_ANSWERS_UNCHECK",payload:{id:e.id}}},tl=function(e){return"undefined"!=typeof document&&window["abr_native"===e?"yandex.mobileZen":"ZENKIT"]},nl=function(e){return function(t,n,r){var i=r.zenApi,o=r.zenkitApi,a=n(),s=xn(a,e);if(s){var c=a.params.product,u=tl(c);u&&u.onPageStatusChanged?u.onPageStatusChanged(!0):o?o.channelStatusChanged({id:s.id,title:s.title,image:s.logo,link:s.feedLink,exportLink:s.feedApiLink,logoBgColor:s.logoBackgroundColor,channelType:s.type},s.type,s.status):i.invalidateCache()}}},rl=function(e){var t=e.logger;return function(){t.log("complain_show")}},il=function(e){var t=e.source,n=e.logger;return function(){Pi({__reasons__:t.complaintReasons||""})(n).log("complain_click")}},ol=function(e){var t=e.source,n=e.logger;return function(e){n.log("feedback_block"),e(oa(t)),e(nl(t))}},al=function(e){var t=e.source,n=e.logger;return function(e){n.log("feedback_cancel_block"),e(aa(t)),e(nl(t))}},sl=function(e){var t=e.source,n=e.logger;return function(e){n.log("feedback_favourite"),e(ra(t)),e(nl(t))}},cl=function(e){var t=e.source,n=e.logger;return function(e){n.log("feedback_cancel_favourite"),e(ia(t)),e(nl(t))}},ul=function(e){var t=e.source,n=e.logger;return function(e){n.log("feedback_less"),e(sa(t)),e(nl(t))}},ll={subscribed:cl,blocked:al,not_subscribed:sl},dl=function(e){return ll[e.source.status](e)},pl={subscribed:cl,blocked:al,not_subscribed:ol},fl=function(e){return pl[e.source.status](e)},ml={subscribed:cl,blocked:sl,not_subscribed:sl},hl=function(e){return ml[e.source.status](e)},vl={subscribed:ol,blocked:al,not_subscribed:ol},gl=function(e){return vl[e.source.status](e)},bl=X(null,Hu({onToggleBlock:fl,onToggleSubscribe:dl,onShortToggleBlock:gl,onShortToggleSubscribe:hl,onBlock:ol,onUnblock:al,onSubscribe:sl,onUnsubscribe:cl,onDislike:ul,onComplain:rl,onComplainClick:il})),_l=X(null,Hu({onToggleBlock:fl,onToggleSubscribe:dl,onShortToggleBlock:gl,onShortToggleSubscribe:hl,onBlock:ol,onUnblock:al,onSubscribe:sl,onUnsubscribe:cl,onComplain:rl,onComplainClick:il})),yl=function(e){var t=e.source,n=e.logger,r=ne();return Object(p.useMemo)(function(){return function(e,t){return Object.keys(e).reduce(function(n,r){var i=e[r];return n[r]=t(i,r,e),n},{})}({onToggleBlock:fl,onToggleSubscribe:dl,onShortToggleBlock:gl,onShortToggleSubscribe:hl,onBlock:ol,onUnblock:al,onSubscribe:sl,onUnsubscribe:cl,onDislike:ul,onComplain:rl,onComplainClick:il},function(e){return function(){return r(e({source:t,logger:n}))}})},[t,n,r])},El=(n(281),n(235),function(){function e(){this._subscriptions=[]}var t=e.prototype;return t.add=function(e,t,n,r){var i=this;e.addEventListener(t,n,r);var o=function o(){e.removeEventListener(t,n,r),i._subscriptions=i._subscriptions.filter(function(e){return e!==o})};return this._subscriptions=this._subscriptions.concat(o),o},t.clear=function(){this._subscriptions.forEach(function(e){e()})},e}()),kl=Wc("button"),Cl=function(e){var t=function(t){function n(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=t.call.apply(t,[this].concat(i))||this,n.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},n._containerRef=Object(p.createRef)(),n._composeContainerRefs=bu(),n._listenerStorage=new El,n._isMounted=!1,e||qn(n)}Gt(n,t);var r=n.prototype;return r._setState=function(e){var t=this;return new Promise(function(n){t._isMounted&&t.setState(e,n)})},r._setStateOnNextTick=function(e){var t=this;return function(e){return new Promise(function(t){setTimeout(t,e)})}(0).then(function(){return t._setState(e)})},r._addHoverHandlers=function(){var e=this,t=this._containerRef.current;t&&(this._listenerStorage.add(t,"mouseenter",function(){e.setState({isHovered:!0})}),this._listenerStorage.add(t,"mouseleave",function(){e.setState({isHovered:!1})}))},r._addActiveHandlers=function(){var e=this,t=this._containerRef.current;if(t){var n="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"],r=n[0],i=n[1];this._listenerStorage.add(t,r,function(){e._setState({isTransitionEnabled:!1}).then(function(){return e._setStateOnNextTick({isActive:!0})}).then(function(){var t=e._listenerStorage.add(document,i,function(){t(),e._setState({isActive:!1}).then(function(){return e._setStateOnNextTick({isTransitionEnabled:!0})})})})}),this._listenerStorage.add(window,"blur",function(){e._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}},r.componentDidMount=function(){this._isMounted=!0,"ontouchstart"in window||this._addHoverHandlers(),this._addActiveHandlers()},r.componentWillUnmount=function(){this._isMounted=!1,this._listenerStorage.clear()},r.render=function(){var t=this.props,n=t.containerRef,r=t.size,i=t.viewType,o=t.icon,a=t.iconClass,s=t.renderIcon,c=t.children,u=t.widthType,l=an(t,["containerRef","size","viewType","icon","iconClass","renderIcon","children","widthType"]),d=this.state,p=d.isHovered,m=d.isActive,h=d.isTransitionEnabled,v=Boolean(o||s),g=o?{backgroundImage:"url("+o+")"}:void 0,b=kl({size:r,viewType:i,isHovered:p,isActive:m,isTransitionEnabled:h,hasIcon:v,widthType:u}),_=Vc(l,{className:b});return f.a.createElement(e,qt({ref:this._composeContainerRefs(this._containerRef,n)},_),f.a.createElement("div",{className:kl("content-wrapper")},v&&f.a.createElement("span",{className:Uc(kl("icon",{size:r}),a),style:g},s&&s()),c))},n}(p.PureComponent);return t.defaultProps={widthType:"regular"},Object(p.forwardRef)(function(e,n){return f.a.createElement(t,qt({},e,{containerRef:n}))})}("button"),wl=function(e){var t=function(t){var n=t.id,r=t.question,i=Object(p.useMemo)(Mi,[]),o=oe(function(e){return Ur(e,n)}),a=gs().zenApi,s=ne(),c=i(Object.assign({},o,{zenApi:a})),u=function(e){return r&&r.answers.find(function(t){return t.id===e})||null};return r?f.a.createElement(e,qt({},t,{onShow:function(){if(r&&c){var e=r.answers;c.log("custom_user_feedback_show",{local:{__uq__:r.id,__ua__:e.map(function(e){return e.id}).join(","),__ut__:r.type,__uat__:e.map(function(e){return e.type}).join(",")}})}},onCheck:function(e,t,n){var i=u(e);if(r&&i&&n!==i.isChecked){var o=n?"custom_user_feedback":"custom_user_feedback_cancel";c&&c.log(o,{local:{__uq__:r.id,__ua__:i.id,__ut__:r.type,__uat__:i.type}}),s(function(e){return{type:"ITEM_FEEDBACK_ANSWER_TOGGLE",payload:{id:e.id,targetKey:e.targetKey,questionType:e.questionType}}}({id:r.id,targetKey:t,questionType:r.type}))}},answerSelector:u,answers:r.answers,text:r.text,logger:c,zenApi:a})):null};return t.displayName=ms("WithQuestionLogic",e),Object(p.memo)(t)},Sl=(n(282),Fc("feedback-dislike-options-view")),xl="SPINNER_ROLL",Ol="SPINNER_OK",Rl=800,Il=eu(function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={spinnerStatus:!1},n._containerRef=function(e){var t=n.props.rootRef;t&&t(e)},n.renderStatus=function(){var e,t=n.props,r=t.answers,i=t.l10n,o=n.state.spinnerStatus,a=r.some(function(e){return e.isChecked}),s=!1;return o===xl&&(s="roll"),o===Ol&&(s="ok"),a&&s||(s="none"),f.a.createElement("div",{className:Sl("status",(e={},e[s]=!0,e))},f.a.createElement("div",{className:Sl("status-icon")}),f.a.createElement("div",{className:Sl("status-text")},i("feedback.dislike_select.saved")))},n.setSpinnerOk=Fi(function(){n.state.spinnerStatus===xl&&n.setState({spinnerStatus:Ol})},Rl),n.renderItem=function(e,t){var r=e.id,i=e.text,o=e.isChecked,a=n.props.onCheck;return f.a.createElement("div",{className:Sl("list-item",{selected:o}),key:t,onClick:function(){a(r,t,!o),n.setState({spinnerStatus:xl},n.setSpinnerOk())}},i)},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.answers,n=e.text,r=e.isVisible,i=e.onShow,o=e.showLoggerTimeout;return f.a.createElement(Qn,{isVisible:r,onShow:i,timeout:o},f.a.createElement("div",{ref:this._containerRef,className:Sl()},f.a.createElement("div",{className:Sl("question-text")},n),f.a.createElement("div",{className:Sl("list")},t.map(this.renderItem)),this.renderStatus()))},t}(p.Component)),Tl=wl(function(e){var t=function(t){var n=t.answerSelector,r=t.onCheck,i=gs().zenApi,o=Object(p.useCallback)(function(e,t,o){r(e,t,o);var a=n(e);a&&o!==a.isChecked&&(o?a.onBlock(i):a.onUnblock(i))},[n,r,i]);return f.a.createElement(e,qt({},t,{onCheck:o}))};return t.displayName=ms("FeedbackDislikeOptionQuestionLogic",e),t}(ou(X(function(e){return{showLoggerTimeout:mr(e).rezenExtendFeedback.showLoggerTimeout}})(Il)))),Nl=function(e){var t=e.className;return f.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},f.a.createElement("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"}))},Al=function(e){var t=e.className;return f.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},f.a.createElement("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"}))},Pl=Fc("feedback-card-view"),Ll=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.renderIcon=function(e){var t=n.props.isMobile;switch(e){case"complain":return f.a.createElement(Nl,{className:Pl("icon",{isMobile:t})});case"action":return f.a.createElement(Al,{className:Pl("icon",{isMobile:t})});default:return null}},n.renderButton=function(e,t){if(!t)return null;var r=t.onClick,i=t.text,o=n.props.isMobile;return"cancel"!==e||o?f.a.createElement("button",{className:Pl("button",{type:e,isMobile:o}),onClick:r},n.renderIcon(e),f.a.createElement("div",null,i)):f.a.createElement(Cl,{size:"m",tab:"button",viewType:"border",className:Pl("button",{type:"cancel"}),onClick:r},i)},n.renderButtons=function(){var e=n.props,t=e.complainLinkButton,r=e.complainButton,i=e.cancelButton,o=e.actionButton,a=e.isHiddenCancelButton;return f.a.createElement("div",{className:Pl("buttons")},n.renderButton("action",o),n.renderButton("complain",t),n.renderButton("complain",r),a?null:n.renderButton("cancel",i))},n.renderHeader=function(){var e=n.props,t=e.id,r=e.dislikeQuestion,i=e.isExtendFeedbackEnabled,o=e.isMobile,a=e.description,s=e.title;return i?f.a.createElement(Tl,{id:t,question:r}):f.a.createElement("div",{className:Pl("text",{isMobile:o})},s," ",a)},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.theme,r=e.place;return f.a.createElement("div",{className:Pl({size:t,theme:n,place:r})},this.renderHeader(),this.renderButtons())},t}(p.PureComponent),Ml=(n(285),Fc("feedback-popup-view")),Dl=function(e){var t=e.mainColor,n=e.className,r=e.children;return f.a.createElement("div",{className:Fc.mix(Ml(),n)},f.a.createElement("div",{style:{background:t||"#F2F2F2"},className:Ml("fog")}),f.a.createElement("div",{className:Ml("wrapper")},f.a.createElement("div",{className:Ml("popup")},r)))},Bl=(n(150),n(284),Fc("complaints-card")),jl=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={selectedReasonIds:new Set},n._contentRef=function(e){return n._contentElem=e},n._bottomRef=function(e){return n._bottomElem=e},n._onButtonClick=function(){var e=n.props,t=e.cancelButton,r=e.actionButton,i=n.state.selectedReasonIds;i.size?r.onClick({reasonIds:Array.from(i)}):t.onClick()},t||qn(n)}Gt(t,e);var n=t.prototype;return n._onReasonClick=function(e){this.setState(function(t){var n=t.selectedReasonIds,r=n.has(e),i=new Set(n);return r?i.delete(e):i.add(e),{selectedReasonIds:i}})},n._renderReasonsColumn=function(e){var t=this,n=this.state.selectedReasonIds;return e.map(function(e){var r=e.id,i=e.text,o=n.has(r);return f.a.createElement("div",{key:r,className:Bl("reason",{selected:o}),onClick:function(){return t._onReasonClick(r)}},f.a.createElement("div",{className:Bl("reason-checkbox")}),f.a.createElement("div",{className:Bl("reason-label")},i))})},n._renderReasons=function(){var e=this.props,t=e.size,n=e.reasons;if(t===he.SMALL)return f.a.createElement("div",{className:Bl("reasons")},this._renderReasonsColumn(n));var r=Math.ceil(n.length/2);return f.a.createElement("div",{className:Bl("reasons")},f.a.createElement("div",{className:Bl("reasons-column")},this._renderReasonsColumn(n.slice(0,r))),f.a.createElement("div",{className:Bl("reasons-column")},this._renderReasonsColumn(n.slice(r))))},n.componentDidMount=function(){var e=this._contentElem?this._contentElem.offsetWidth-this._contentElem.clientWidth:0,t=!!this._contentElem&&"rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem&&(this._bottomElem.style.right=t?"":e+"px",this._bottomElem.style.left=t?e+"px":"")},n.render=function(){var e=this.props,t=e.size,n=e.title,r=e.cancelButton,i=e.actionButton,o=e.theme,a=e.place,s=this.state.selectedReasonIds.size?[i,"action"]:[r,"cancel"],c=s[0],u=s[1];return f.a.createElement("div",{className:Bl({size:t,theme:o,place:a})},f.a.createElement("div",{className:Bl("content"),ref:this._contentRef},f.a.createElement("div",{className:Bl("title")},n),this._renderReasons()),f.a.createElement("div",{className:Bl("bottom"),ref:this._bottomRef},f.a.createElement("button",{className:Bl("button",{type:u}),onClick:this._onButtonClick},c.text)))},t}(p.PureComponent),Fl={dislikeCard:function(e){return{title:e("feedback.feedback_to_dislike_title")+".",description:e("feedback.feedback_to_dislike_desc"),complainButtonText:e("feedback.complain"),cancelButtonText:e("v2.cancel"),actionButtonText:function(t){return e("feedback.block").replace("%domain",t.domainTitle)}}},blockCard:function(e){return{title:e("feedback.feedback_to_block_title")+".",description:function(t){return e("feedback.feedback_to_block_desc").replace("%source",t.domainTitle)},complainButtonText:e("feedback.complain"),cancelButtonText:e("v2.cancel")}},complaintsCard:function(e){return{title:e("feedback.complain_reason"),cancelButtonText:e("feedback.complain_close"),actionButtonText:e("feedback.complain_send")}},complaintsDialogCard:function(e){return{title:e("feedback.thanks"),description:e("feedback.complained"),complainLinkText:e("feedback.official_complain_url_text")}}},Ul=((Mu={})[me.DOC]=Fl,Mu[me.POST]=Fl,Mu[me.NARRATIVE]=Fl,Mu[me.GIF]=Fl,Mu[me.FEATURING_PROMO]={dislikeCard:function(e){return{title:e("feedback.feedback_to_dislike_title")+".",description:e("feedback.feedback_to_dislike_desc"),cancelButtonText:e("v2.cancel")}}},Mu),zl="https://yandex.ru/support/abuse/troubleshooting/zen/list.html",Vl=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._openComplaints=function(){(0,n.props.itemOpenComplaints)()},n._onComplainLinkClick=function(){window.open(zl,"_blank")},n._sendComplaints=function(e){(0,n.props.itemSendComplaints)(e)},n._cancelComplaints=function(){(0,n.props.itemCancelComplaints)()},n._onBlock=function(){var e=n.props,t=e.onBlock,r=e.itemBlock;t(),r()},n._onUnblock=function(){var e=n.props,t=e.onUnblock,r=e.itemUnblock;t(),r()},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getTexts=function(e){for(var t=this.props,n=t.type,r=t.l10n,i=Ul[n][e](r),o=Object.keys(i),a={},s=0;s<o.length;s++){var c=o[s],u=i[c];a[c]="function"==typeof u?u(this.props):u}return a},n._renderDislikeCard=function(){var e=this.props,t=e.id,n=e.size,r=e.isMobile,i=e.itemCancelDislike,o=e.theme,a=e.dislikeQuestion,s=e.isExtendFeedbackExp,c=e.isExtendFeedbackPopupExp,u=e.complaints,l=e.place,d=this._getTexts("dislikeCard"),p=d.title,m=d.description,h=d.complainButtonText,v=d.cancelButtonText,g=d.actionButtonText,b=(s||c)&&a,_={size:n,title:p,description:m,complainButton:u||!h?null:{text:h,onClick:this._openComplaints},cancelButton:{text:v,onClick:i},actionButton:g?{text:g,onClick:this._onBlock}:null,theme:o,isMobile:r,isExtendFeedbackEnabled:b,dislikeQuestion:a,id:t,isHiddenCancelButton:c,place:l};return f.a.createElement(Ll,_)},n._renderBlockCard=function(){var e=this.props,t=e.id,n=e.size,r=e.isMobile,i=e.theme,o=e.dislikeQuestion,a=e.complaints,s=e.place,c=this._getTexts("blockCard"),u=c.title,l=c.description,d=c.complainButtonText,p=c.cancelButtonText,m={size:n,title:u,description:l,complainButton:a?null:{text:d,onClick:this._openComplaints},cancelButton:{text:p,onClick:this._onUnblock},theme:i,isMobile:r,dislikeQuestion:o,id:t,place:s};return f.a.createElement(Ll,m)},n._renderComplaintsCard=function(){var e=this.props,t=e.size,n=e.complaintReasons,r=e.theme,i=e.isIntersecting,o=e.place,a=this._getTexts("complaintsCard"),s=a.title,c=a.cancelButtonText,u=a.actionButtonText,l={size:t,title:s,reasons:n,cancelButton:{text:c,onClick:this._cancelComplaints},actionButton:{text:u,onClick:this._sendComplaints},theme:r,isIntersecting:i,place:o};return f.a.createElement(jl,l)},n._renderComplaintsDialogCard=function(){var e=this.props,t=e.id,n=e.size,r=e.isMobile,i=e.theme,o=e.dislikeQuestion,a=e.feedback,s=e.isOfficialComplains,c=e.complaints,u=e.place,l=this._getTexts("complaintsDialogCard"),d=l.title,p=l.description,m=l.complainLinkText,h=null;"disliked"===a&&(h={text:this._getTexts("dislikeCard").actionButtonText,onClick:this._onBlock});var v={size:n,title:d,description:p,actionButton:h,complainLinkButton:s?{text:m,onClick:this._onComplainLinkClick}:null,theme:i,isMobile:r,dislikeQuestion:o,id:t,complaints:c,place:u};return f.a.createElement(Ll,v)},n._renderFeedbackCard=function(){var e=this.props,t=e.feedback,n=e.complaints,r=e.complaintsSendedAt;if("opened"===n)return this._renderComplaintsCard();if("sended"===n&&r===t)return this._renderComplaintsDialogCard();switch(t){case"disliked":return this._renderDislikeCard();case"blocked":return this._renderBlockCard();default:return null}},n._renderFeedbackPopupView=function(){var e=this.props,t=e.feedback,n=e.mainColor,r={className:e.className,mainColor:n,isNegativeFeedback:t&&"liked"!==t};return f.a.createElement(Dl,r,this._renderFeedbackCard())},n.render=function(){var e=this.props,t=e.feedback,n=e.isMobile,r=e.isExtendFeedbackPopupExp;return t&&"liked"!==t||r?r&&!n?this._renderFeedbackPopupView():this._renderFeedbackCard():null},t}(p.PureComponent),Hl=Hu({itemCancelDislike:Ku,itemBlock:Yu,itemUnblock:Qu,itemOpenComplaints:Zu,itemSendComplaints:$u,itemCancelComplaints:Ju}),Wl=bl(X(function(e,t){var n=t.cancelExtendFeedbackPopupExp,r=mr(e),i=r.isExtendFeedbackExp,o=r.isOfficialComplains,a=r.rezenExtendFeedback,s=!n&&a.isPopup;return{isExtendFeedbackExp:i,isExtendFeedbackPopupExp:s,isOfficialComplains:o,place:s?"popup":null}},Hl)(eu(Vl))),Gl=function(e){var t=e.feedback&&"liked"!==e.feedback;return f.a.createElement(Bu.a,{component:p.Fragment,transitionName:"_transition",transitionEnterTimeout:400,transitionLeaveTimeout:400},t?f.a.createElement(Wl,e):null)},ql=(n(247),n(158)),Kl=function(){return new Promise(function(e){return requestAnimationFrame(function(){return e()})})},Yl=Fc("mittens-view"),Ql=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={canShowAnimations:!1},n._isMounted=void 0,t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.next=3,Kl();case 3:return e.next=5,Kl();case 5:this._isMounted&&this.setState({canShowAnimations:!0});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n.componentWillUnmount=function(){this._isMounted=!1},n._getSizes=function(){var e=ql[this.props.size],t=e.width,n=e.height,r=e.ratio;return{width:parseInt(t,10),height:parseInt(n,10),ratio:r}},n._renderMittensSvg=function(e){var t=this.props.color,n=this._getSizes(),r=n.width,i=n.height,o=n.ratio,a=e?"translate(11.5, 16) rotate(180) translate(-11.5, -16)":"";return f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:i,viewBox:"0 0 "+r+" "+i},f.a.createElement("path",{transform:"scale("+o+", "+o+") "+a,fill:t,fillRule:"evenodd",d:"M18.895 10.605c.609 0 1.102.496 1.102 1.108v.043a16.864 16.864 0 0 1-.819 4.253l-.003.01a16.834 16.834 0 0 1-2.716 5.075l-.002.003-.159.19H7.923v-9.43L12.78 6.05l.003-.004a4.77 4.77 0 0 0 .774-1.447l.003-.007a4.84 4.84 0 0 0 .234-1.22c.2-.2.475-.323.779-.323.568 0 .956.379 1.187 1.024.276.77.252 1.643.252 1.643a4.828 4.828 0 0 1-1.042 3l.002.002-1.6 1.888H18.894zM3.015 21.287v-9.43h3.272v9.43H3.014z"}))},n.render=function(){var e=this.state.canShowAnimations,t=this.props,n=t.onLikeClick,r=t.onDislikeClick,i=t.size,o=t.cursor,a=t.liked,s=t.disliked,c=t.blocked,u=t.jump,l=t.className,d=void 0===l?"":l,p=t.isExtendFeedbackPopupExp,m=s||c,h={size:i,jump:u,type:t.type,hasActive:a||m,hasDisliked:m,canShowAnimations:!p&&e};return f.a.createElement("div",{className:Fc.mix(Yl(h),d)},f.a.createElement("div",{className:Yl("mitten",{type:"like",active:a}),onClick:n,style:{cursor:o}},this._renderMittensSvg(!1)),f.a.createElement("div",{className:Yl("mitten",{type:"dislike",active:m}),onClick:r,style:{cursor:o}},this._renderMittensSvg(!0)))},t}(p.PureComponent);Ql.defaultProps={size:"small",cursor:"pointer",color:"#000"};var Zl=function(e){var t=Object(p.useRef)(e);return Object(p.useEffect)(function(){t.current=e},[e]),Object(p.useCallback)(function(){return t.current.apply(t,arguments)},[])},$l=function(e){var t=ne();return{itemLike:Zl(function(){return t(Wu(e))}),itemDislike:Zl(function(){return t(qu(e))}),itemUnblock:Zl(function(){return t(Qu(e))}),itemCancelLike:Zl(function(){return t(Gu(e))}),itemCancelDislike:Zl(function(){return t(Ku(e))}),itemUncheckAllAnswers:Zl(function(){return t(el(e))})}},Jl=function(){var e=Gi(),t=Sn();return function(n,r){return function(i){var o=e(i,n);return{isExtendFeedbackPopupExp:mr(i).rezenExtendFeedback.isPopup,dislikeQuestion:o,source:r||t(i,n)}}}},Xl=function(e){var t=function(t){var n=t.id,r=t.feedback,i=t.isMittensJumping,o=t.onLike,a=t.onCancelLike,s=t.onDislike,c=t.onCancelDislike,u=t.source,l=gs().zenApi,d=Object(p.useMemo)(Mi,[]),m=oe(Object(p.useMemo)(Jl,[])(n,u),F),h=m.isExtendFeedbackPopupExp,v=m.dislikeQuestion,g=m.source,b=$l(t),_=d(Object.assign({},t,{zenApi:l})),y=yl({source:g,logger:_}),E=Zl(function(){v&&(v.answers.forEach(function(e){e.isChecked&&e.onUnblock&&e.onUnblock(l)}),b.itemUncheckAllAnswers())}),k=Zl(function(){b.itemCancelDislike(),"blocked"===r&&y.onUnblock(),h&&E()}),C=Zl(function(e){e.preventDefault(),e.stopPropagation(),"liked"===r?b.itemCancelLike():"disliked"===r||"blocked"===r?(k(),b.itemLike()):b.itemLike();var t="liked"===r?a:o;t&&t(e)}),w=Zl(function(e){e.preventDefault(),e.stopPropagation(),"disliked"===r||"blocked"===r?k():"liked"===r?(b.itemCancelLike(),b.itemDislike()):b.itemDislike();var t="disliked"===r?c:s;t&&t(e)});return f.a.createElement(e,qt({},t,{liked:"liked"===r,disliked:"disliked"===r,blocked:"blocked"===r,jump:i,onLikeClick:C,onDislikeClick:w,isExtendFeedbackPopupExp:h,dislikeQuestion:v,source:g,logger:_,zenApi:l},b,y))};return t.displayName=ms("WithFeedbackMittensLogic",e),Object(p.memo)(t)},ed=Xl(Ql),td=(n(290),Fc("video_autoplay")),nd=function(e){function t(){return e.apply(this,arguments)||this}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.autoplay,n=e.onAutoplayClick;return f.a.createElement("div",{className:td("wrapper",{active:t}),onClick:n},"Автовоспроизведение",f.a.createElement("div",{className:td("outer")},f.a.createElement("div",{className:td("inner")})))},t}(p.PureComponent),rd=(n(287),function(e){var t=!1,n=function(){t||e.apply(void 0,arguments)};return n.cancel=function(){t=!0,"function"==typeof e.onCancel&&e.onCancel()},n}),id=(n(288),n(289),Fc("spinner")),od=function(e){var t=e.dots,n=new Array(void 0===t?5:t).fill(void 0).map(function(e,t){var n;return f.a.createElement("div",{key:t,className:id("dot",(n={},n["dot-index_"+t]=!0,n))})});return f.a.createElement("div",{className:id()},n)},ad=Fc("video-loader");function sd(e){var t=e.visible,n=e.className,r=an(e,["visible","className"]),i=Fc.mix(ad({visible:t}),n);return f.a.createElement("div",qt({className:i},r),f.a.createElement(od,null))}var cd,ud,ld=function(e,t){var n={};return function(r){var i=e,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var c=s;!n[c]&&r>=c&&(n[c]=!0,t(c))}}};!function(e){e[e.PLAYBACK_NOT_STARTED=-1]="PLAYBACK_NOT_STARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.QUEUED=5]="QUEUED"}(cd||(cd={})),(ud||(ud={})).PLAY_BUTTON_CLICK="PLAY_BUTTON_CLICK";var dd=Fc("video-player"),pd=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,gd.call(qn(n)),t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.shouldInitPlayer,n=e.logger,r=e.video.heartbeatTimes;this._heartbeatHandler=ld(r,function(e){n.log(du.heartbeat,{global:{_video_pos_:e.toString()}})}),t&&this._initPlayer()},n.componentWillUnmount=function(){this._player&&this._player.destroy(),this._initPlayer.cancel();var e=this._cancelableHandlers;e&&ft(e).forEach(function(t){return e[t].cancel()})},n.componentDidUpdate=function(e){var t=e.muted,n=e.video,r=e.paused,i=this.props,o=i.paused,a=i.muted,s=i.video,c=i.shouldInitPlayer;if(!this._player&&c&&this._initPlayer(),r&&!o&&this._resetLoop(),this._player){var u=this._player.getState();u===cd.PLAYING||o?u!==cd.PAUSED&&o&&this._player.pause():this._player.play(),t!==a&&this._player.setMuted(a),n.id!==s.id&&this._updateConfig(),c||this._destroy()}},n._renderLoader=function(){var e=this.props.paused,t=this.state.loading;return f.a.createElement(sd,{visible:t&&!e})},n.render=function(){var e=this.props,t=e.className,n=e.style,r=Fc.mix(dd(),t);return f.a.createElement("div",{className:r,style:n},this._renderLoader(),f.a.createElement("div",{className:dd("container"),style:n,ref:this._containerRef}))},t}(p.PureComponent);pd.defaultProps={maxBufferLength:7,preload:!0,hidden:"*",size:{width:"100%",height:"100%"},handlers:{},shouldInitPlayer:!1,paused:!0,muted:!0};var fd,md,hd,vd,gd=function(){var e=this;this.state={loading:!1},this._initStarted=!1,this._previousTime=0,this._loopCounter=1,this._loopPaused=!1,this._loopTimeCounter=300,this._latestMuted=!0,this._initPlayer=rd(Pn(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,c,u,l,d,p,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._initStarted){t.next=2;break}return t.abrupt("return");case 2:return e._initStarted=!0,n=e.props,r=n.maxBufferLength,i=n.muted,o=n.preload,a=n.hidden,s=n.size,c=n.video,u=c.id,l=c.hasSound,d=n.objectFit,p=n.paused,e._previousTime=0,t.next=7,Mn("https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js");case 7:return f=e._prepareSource(),e._prepareHandlers(),t.next=11,window.Ya.streamPlayer.init({version:"1.0-573",element:e._containerElem,handlers:e._cancelableHandlers,source:f,maxBufferLength:r,muted:i||!l,preload:o,hidden:a,size:s});case 11:m=e._player=t.sent,u!==e.props.video.id?e._updateConfig():(m.setVideoStyle({objectFit:d}),p||m.play());case 13:case"end":return t.stop()}},t)}))),this._containerRef=rd(function(t){e._containerElem=t}),this._resetLoop=function(){e._player?e._loopTimeCounter=e._player.getWatchedTime()+300:e._loopTimeCounter=300,e._loopCounter=1,e._loopPaused=!1},this._onReady=function(){e._resetLoop()},this._onCurrentTimeChange=function(t,n,r){var i=e.props,o=i.logger,a=i.stopLoop;e._heartbeatHandler&&e._heartbeatHandler(r);var s=e._previousTime>t;e._previousTime=t,r>=e._loopTimeCounter&&!e._loopPaused?(a(),o.log(du.autopause),e._loopPaused=!0):s&&(5===e._loopCounter?(a(),o.log(du.end),e._loopCounter=1):(o.log(du.end),o.log(du.replay),e._loopCounter++))},this._onStateChange=function(t){var n=e.props.logger,r=e.state.loading;switch(t){case cd.PLAYING:"play"===e._latestUserAction&&(n.log(du.play),e.setState({paused:!1})),r&&e.setState({loading:!1});break;case cd.PAUSED:"pause"===e._latestUserAction&&(n.log(du.pause),e.setState({paused:!0})),r&&e.setState({loading:!1});break;case cd.BUFFERING:r||e.setState({loading:!0})}e._latestUserAction=null},this._onUserAction=function(t){if(t.name===ud.PLAY_BUTTON_CLICK){var n=(t.data||{state:void 0}).state;switch(n){case"play":e._resetLoop(),e._latestUserAction=n;break;case"pause":e._latestUserAction=n}}},this._onVolumeChange=function(t){var n=e.props.logger,r=0===t;e._latestMuted!==r&&(r?n.log(du.sound_off):n.log(du.sound_on),e._latestMuted=r)},this._prepareHandlers=function(){if(e.props.handlers){var t=Object.assign({},e.props.handlers),n=t.onStateChange,r=t.onUserAction,i=t.onVolumeChange,o=t.onCurrentTimeChange,a=t.onReady;t.onStateChange=function(){e._onStateChange.apply(e,arguments),n&&n.apply(void 0,arguments)},t.onCurrentTimeChange=function(){e._onCurrentTimeChange.apply(e,arguments),o&&o.apply(void 0,arguments)},t.onUserAction=function(){e._onUserAction.apply(e,arguments),r&&r.apply(void 0,arguments)},t.onVolumeChange=function(){e._onVolumeChange.apply(e,arguments),i&&i.apply(void 0,arguments)},t.onReady=function(){e._onReady(),a&&a()},e._cancelableHandlers=ft(t).reduce(function(e,n){var r;return Object.assign({},e,((r={})[n]=rd(t[n]),r))},{})}},this._prepareSource=function(){var t=e.props.video;return{streamUrl:t.id,loop:!1!==t.loop,additionalParams:t.additionalParams}},this._updateConfig=Pn(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._prepareHandlers(),n=e._prepareSource(),e._previousTime=0,!e.props.isIE){t.next=12;break}if(!e._player){t.next=7;break}return t.next=7,e._player.destroy();case 7:e._initStarted=!1,e._player=null,e._initPlayer(),t.next=15;break;case 12:if(!e._player){t.next=15;break}return t.next=15,e._player.setSource(n);case 15:case"end":return t.stop()}},t)})),this._destroy=function(){var t=e.props,n=t.destroyTimeout,r=void 0===n?2e3:n,i=t.onDestroy;e._destroyTimeout=setTimeout(Pn(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.shouldInitPlayer,!e._player||n){t.next=7;break}return t.next=4,e._player.destroy();case 4:e._initStarted=!1,e._player=null,i&&i();case 7:case"end":return t.stop()}},t)})),r)}},bd=pd,_d=(n(249),Object(p.forwardRef)(function(e,t){var n=Object.assign({},e),r=function(){var e=te();return Object(p.useMemo)(function(){return e.getState().params.host||""},[e])}();return f.a.createElement(yd,qt({},n,{host:r,rootRef:t}))})),yd=function(e){var t=e.target,n=void 0===t?"_blank":t,r=e.href,i=e.rel,o=void 0===i?"":i,a=e.rootRef,s=e.host,c=an(e,["target","href","rel","rootRef","host"]),u="_blank"===n&&r&&!r.includes(s)?o+" noopener":o;return f.a.createElement("a",qt({},c,{href:r,rel:u||void 0,target:n,ref:a}))},Ed=n(10),kd=n.n(Ed),Cd=n(11),wd=n.n(Cd),Sd=new kd.a({id:"comments-balloon--inline",use:"comments-balloon--inline-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" id="comments-balloon--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v5.674a3 3 0 0 0 3 3h3.619L9 14l2.381-2.326H15a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),xd=(wd.a.add(Sd),Sd),Od=new kd.a({id:"comments-balloon-touch--inline",use:"comments-balloon-touch--inline-usage",viewBox:"0 0 22 24",content:'<symbol viewBox="0 0 22 24" id="comments-balloon-touch--inline"><path fill-rule="evenodd" d="M3 4.3785a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h3.757L11 23.6215 15.243 19.3785H19a3 3 0 0 0 3-3V7.3782a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),Rd=(wd.a.add(Od),Od),Id=new kd.a({id:"comments-hot--inline",use:"comments-hot--inline-usage",viewBox:"0 0 8 10",content:'<symbol viewBox="0 0 8 10" id="comments-hot--inline">\n<path d="M4.66602 0.333496C4.33268 1.3335 3.66602 3.00016 5.33268 4.66683C5.33268 4.3335 4.99935 3.3335 5.66602 2.66683C6.33268 4.00016 7.33268 4.3335 7.33268 6.00016C7.33268 8.3335 0.666016 8.66683 0.666016 6.00016C0.666016 3.00016 2.66602 1.3335 4.66602 0.333496Z" />\n<path d="M7.33268 6.00016C7.33268 7.84111 5.8403 9.3335 3.99935 9.3335C2.1584 9.3335 0.666016 7.84111 0.666016 6.00016C0.666016 4.15921 2.1584 5.66683 3.99935 5.66683C5.8403 5.66683 7.33268 4.15921 7.33268 6.00016Z" />\n</symbol>'}),Td=(wd.a.add(Id),Id),Nd=Fc("comment-counter"),Ad=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onClick=function(e){var t=n.props,r=t.onClick;t.logger.log("click_comments_counter"),"function"==typeof r&&r(e)},n._onShow=function(){n.props.logger.log("show_comments_counter")},n._renderBalloon=function(e){var t=n.props,r=t.isMobile,i=t.textColor,o=t.balloonColor,a=t.isHot,s=t.hotBubbleEnabled,c=a&&s;return r?f.a.createElement("svg",{className:Nd("icon"),viewBox:Rd.viewBox,style:{fill:o}},f.a.createElement("use",{xlinkHref:"#"+Rd.id}),c?f.a.createElement("svg",{viewBox:Td.viewBox,width:22,height:13,y:6,style:{fill:i}},f.a.createElement("use",{xlinkHref:"#"+Td.id})):f.a.createElement("text",{className:Nd("info"),x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:i}},e)):f.a.createElement(f.a.Fragment,null,f.a.createElement("svg",{className:Nd("icon"),viewBox:xd.viewBox,style:{fill:o}},f.a.createElement("use",{xlinkHref:"#"+xd.id}),c&&f.a.createElement("svg",{viewBox:Td.viewBox,width:18,height:10,y:1,style:{fill:i}},f.a.createElement("use",{xlinkHref:"#"+Td.id}))),!c&&f.a.createElement("span",{className:Nd("info"),style:{color:i}},e))},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.link,n=e.count,r=e.isVisible,i=e.rootRef,o=e.elemRef,a=e.isPost,s=e.feedbackMittensIsDisabled,c=e.isDesktop,u=e.isMobile,l=e.isAbsolute;if(e.isLowResolutionDevice)return null;if("number"!=typeof n)return null;var d=n>99?"99+":String(n),p=Nd({isPost:a,isDesktop:c,isMobile:u,isAbsolute:l,feedbackMittensIsDisabled:s});return f.a.createElement(Qn,{isVisible:r,onShow:this._onShow},f.a.createElement("div",{className:p,ref:o},f.a.createElement(_d,{ref:i,className:Nd("balloon"),href:t,onClick:this._onClick},this._renderBalloon(d))))},t}(p.PureComponent),Pd=X(function(e){return{hotBubbleEnabled:ua(e).hotBubble}})(Ad),Ld=(n(246),Fc("card-channel-name")),Md=function(e){var t=e.textColor,n=e.name,r=e.read,i=e.className,o=e.opacity,a=e.limit,s=void 0===a?20:a;return f.a.createElement("div",{className:Fc.mix(Ld({read:r,size:n.length>=s?"small":"medium"}),i),style:{color:t,opacity:o}},n)},Dd=(n(250),Fc("card-channel-link")),Bd=function(e){var t=e.className,n=e.children;return f.a.createElement("div",{className:Fc.mix(Dd(),t)},n)},jd=(n(265),Fc("specified-title")),Fd=function(e){var t=Vc(e,{className:jd()});return f.a.createElement("h2",qt({},t,{itemProp:"headline"}))},Ud=Fc("video-card"),zd=ou(Pd),Vd=eu(function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={hideControls:!1},n._getSoundTitle=function(){var e=n.props,t=e.muted,r=e.hasSound,i=e.l10n;return i(r?t?"mobile.video.unmute":"mobile.video.mute":"mobile.video.no_sound")},n._renderCommentsCounter=function(){var e=n.props,t=e.isDesktopVideoModalCommentsEnabled,r=e.commentsCount,i=e.allCommentsLink,o=e.logger,a=e.feedbackMittensProps,s=e.onClick,c=e.isLowResolutionDevice;return t?f.a.createElement(zd,{textColor:"#000",balloonColor:"#fff",isDesktop:!0,link:i,count:r,logger:o,feedbackMittensIsDisabled:!a.isEnabled,onClick:s,isLowResolutionDevice:c}):null},t||qn(n)}Gt(t,e);var n=t.prototype;return n._renderPlayer=function(){var e=this.props,t=e.playerProps,n=e.onClick;return f.a.createElement(bd,qt({className:Ud("player-wrapper")},t,{onClick:n}))},n._renderPreview=function(){var e=this.props,t=e.started,n=e.size,r=e.image,i=e.bigImage,o={backgroundImage:"url("+(n!==he.SMALL&&i?i:r)+")"};return t?null:f.a.createElement("div",{className:Ud("preview",{started:t}),style:o})},n._renderControls=function(){var e=this.props,t=e.muted,n=e.autoplay,r=e.onMuteClick,i=e.onAutoplayClick,o=e.hasSound,a=f.a.createElement("div",{className:Ud("mute",{active:o&&!t,noSound:!o}),onClick:r,title:this._getSoundTitle()}),s=f.a.createElement(nd,{autoplay:n,onAutoplayClick:i});return f.a.createElement("div",{className:Ud("controls")},a,s)},n._renderPlayButton=function(){var e=this.props.paused;return f.a.createElement("div",{className:Ud("play_button",{visible:e})})},n._renderTitle=function(){var e=this.props.title;return f.a.createElement(Lu,{className:Ud("title"),component:Fd},e)},n._renderDomain=function(){var e=this.props.domainTitle;return f.a.createElement("div",{className:Ud("domain")},f.a.createElement(Bd,null,f.a.createElement(Md,{textColor:"#fff",name:e})))},n._renderMittens=function(e){void 0===e&&(e=null);var t=this.props.feedbackMittensProps;return f.a.createElement("div",{className:Ud("mittens")},f.a.createElement(ed,qt({},t,{color:"#fff",type:e})))},n._renderFeedback=function(){var e=this.props,t=e.logger,n=e.feedbackProps,r=e.feedback,i=e.isExtendFeedbackPopupExp;return n.isEnabled&&(r&&"liked"!==r||i)?i?f.a.createElement(Gl,qt({mainColor:"rgb(0,0,0)",className:Ud("feedback-popup-view"),logger:t},n,{theme:"white"})):f.a.createElement("div",{className:Ud("feedback-wrapper")},f.a.createElement(Gl,qt({logger:t},n))):null},n._renderFeedbackControls=function(){return f.a.createElement("div",{className:Ud("feedback-controls")},f.a.createElement("div",{className:Ud("bottom")},this._renderDomain(),this._renderMittens("popup")))},n.render=function(){var e=this.props,t=e.onAuxClick,n=e.started,r=e.paused,i=e.onClick,o=e.isIntersecting,a=e.controlsHidden,s=e.link,c=e.rtbFitted,u=e.withShadows,l=e.isExtendFeedbackPopupExp,d={visible:o,started:n,paused:r,isExtendFeedbackPopupExp:l,isDesktop:!0,withShadows:u},p=c?"_rtb-fitted":null;return f.a.createElement("div",{className:Fc.mix(Ud(d),p)},this._renderPreview(),f.a.createElement("a",{className:Ud("content",{hidden:a}),href:s,target:"_blank",rel:"noopener noreferrer",onClick:i,onAuxClick:t},this._renderPlayButton(),this._renderControls(),this._renderTitle(),f.a.createElement("div",{className:Ud("bottom")},this._renderDomain(),this._renderCommentsCounter(),this._renderMittens())),this._renderPlayer(),this._renderFeedback(),l?this._renderFeedbackControls():null)},t}(p.PureComponent)),Hd={activeCard:{id:null,paused:!1,muted:!0},interactionCardId:null,visibleCardIndices:{},intersectingCardIndices:{}},Wd=function(e,t,n){var r,i=e[n],o=t.payload,a=o.id,s=o.index,c=o.value,u=Object.assign({},i);return c?u[a]=s:delete u[a],Object.assign({},e,((r={})[n]=u,r))},Gd=Object(Vt.createSelector)(function(e,t){return t},function(e){return e.videoModal.openedItemId},function(e){var t=e.videoCards,n=t.interactionCardId;if(void 0!==t.intersectingCardIndices[n])return n},function(e,t){return Ur(e,t).video.autoplay&&e.iface.isVideoAutoplayEnabled},function(e,t){var n=e.videoCards.visibleCardIndices;if(0===n.length)return!1;var r=Object.values(n);return n[t]===Math.min.apply(void 0,r)},function(e,t,n,r,i){return!(t||n&&n!==e)&&(n===e||!!r&&i)}),qd=function(e,t,n){return(e.videoCards.activeCard.id===t?e.videoCards:Hd).activeCard[n]},Kd=function(e){var t=e.match(/^#([0-9a-f]{3})$/i);if(t){var n=t[1];return[17*parseInt(n.charAt(0),16),17*parseInt(n.charAt(1),16),17*parseInt(n.charAt(2),16)]}if(t=e.match(/^#([0-9a-f]{6})$/i)){var r=t[1];return[parseInt(r.substr(0,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(4,2),16)]}return(t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]:[0,0,0]},Yd=function(e,t,n){e/=255,t/=255,n/=255;var r=Math.max(e,t,n),i=Math.min(e,t,n),o=(r+i)/2,a=r-i;if(0===a)return[0,0,o];var s=o>.5?a/(2-r-i):a/(r+i);switch(r){case e:return[((t-n)/a+(t<n?6:0))/6,s,o];case t:return[((n-e)/a+2)/6,s,o];case n:return[((e-t)/a+4)/6,s,o];default:throw new Error("never happens")}},Qd=function(e,t,n){return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)/255<.53},Zd=function(e){var t=e.cardColors,n=e.mainColor;if(n){var r=Kd(n);return Qd.apply(void 0,r)}if(t){var i=Kd(t.card);return Qd.apply(void 0,i)}return!1},$d={isDarkImage:!1,isCloseToWhite:!1,card:"#FFFFFF",text:"#000000"},Jd=function(e){try{var t=Kd(e),n=t[0],r=t[1],i=t[2],o=Yd(n,r,i),a=o[1],s=o[2],c=a<=.35&&s>=.9,u=Qd(n,r,i);return{isDarkImage:u,isCloseToWhite:c,card:c?"#FFFFFF":e,text:u?"#FFFFFF":"#000000"}}catch(e){return console.error(e),$d}},Xd=function(e,t){var n=e.commentsDocumentId,r=e.commentsData,i=e.feed,o=i&&i.items&&i.items[t],a=!n&&o?o.commentsDocumentId:n;if(a&&r[a])return r[a].count},ep=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={controlsHidden:!1},n._hideControls=rd(function(e){n.setState({controlsHidden:e})}),n._changeActiveCard=function(e){var t=n.props,r=t.id,i=t.paused,o=t.muted;(0,t.setActiveCard)(Object.assign({id:r,paused:i,muted:o},e))},n._onAuxClick=function(e){if(1===e.button){var t=n.props,r=t.id,i=t.paused,o=t.setLastInteractedCard,a=t.logger;o(r),i||(n._changeActiveCard({paused:!0}),a.log(du.pause))}},n._onClick=function(e){var t=n.props,r=t.id,i=t.setLastInteractedCard,o=t.logger;if(i(r),!e.ctrlKey&&!e.metaKey||0!==e.button){if(n.props.hasModal){var a=n.props,s=a.id,c=a.logger,u=a.paused,l=a.toggleVideoModal;a.isModalOpen||(c.log(du.click),l(s),u||(n._changeActiveCard({paused:!0}),c.log(du.pause)))}else{var d=n.props,p=d.paused,f=d.logger;f.log(du.click),n._changeActiveCard({paused:!p}),f.log(p?du.play:du.pause)}e.preventDefault()}else{n.props.paused||(n._changeActiveCard({paused:!0}),o.log(du.pause))}},n._onMuteClick=function(e){var t=n.props,r=t.id,i=t.muted,o=t.logger,a=t.video.hasSound;(0,t.setLastInteractedCard)(r),a&&(o.log(i?du.sound_on:du.sound_off),n._changeActiveCard({muted:!i})),e.stopPropagation(),e.preventDefault()},n._onAutoplayClick=function(e){var t=n.props,r=t.id,i=t.autoplay,o=t.paused,a=t.logger,s=t.setVideoAutoplay;(0,t.setLastInteractedCard)(r);var c=!i;s(c),a.log(c?du.autoplay_on:du.autoplay_off),o&&c&&a.log(du.autoplay),o||c||a.log(du.autopause),n._changeActiveCard({paused:i}),e.stopPropagation(),e.preventDefault()},n._stopLoop=function(){n._changeActiveCard({paused:!0})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._hideControls.cancel()},n.componentDidUpdate=function(e){var t=this,n=e.paused,r=this.props.paused;n&&!r&&(this._hideControls(!1),setTimeout(function(){return t._hideControls(!0)},4e3)),!n&&r&&this._hideControls(!1)},n.render=function(){var e=this.props,t=e.started,n=e.paused,r=e.muted,i=e.video,o=e.isIntersecting,a=e.logger,s=e.size,c=e.onDestroy,u=this.state.controlsHidden,l={video:i,shouldInitPlayer:t&&o,logger:a,objectFit:s===he.SMALL?"cover":"contain",isIntersecting:o,paused:n,muted:r,onDestroy:c,stopLoop:this._stopLoop,handlers:{onCurrentTimeChange:this._onCurrentTimeChange}},d=Object.assign({},this.props,{started:t,hasSound:i.hasSound,onAuxClick:this._onAuxClick,onClick:this._onClick,onMuteClick:this._onMuteClick,onAutoplayClick:this._onAutoplayClick,playerProps:l,controlsHidden:u});return f.a.createElement(Vd,d)},t}(p.PureComponent),tp=X(function(){var e=Object(Vt.createSelector)(Gd,function(e,t){var n=Ur(e,t).feedback;return n&&"liked"!==n},function(e,t){return qd(e,t,"paused")},function(e,t){return qd(e,t,"muted")},function(e,t,n,r){return!e||t?{paused:!0,muted:!0}:{paused:n,muted:r}});return function(t,n){var r=n.id,i=mr(t),o=i.hasModal,a=i.isRtbFitted,s=i.rezenExtendFeedback,c=i.isDesktopVideoModalCommentsEnabled,u=s.isPopup,l=e(t,r);return{paused:l.paused,muted:l.muted,hasModal:o,rtbFitted:a,withShadows:(void 0)(t),isExtendFeedbackPopupExp:u,isDesktopVideoModalCommentsEnabled:c,commentsCount:Xd(t,r)}}})(pu(ep)),np=(n(303),function(e){var t=function(t){var n=t.isVisible,r=t.logger,i=t.onShow,o=t.sendShow,a=t.sendDeepwatch,s=t.loggerParams;return f.a.createElement(Qn,{logger:r,onShow:i,isVisible:n,sendShow:o,sendDeepwatch:a,loggerParams:s},f.a.createElement(e,t))};return t.displayName=ms("WithShowLogger",e),t}),rp=function(e){return function(t){function n(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=t.call.apply(t,[this].concat(i))||this,n._onClick=function(e){var t=n.props,r=t.logger,i=t.onClick;r.log("click"),i&&i(e)},e||qn(n)}return Gt(n,t),n.prototype.render=function(){return f.a.createElement(e,qt({},this.props,{onClick:this._onClick}))},n}(p.PureComponent)},ip=function(e){var t=function(t){var n=Object(p.useMemo)(Di,[]),r=gs().zenApi;return f.a.createElement(e,qt({},t,{logger:n(t,r)}))};return t.displayName=ms("WithLogger",e),Object(p.memo)(t)},op=Fc("hint-eula"),ap=X(function(e,t){var n=t.id,r=Ir(e),i=Ur(e,n);return Object.assign({theme:r},i)})(ip(rp(np(function(e){var t=e.theme,n=e.link,r=e.rootRef,i=e.onClick,o=Xc().l10n;return f.a.createElement("div",{className:op({theme:t}),ref:r},f.a.createElement("div",{className:op("text")},o("desktop.eula_scroll_to_agree")),f.a.createElement("a",{href:n,className:op("link"),target:"_blank",rel:"noopener",onClick:i},o("desktop.eula_read_full")))})))),sp=(n(291),function(e){return{type:"DOC_SHOW",statEvent:"show",payload:{id:e}}}),cp=function(e){return{type:"DOC_SHORT",statEvent:"short",payload:{id:e}}},up=function(e,t){return{type:"DOC_CLICK",statEvent:"click",loggerParams:t,payload:{id:e}}},lp=function(e){return{type:"DOC_READ",payload:{id:e}}},dp=(n(293),function(e){var t=e.tag,n=void 0===t?"div":t,r=e.text,i=e.attrs,o=(0,e.stylesFormatter)(r,i,an(e,["tag","text","attrs","stylesFormatter"]));return f.a.createElement(n,qt({},i,{style:o}),r)});!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Big=2]="Big"}(vd||(vd={}));var pp,fp=function(e){return function(t,n,r){var i=r.warning,o=t.length;return o<=20?e[vd.Big]:o<=40&&!i?e[vd.Medium]:e[vd.Small]}},mp=((fd={})[vd.Small]={fontSize:"18px",lineHeight:"22px"},fd[vd.Medium]={fontSize:"18px",lineHeight:"22px"},fd[vd.Big]={fontSize:"26px",lineHeight:"32px"},fd),hp=((md={})[vd.Small]={fontSize:"12px",lineHeight:"16px"},md[vd.Medium]={fontSize:"14px",lineHeight:"20px"},md[vd.Big]={fontSize:"14px",lineHeight:"20px"},md),vp=((hd={})[vd.Small]={fontSize:"10px",lineHeight:"14px"},hd),gp=fp(mp),bp=fp(hp),_p=function(e){return e.length>=30?vp[vd.Small]:null},yp=function(e){var t=e.title,n=e.warning,r=e.attrs;return f.a.createElement(dp,{text:t,stylesFormatter:gp,warning:n,attrs:r})},Ep=function(e){var t=e.text,n=e.warning,r=e.attrs;return f.a.createElement(dp,{text:t,stylesFormatter:bp,warning:n,attrs:r})},kp=function(e){var t=e.warning,n=e.attrs;return f.a.createElement(dp,{text:t,stylesFormatter:_p,attrs:n})},Cp=Fc("direkt-card-standard"),wp=Object(p.memo)(function(e){var t=e.title,n=e.text,r=e.age,i=e.warning,o=e.domain,a=e.isRubberyDesign,s=e.directLinkClickHandler,c=e.columnCount,u=e.hasButton,l=e.isMordaDesktop,d=e.theme,p=e.renderLabel,m=e.image,h=Xc().l10n;if(m){var v=Number(m[1]),g=Number(m[2]);m=v>=306&&g>=135?m[0]:null}var b=null,_=null,y=null;m||a?(b=f.a.createElement(yp,{title:t,warning:i,attrs:{className:Cp("title")}}),_=f.a.createElement(Ep,{text:n,warning:i,attrs:{className:Cp("text")}}),i&&(y=f.a.createElement(kp,{warning:i,attrs:{className:Cp("warning")}}))):(b=f.a.createElement("div",{className:Cp("title")},t),_=f.a.createElement("div",{className:Cp("text")},n),i&&(y=f.a.createElement("div",{className:Cp("warning")},i)));var E={columns:c,hasImage:Boolean(m),hasButton:u,isMordaDesktop:l,theme:d};return f.a.createElement("div",{className:Cp(E)},f.a.createElement("div",{className:Cp("label"),onClick:s},f.a.createElement(p,null)),m?f.a.createElement("div",{className:Cp("image"),style:{backgroundImage:"url("+m+")"}}):null,f.a.createElement("div",{className:Cp("image-gradient")}),f.a.createElement("div",{className:Cp("title-spacer")}),f.a.createElement("div",{className:Cp("content")},f.a.createElement("div",{className:Cp("title-content")},b),f.a.createElement("div",{className:Cp("sub-content")},f.a.createElement("div",{className:Cp("domain")},o),r?f.a.createElement("div",{className:Cp("age")},r):null),f.a.createElement("div",{className:Cp("text-content")},_,y)),u?f.a.createElement("div",{className:Cp("button")},h("desktop.direct_go")):null)}),Sp=(n(292),Fc("direkt-card-banner")),xp=Object(p.memo)(function(e){var t=e.title,n=e.text,r=e.image,i=e.warning,o=e.domain,a=e.age,s=e.directLinkClickHandler,c=e.columnCount,u=e.hasButton,l=e.rootRef,d=e.renderLabel,p=Xc().l10n,m={columns:c,hasButton:u};return f.a.createElement("div",{className:Sp(m),ref:l},f.a.createElement("div",{className:Sp("label"),onClick:s},f.a.createElement(d,null)),f.a.createElement("div",{className:Sp("background")},f.a.createElement("div",{className:Sp("image"),style:{backgroundImage:"url("+r+")"}}),f.a.createElement("div",{className:Sp("image-mask")})),f.a.createElement("div",{className:Sp("hover-fade")}),f.a.createElement("div",{className:Sp("title-spacer")}),f.a.createElement("div",{className:Sp("content")},f.a.createElement("div",{className:Sp("title-content")},f.a.createElement(yp,{title:t,warning:i,attrs:{className:Sp("title")}})),f.a.createElement("div",{className:Sp("sub-content")},f.a.createElement("div",{className:Sp("domain")},o),a?f.a.createElement("div",{className:Sp("age")},a):null),f.a.createElement("div",{className:Sp("text-content")},f.a.createElement(Ep,{text:n,warning:i,attrs:{className:Sp("text")}}),i?f.a.createElement("div",{className:Sp("warning")},i):null)),u?f.a.createElement("div",{className:Sp("button")},p("desktop.direct_go")):null)}),Op=n(160),Rp=function(e,t){e.stopPropagation(),e.preventDefault();var n=Op.a[t];n?window.open(n,"_blank"):console.warn("directPartnerClickHandler: invalid tld")},Ip=Fc("direkt"),Tp=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._sendShowStat=function(){tc(n.props.showUrl).catch(console.error),n.props.onAdShow()},n._directLinkClickHandler=function(e){var t=n.props.tld;Rp(e,t)},n._renderLabel=function(){var e=n.props,t=e.isDirectLabelCut,r=(0,e.l10n)("desktop.direct");return t?f.a.createElement("span",{className:Ip("label-container")}):r},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getImageUrl=function(){var e=this.props.image;return e&&e[0]},n._onAdClick=function(e){var t=this.props,n=t.onAdClick,r=t.url;n(e),window.open(r,"_blank")},n.render=function(){var e=this,t=this.props,n=t.rootRef,r=t.title,i=t.text,o=t.image,a=t.domain,s=t.age,c=t.warning,u=t.isWideImage,l=t.columnCount,d=t.hasButton,p=t.isRubberyDesign,m=t.isVisible,h=t.isIntersecting,v=t.isWideImagesExp,g=t.isMordaDesktop,b=t.theme,_={image:this._getImageUrl(),warning:c,title:r,text:i,domain:a,age:s,columnCount:l,hasButton:d,isRubberyDesign:p,isVisible:m,isIntersecting:h,isMordaDesktop:g,theme:b,renderLabel:this._renderLabel,directLinkClickHandler:this._directLinkClickHandler},y=f.a.createElement("div",{className:Ip(),onClick:function(t){return e._onAdClick(t)},onAuxClick:this.props.onAdClick,ref:n},u&&v?f.a.createElement(xp,_):f.a.createElement(wp,qt({},_,{image:o})));return f.a.createElement(Qn,{isVisible:m,onShow:this._sendShowStat},y)},t}(p.PureComponent),Np=X(function(e,t){var n=t.id,r=Ur(e,n),i=e.params.tld,o=Gr(e),a=Zr(e),s=mr(e),c=s.isWideImagesExp,u=s.isDirectLabelCut,l=s.isRtbFitted,d=Ir(e);return Object.assign({tld:i,columnCount:o,hasButton:!0,isRubberyDesign:Boolean(a),isWideImagesExp:c,isRtbFitted:l,isDirectLabelCut:u,isMordaDesktop:!0,theme:d},r)},function(e,t){return{onAdClick:function(){e(up(t.id))},onAdShow:function(){e(sp(t.id))}}})(eu(Tp)),Ap=(n(301),n(302),Wc("channel-card")),Pp=function(e){return e.length>=8&&/\s/.test(e)},Lp=function(e){var t=Object(p.forwardRef)(function(t,n){var r=t.theme,i=void 0===r?"white":r,o=t.size,a=t.status,s=t.image,c=t.imageBackgroundColor,u=t.text,l=t.textColor,d=t.textBackgroundColor,m=t.onIconClick,h=t.isMobile,v=an(t,["theme","size","status","image","imageBackgroundColor","text","textColor","textBackgroundColor","onIconClick","isMobile"]),g=Object(p.useState)(!1),b=g[0],_=g[1];Object(p.useEffect)(function(){_("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);var y={backgroundColor:c,backgroundImage:"url('"+s+"')"},E={color:l,backgroundColor:d},k=Vc(v,{className:Ap({size:o,status:a,theme:i,isMobile:h,isTouch:b,isButton:"a"===e||"button"===e})});return f.a.createElement(e,qt({ref:n},k),f.a.createElement("div",{className:Ap("image"),style:y}),f.a.createElement("div",{className:Ap("text",{isLong:Pp(u)}),style:E},f.a.createElement("div",{className:Ap("text-wrapper")},function(e){if(!Pp(e))return e;for(var t=(e.length-1)/2,n=0,r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return f.a.createElement(f.a.Fragment,null,e.slice(0,n),f.a.createElement("br",null),e.slice(n))}(u))),f.a.createElement("div",{className:Ap("gradient")}),f.a.createElement("div",{className:Ap("icon"),onClick:function(e){m&&(e.preventDefault(),e.stopPropagation(),m(e))}}))});return Object(p.memo)(t)}("div"),Mp=function(e){var t=e.logger,n=e.channel,r=e.isMobile,i=n.id,o=n.userSubscribed,a=gs().zenApi,s=ne(),c=function(){s((o?function(e){return{type:"UNCHECK_SOURCE",payload:{id:e}}}:function(e){return{type:"CHECK_SOURCE",payload:{id:e}}})(i)),t.log("click",{global:{_i_:i,_s_:String(o?0:1)}}),a.invalidateCache()};return f.a.createElement(Lp,qt({},function(e){var t=e.image,n=e.name,r=e.userSubscribed,i=e.textBackgroundColor,o=e.imageBackgroundColor;return{image:t,textColor:e.textColor,text:n,textBackgroundColor:i,imageBackgroundColor:o,status:r?"subscribed":"add",theme:"black"}}(n),{size:"r",onClick:c,onIconClick:c,isMobile:r}))},Dp=Fc("iceboarding-view"),Bp=Object(p.memo)(function(e){var t=e.moreButton,n=e.sources,r=e.titleRef,i=e.view,o=e.theme,a=e.logger,s=e.isMobile,c=Xc().l10n;return f.a.createElement("div",{className:Dp({view:i,theme:o})},f.a.createElement("div",{className:Dp("title"),ref:r},c("api.v3.launcher.onboarding.title_domain")),f.a.createElement("div",{className:Dp("description")},c("api.v3.launcher.onboarding.description_domain")),f.a.createElement("div",{className:Dp("sources")},n.map(function(e,t){return f.a.createElement("div",{className:Dp("source-item"),key:t},f.a.createElement(Mp,{channel:e,logger:a,isMobile:s}))})),t?f.a.createElement("a",{className:Dp("more-sources"),href:t.link},c("onboarding.more_sources")):null)}),jp=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onShow=function(){var e=n.props,t=e.logger,r=e.sources;t.log("show",{info:r.map(function(e){return e.id})})},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.isVisible,n=e.isMobile,r=Object.assign({},this.props,{view:n?"mobile":"desktop"});return f.a.createElement(Qn,{isVisible:t,onShow:this._onShow},f.a.createElement(Bp,r))},t}(p.PureComponent),Fp=bs(function(e){return{zenApi:e.zenApi}})(X(function(){var e=Mi(),t=Object(Vt.createSelector)(function(e){return e.iceboarding.checkedSources},Ur,Gr,function(e,t,n){return t.sources.slice(0,30).map(function(t){return Object.assign({},t,{userSubscribed:e.includes(t.id)})})});return function(n,r){var i=r.id,o=r.zenApi,a=Ur(n,i);return Object.assign({},a,{sources:t(n,i),isMobile:n.params.isMobile,theme:Ir(n),logger:e(Object.assign({},a,{zenApi:o}))})}})(jp)),Up=(n(300),Fc("iceboarding-feed-item")),zp=function(e){function t(){return e.apply(this,arguments)||this}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.rootRef,r=e.isVisible,i=e.rowIndex;return f.a.createElement("div",{className:Up(),ref:n},f.a.createElement(Fp,{id:t,isVisible:r,rowIndex:i}))},t}(p.PureComponent),Vp=(n(294),function(e){var t=function(t){var n=Object(p.useMemo)(Mi,[]),r=gs().zenApi,i=Object.assign({},t,{zenApi:r});return f.a.createElement(e,qt({},t,{logger:n(i)}))};return t.displayName=ms("WithBulkStatLogger",e),Object(p.memo)(t)}),Hp=(n(295),n(261),Fc("blackout-filter")),Wp=function(e){var t=e.className;return f.a.createElement("div",{className:Fc.mix(Hp(),t)})},Gp=(n(296),n(108),function(e){return"string"==typeof e&&e.length>0}),qp=function(e){return e&&"object"==typeof e},Kp=function(e){return qp(e)&&Gp(e.stack)},Yp=function(e){return qp(e)&&Boolean(e._isZenLoggerEventInfo)},Qp=function e(t,n){if(void 0===n&&(n=0),Yp(t))return t;var r="",i=null,o=null,a=null,s=null;if(Gp(t))r=t;else if(Kp(t)){if(Yp((a=t)._zenLoggerEventInfo))return a._zenLoggerEventInfo;r=a.message}else if(qp(t)){var c=t;r=c.message,i=c.details||null,o=c.context||null,s=c.cause||null}return Gp(r)||(r="Unnamed event"),function(e){if(!qp(e))return!1;try{return JSON.stringify(e),!0}catch(e){return!1}}(i)||(i=null),qp(o)||function(e){return"function"==typeof e}(o)||(o=null),Kp(a)||(a=null),s?(s=n<10?e(s,n+1):null)&&(r=r+": "+s.message):s=null,{message:r,details:i,context:o,error:a,cause:s,_isZenLoggerEventInfo:!0}},Zp=function(e){function t(n){var r,i=Qp(n);return r=e.call(this,i.message)||this,Gp(r.stack)||(Error.captureStackTrace?Error.captureStackTrace(qn(r),t):r.stack=(new Error).stack),r.name=t.name,r.message=i.message,r._zenLoggerEventInfo=i,i.error=qn(r),r}return Gt(t,e),t.extendError=function(e,t){var n=Qp(Object.assign({},t,{message:e.message}));e.message=n.message,e._zenLoggerEventInfo=n,n.error=e},t}(vu(Error)),$p=function(e){var t=window.Ya&&window.Ya.Rum;if(!t||!t.makeSubPage)return{sendTimeMark:function(){},onLoadStart:function(){},onRenderEnd:function(){},sendTTI:function(){}};var n=t.makeSubPage(e,t.getTime());return{sendTimeMark:function(e){void 0===e&&(e=[]);var r=e.join(".");t.sendTimeMark(r,t.getTime(),!1,n)},onLoadStart:function(e){void 0===e&&(e=[]),this.sendTimeMark(["1724"].concat(e))},onRenderEnd:function(e){void 0===e&&(e=[]),this.sendTimeMark(["2046"].concat(e))},sendTTI:function(){n&&t.sendTTI(!1,t.getTime(),n)}}},Jp=!1,Xp=function(){if(!Jp){Jp=!0;var e=document.createElement("script");e.innerHTML="\n        window.home = window.home || {};\n        window.home.export = window.home.export || {};\n    ",document.head&&document.head.appendChild(e)}},ef=function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),n.pcodever&&(window.pcodever=n.pcodever),i=$p("155"),n.isLiteRtb&&Xp(),e.next=6,pp||(pp=new Promise(function(e,t){window.yandexContextAsyncCallbacks=window.yandexContextAsyncCallbacks||[],window.yandexContextAsyncCallbacks.push(function(){window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager&&e(window.Ya.Context.AdvManager),t(new Error("window.Ya.Context.AdvManager not found"))}),Mn("https://an.yandex.ru/system/context.js").catch(function(e){return t(new Zp({message:"Fail load Rsya bundle",cause:e}))})})),pp;case 6:o=e.sent,i.onLoadStart(),i.sendTTI(),o.render(Object.assign({},t,{onRender:function(e){i.onRenderEnd(["direct"===e.product?"155":"3431"]),t.onRender&&t.onRender(e)}}),r);case 10:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),tf=function(e){var t=ne();return Object(p.useCallback)(function(){return t(e.apply(void 0,arguments))},[e,t])},nf=0,rf=function(e){var t=e.id,n=e.blockId,r=e.partnerStatId,i=e.domElemId,o=e.bidFloor,a=gs().zenLogger,s=Xc().l10n,c=Object(p.useState)(null),u=c[0],l=c[1];Object(p.useEffect)(function(){var e=function e(t,n,r){if(void 0===r&&(r=!1),t.length<3||r&&n()>.7)return[t];var i=n()*(t.length-2)+1;return[].concat(e(t.substr(0,i),n,!0),e(t.substr(i),n,!0))}(s("desktop.ad_box"),function(){return Math.random()}).reverse().map(function(e,t){return f.a.createElement("div",{key:t},e)});l(e)},[s]);var d=oe(function(e){var t=mr(e),n=t.isLiteRtbEnabled,r=t.isRtbFitted,i=t.rezenPcode,o=Boolean(!1)||n,a=i.version,s=e.params;return{isRtbFitted:r,isLiteRtb:o,pcodever:a,cspNonce:s.cspNonce,adId:s.adId,withShadows:ei(e)}},F),m=d.isRtbFitted,h=d.isLiteRtb,v=d.pcodever,g=d.cspNonce,b=d.adId,_=d.withShadows,y=tf(ea),E={blockId:n,statId:r,pageNumber:nf++,renderTo:i,grab:"dFlhbmRleCB6ZW4KTm8gZ3JhYg==",async:!0,cspNonce:g};b&&(E.extParams=Object.assign({},E.extParams,{"mobile-ifa":b})),void 0!==o&&(E.extParams=Object.assign({},E.extParams,{"bid-floor":o}));return function(e){Object(p.useEffect)(e,[])}(function(){var e={blockId:n,partnerStatId:r,domElemId:i};ef(E,{isLiteRtb:h,pcodever:v},function(){a.warn("No ad: "+JSON.stringify(e)),y(t)}).catch(function(n){a.error({message:"Fail render rsya card: "+JSON.stringify(e),cause:n}),y(t)})}),f.a.createElement("div",{className:Fc.mix("rtb-card",m?"_is-rtb-fitted":null,_?"_with-shadows":null)},f.a.createElement("div",{className:"rtb-card__ad-box"},f.a.createElement("div",{className:"rtb-card__ad-box-reverse"},u)),f.a.createElement("div",{className:"rtb-card__ad"},f.a.createElement("div",{"data-block-id":void 0,id:i})))},of=(n(297),function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(void 0,arguments)),t}}),af=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._iframeRef=f.a.createRef(),n._frameLoad=of(function(){var e=n.props,t=e.adDomain,r=e.width,i=e.height,o=n.props.ad,a=o.client,s=o.slot,c=n._iframeRef.current;if(c){var u=c.contentWindow;u&&u.postMessage({type:"adsense",client:a,slot:s,width:r,height:i},t)}}),t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this._iframeRef.current;e&&e.addEventListener("load",this._frameLoad)},n.componentWillUnmount=function(){var e=this._iframeRef.current;e&&e.removeEventListener("load",this._frameLoad)},n.shouldComponentUpdate=function(){return!1},n.render=function(){var e=this.props.adDomain;return f.a.createElement("iframe",{sandbox:"allow-same-origin allow-scripts allow-popups",className:"frame",src:e+"/adsense.html",ref:this._iframeRef,scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0,referrerPolicy:"no-referrer"})},t}(p.PureComponent),sf=X(function(e){return{adDomain:e.params.adDomain}})(af),cf=function(e){var t=e.ad,n=e.id,r=e.isIntersecting,i=e.bidFloor,o=Object(p.useState)({isSizeReady:!1}),a=o[0],s=o[1],c=Object(p.useCallback)(function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;s({isSizeReady:!0,width:n,height:r})}},[s]),u=Object(p.useMemo)(function(){if(!a.isSizeReady)return null;var e=a.width,r=a.height;if("direct"===t.type){var o=t.blockId,s=t.partnerStatId,c=t.domElemId;return f.a.createElement(rf,{id:n,blockId:o,partnerStatId:s,domElemId:c,bidFloor:i})}return"adsense"===t.type?f.a.createElement(sf,{width:e,height:r,ad:t}):null},[r,a,t,n,i]);return f.a.createElement("div",{className:"ad-card",ref:c},u,f.a.createElement(Wp,null))},uf=cf,lf=(n(298),n(93),new Set),df=new Map,pf=void 0;"undefined"!=typeof document&&window.addEventListener("resize",function(){pf=Date.now(),lf.forEach(function(e){df.set(e,pf),e.props.onResize()})});var ff,mf,hf,vf,gf,bf,_f,yf,Ef,kf,Cf,wf=function(e){function t(){return e.apply(this,arguments)||this}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isIntersecting&&lf.add(this),df.set(this,Date.now())},n.componentDidUpdate=function(e){if(e.isIntersecting!==this.props.isIntersecting)if(this.props.isIntersecting){var t=df.get(this);pf&&(!t||t<pf)&&(df.set(this,Date.now()),this.props.onResize()),lf.add(this)}else lf.delete(this)},n.componentWillUnmount=function(){this.props.isIntersecting&&lf.delete(this)},n.render=function(){var e=this.props.children;return void 0===e?null:e},t}(p.PureComponent),Sf=500,xf=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onResize=$i(function(){n._clamp&&n._clamp.clamp()},Sf,qn(n)),n._clampRef=function(e){return n._clamp=e},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.isIntersecting,i=e.fitToSpace,o=e.minLineCount,a=e.domRef,s=e.children;return f.a.createElement(wf,{isIntersecting:r,onResize:this._onResize},f.a.createElement(Lu,{className:t,style:n,fitToSpace:i,minLineCount:o,domRef:a,ref:this._clampRef},s))},t}(p.PureComponent),Of=(n(252),new kd.a({id:"rocket--inline",use:"rocket--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="rocket--inline">\n    <path fill-rule="nonzero" d="M10.245 9.45c3.437-3.465 7.254-3.673 7.62-3.3.36.36.088 4.15-3.36 7.62-.882.885-1.693 1.662-2.505 2.295v2.43c.003 1.002.026 1.035-.6 1.5-.343.252-1.797 1.445-3.36 2.4-.38.234-.696.04-.45-.3.655-.933 1.13-1.762 1.425-2.49.263-.671.262-1.266 0-1.785-1.002.316-1.835.222-2.445-.375-.619-.602-.71-1.44-.375-2.445-.529-.278-1.127-.28-1.8-.015-.73.294-1.56.769-2.49 1.425-.342.245-.537-.07-.3-.45.953-1.563 2.146-3.017 2.4-3.36.463-.625.496-.602 1.5-.6H7.95a28.32 28.32 0 0 1 2.295-2.55zm-5.37 7.965c.21.202-2.58 1.426-2.58 4.29 2.868.002 4.242-2.787 4.455-2.58.206.212-.617 1.832-1.77 2.985C3.838 23.25 2.295 24.001 0 24c.001-2.292.752-3.835 1.905-4.98 1.14-1.148 2.762-1.821 2.97-1.605zM1.05 12c-.006.484-.606.523-.6 0C.523 5.374 4.94 0 12 0c7.055 0 12 4.95 12 12 0 7.052-5.374 11.505-12 11.55-.227.001-.327-.147-.33-.3.001-.146.101-.297.33-.3 5.546.014 10.204-4.948 10.2-10.95.004-6-4.201-10.206-10.2-10.2C5.996 1.794 1.128 5.86 1.05 12z" />\n</symbol>'})),Rf=(wd.a.add(Of),Of),If=Fc("rocket"),Tf=function(e){var t=e.color,n=e.faint;return f.a.createElement("svg",{className:If({faint:n}),width:"24",height:"24",viewBox:Rf.viewBox},f.a.createElement("use",{style:{fill:t},xlinkHref:"#"+Rf.id}))},Nf=Fc("similar-doc-card-view"),Af=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderRocket=function(){var e=n.props,t=e.rocket,r=e.image,i=e.isDark;return t?f.a.createElement("div",{className:Nf("rocket")},f.a.createElement(Tf,{faint:!r,color:i?"#fff":"#000"})):null},n._renderClickable=function(){var e=n.props,t=e.onClick,r=e.link,i=e.rootRef;return f.a.createElement(_d,{className:Nf("clickable"),ref:i,onClick:t,onAuxClick:t,href:r})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.getStyles=function(){var e={},t=this.props,n=t.image,r=t.cardColors,i=t.mainColor;return n&&(e.backgroundImage="url("+n+")",e.backgroundPosition="center",e.backgroundSize="cover"),i?e.color=Jd(i).text:r&&(e.color=r.text),e},n.getCardColor=function(){var e=this.props,t=e.cardColors,n=e.mainColor;return n?Jd(n).card:t?t.card:void 0},n.getFadesStyle=function(){var e=this.getCardColor();if(e){var t=Kd(e).join(),n=["rgba("+t+",1) 0%","rgba("+t+",0.2) 40%","rgba("+t+",0.3) 56%","rgba("+t+",0.3) 100%"];return{fade:{background:"linear-gradient(to right, "+["rgba("+t+",0.88) 0%","rgba("+t+",0.88) 25%","rgba("+t+",0.79) 40%","rgba("+t+",0.68) 56%","rgba("+t+",0.09) 100%"].join()+")"},hover:{background:"linear-gradient(to right, "+n.join()+")"}}}return{fade:{},hover:{}}},n.render=function(){var e=this.props,t=e.title,n=e.text,r=e.domainTitle,i=e.image,o=e.isMobile,a=e.isIntersecting,s=e.linkHoverEnabled,c=e.theme,u=e.isMordaDesktop,l=this.getFadesStyle(),d={hasImage:Boolean(i),mobile:o,linkHoverEnabled:s,theme:c,isMordaDesktop:u};return f.a.createElement("div",{className:Nf(d),style:this.getStyles()},this._renderClickable(),f.a.createElement("div",{className:Nf("fade"),style:l.fade}),f.a.createElement("div",{className:Nf("hover-fade"),style:l.hover}),this._renderRocket(),f.a.createElement("div",{className:Nf("content")},f.a.createElement("div",{className:Nf("content-wrapper")},f.a.createElement(xf,{className:Nf("title"),isIntersecting:a},t),o?null:f.a.createElement(xf,{className:Nf("text"),isIntersecting:a},n),f.a.createElement(Bd,{className:Nf("source-name-holder")},f.a.createElement("div",{className:Nf("source-name")},r)))),f.a.createElement(Wp,null))},t}(p.PureComponent),Pf=function(e){function t(){return e.apply(this,arguments)||this}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.isVisible,n=e.logger,r=Object.assign({},this.props,{onClick:function(){return n.log("click")}}),i=this.props.ad?f.a.createElement(uf,qt({},r,{mix:"similar__item-ad-container"})):f.a.createElement(Af,r);return f.a.createElement(Qn,{logger:n,isVisible:t},i)},t}(p.PureComponent),Lf=Vp(ou(X(function(e){return{linkHoverEnabled:mr(e).linkHoverEnabled}})(Pf))),Mf=(n(299),Fc("similar-direkt-card-view")),Df=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._directLinkClickHandler=function(e){var t=n.props.tld;Rp(e,t)},n._onAdClick=function(e){var t=n.props,r=t.onClick,i=t.url;r(e),window.open(i,"_blank")},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getImage=function(){var e=this.props.image;return e&&e[0]},n._renderBackground=function(){var e=this._getImage();return e?f.a.createElement("div",{className:Mf("background-wrapper")},f.a.createElement("div",{className:Mf("background"),style:{backgroundImage:"url("+e+")"}}),f.a.createElement("div",{className:Mf("background-gradient")}),f.a.createElement("div",{className:Mf("background-hover")})):null},n._renderAge=function(){var e=this.props.age;return e?f.a.createElement("div",{className:Mf("age")},e):null},n._renderWarning=function(){var e=this.props.warning;return e?f.a.createElement("div",{className:Mf("warning-content")},f.a.createElement("div",{className:Mf("warning")},e),this._renderAge()):null},n.render=function(){var e=this,t=this.props,n=t.rootRef,r=t.title,i=t.text,o=t.domain,a=t.isMobile,s=t.onClick,c=t.isMordaDesktop,u=t.theme,l=this._getImage(),d={hasImage:Boolean(l),mobile:a,isMordaDesktop:c,theme:u};return f.a.createElement("div",{className:Mf(d),onClick:function(t){return e._onAdClick(t)},onAuxClick:s,ref:n},f.a.createElement("div",{className:Mf("label"),onClick:this._directLinkClickHandler}),this._renderBackground(),f.a.createElement("div",{className:Mf("image"),style:{backgroundImage:"url("+l+")"}}),f.a.createElement("div",{className:Mf("content")},f.a.createElement("div",{className:Mf("title")},r),f.a.createElement("div",{className:Mf("domain")},o),f.a.createElement("div",{className:Mf("text")},i),this._renderWarning()||this._renderAge()),f.a.createElement(Wp,null))},t}(p.PureComponent),Bf=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._sendShowStat=function(){var e=n.props,t=e.logger,r=e.showUrl;t.log("show"),tc(r).catch(console.error)},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.logger,n=(e.isIntersecting,e.isVisible),r={tld:e.tld,image:e.image,url:e.url,rootRef:e.rootRef,title:e.title,text:e.text,domain:e.domain,isMobile:e.isMobile,isMordaDesktop:e.isMordaDesktop,theme:e.theme,age:e.age,warning:e.warning,onClick:function(){return t.log("click")}};return f.a.createElement(Qn,{isVisible:n,onShow:this._sendShowStat},f.a.createElement(Df,r))},t}(p.PureComponent),jf=Vp(ou(X(function(e){return{tld:e.params.tld}})(Bf))),Ff=Fc("similar"),Uf=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderFilterMask=function(){return f.a.createElement("div",{className:Ff("filter-mask")})},n._renderSmallCard=function(e,t){var r=n.props,i=r.rowIndex,o=r.isLetterSpacingExp,a=r.isBigLetterSpacingExp,s=r.isMordaDesktop,c=r.theme;return f.a.createElement("div",{className:Ff("card",{isLetterSpacingExp:o,isBigLetterSpacingExp:a}),key:"doc-"+t},f.a.createElement(Lf,qt({},e,{rowIndex:i,isMordaDesktop:s,theme:c})),n._renderFilterMask())},n._renderDirectCard=function(e,t){var r=n.props,i=r.rowIndex,o=r.isMordaDesktop,a=r.theme;return f.a.createElement("div",{className:Ff("card"),key:"direct-"+t},f.a.createElement(jf,qt({},e,{rowIndex:i,isMordaDesktop:o,theme:a})),n._renderFilterMask())},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getDocs=function(){var e,t=this.props,n=t.items,r=(t.columnCount,t.isAdsense),i=t.isTouch,o=n.docs,a=n.direct;return r&&!i?o.slice().reverse().slice(0,3).reverse():(e=a.length>0?3:4,a.length,o.slice(0,e))},n._renderLeftPointer=function(e){return e===ve.Center?null:f.a.createElement("div",{className:Ff("left-pointer")},f.a.createElement("div",{className:Ff("left-pointer-spacer")}),e===ve.Left?f.a.createElement("div",{className:Ff("left-pointer-elem")}):null)},n._renderRightPointer=function(e){return e===ve.Center?null:f.a.createElement("div",{className:Ff("right-pointer")},e===ve.Right?f.a.createElement("div",{className:Ff("right-pointer-elem")}):null,f.a.createElement("div",{className:Ff("right-pointer-spacer")}))},n.render=function(){var e=this.props,t=e.pointerPosition,n=e.items,r=e.isAdsense,i=e.l10n,o=this._getDocs(),a=n.direct;return f.a.createElement("div",{className:Ff({isAdsense:r})},f.a.createElement("div",{className:Ff("title")},this._renderLeftPointer(t),f.a.createElement("span",{className:Ff("title-text")},i("desktop.similar_title")),this._renderRightPointer(t)),f.a.createElement("div",{className:Ff("cards")},o.map(this._renderSmallCard),a.map(this._renderDirectCard)))},t}(p.PureComponent),zf=X(function(e,t){var n=t.id,r=Ur(e,n),i=Jr(e,n),o=mr(e),a=o.isLetterSpacingExp,s=o.isBigLetterSpacingExp,c=Ir(e);return Object.assign({pointerPosition:i,isLetterSpacingExp:a,isBigLetterSpacingExp:s,isTouch:e.params.isTouch,isMordaDesktop:!0,theme:c},ti(e),r)})(eu(Uf)),Vf=(n(305),Fc("placeholder-card")),Hf=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._containerRef=f.a.createRef(),n._realShowSent=!1,n._getPlaceholderEventParams=function(e){var t=n.props,r=t.index,i=t.rowIndex,o=t.itemIndexInRow,a=t.logger;return{index:r,rowIndex:i,itemIndexInRow:o,container:e,size:n._getPlaceholderSize(),onShow:function(){return a.log("partner_show")},onClick:function(){return a.log("partner_click")}}},n._triggerRealShow=function(){var e=n.props.outputBus,t=n._containerRef.current;t&&(e.emit("placeholderShow",n._getPlaceholderEventParams(t)),n._realShowSent=!0)},n._getLogger=function(){var e=n.props.logger,t=n._containerRef.current;return t&&t.hasChildNodes()?e:null},n._onClick=function(){var e=n._getLogger();e&&e.log("click")},n._getPlaceholderSize=function(){var e=n.props.size;switch(e){case he.BIG:return"big";case he.SMALL:return"small";case he.FREE:return"free";default:return console.error("Unsupported placeholder size: ",e),null}},t||qn(n)}Gt(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props.isVisible,n=e.isVisible;return!this._realShowSent&&!t&&n},n.componentWillUnmount=function(){var e=this.props,t=e.index;e.outputBus.emit("placeholderUnmount",{index:t})},n.componentDidMount=function(){var e=this.props.outputBus,t=this._containerRef.current;t&&e.emit("placeholder",this._getPlaceholderEventParams(t)),this._getPlaceholderSize()},n.render=function(){var e=this.props.isVisible,t=this._getLogger(),n=this._getPlaceholderSize(),r=this._containerRef.current,i=!r||!r.hasChildNodes();return f.a.createElement(Qn,{isVisible:e,onShow:this._triggerRealShow,logger:t},f.a.createElement("div",{className:Vf({size:n,needBackground:i})},f.a.createElement("div",{className:Vf("background")}),f.a.createElement("div",{className:Vf("container"),ref:this._containerRef,onClick:this._onClick})))},t}(p.Component),Wf=function(){var e=Mi();return function(t,n){var r=n.id,i=n.rowIndex,o=n.zenApi,a=Ur(t,r);return{index:Qr(t,r),logger:e(Object.assign({},a,{rowIndex:i,zenApi:o}))}}},Gf=function(e){return{zenApi:e.zenApi,outputBus:e.outputBus}},qf=(bs(Gf)(X(Wf)(Hf)),bs(Gf)(X(Wf)(Hf))),Kf=(n(306),{1:(mf={},mf[he.SMALL]=(ff={},ff[ve.Left]={width:"100%"},ff),mf),2:(bf={},bf[he.SMALL]=(hf={},hf[ve.Left]={width:"50%",justifyContent:"flex-start"},hf[ve.Right]={width:"50%",justifyContent:"flex-end"},hf),bf[he.BIG]=(vf={},vf[ve.Left]={width:"100%",justifyContent:"center"},vf),bf[he.FREE]=(gf={},gf[ve.Left]={width:"100%",justifyContent:"center"},gf),bf),3:(kf={},kf[he.SMALL]=(_f={},_f[ve.Left]={width:"33.333%",justifyContent:"flex-start"},_f[ve.Center]={width:"33.333%",justifyContent:"center"},_f[ve.Right]={width:"33.333%",justifyContent:"flex-end"},_f),kf[he.BIG]=(yf={},yf[ve.Left]={width:"66.666%",justifyContent:"flex-start"},yf[ve.Right]={width:"66.666%",justifyContent:"flex-end"},yf),kf[he.FREE]=(Ef={},Ef[ve.Left]={width:"100%",justifyContent:"center"},Ef),kf)}),Yf=Fc("user-question-view"),Qf=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._containerRef=function(e){var t=n.props.rootRef;t&&t(e)},n.renderUserQuestionAnswer=function(e,t,r){var i=n.props.onCheck;return f.a.createElement("div",{className:Yf("answer"),key:r,onClick:function(){i(e,r,!0),Xo(e)}},t)},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getContentSizeParams=function(){var e=this.props,t=e.position,n=e.columnCount,r=e.parentItemSize,i=Kf[n][r];if(i)return i[t]},n._renderQuestionContent=function(){var e=this,t=this.props,n=t.answers,r=t.text;return f.a.createElement("div",{ref:this._containerRef},f.a.createElement("div",{className:Yf("title")},r),f.a.createElement("div",{className:Yf("answers")},n.map(function(t,n){var r=t.id,i=t.text;t.isChecked;return e.renderUserQuestionAnswer(r,i,n)})))},n.render=function(){var e=this._getContentSizeParams(),t=e.width,n=e.justifyContent,r=this.props.answers.some(function(e){return e.isChecked});return f.a.createElement("div",{className:Yf(),style:{justifyContent:n}},f.a.createElement("div",{className:Yf("content"),style:{width:t}},r?f.a.createElement(Zf,null):this._renderQuestionContent()))},t}(p.PureComponent),Zf=function(){return f.a.createElement("div",{className:Yf("response")},"Спасибо за помощь!")},$f=X(function(e,t){var n=t.id,r=(Ur(e,n)||{}).parentId;return{question:Vi(e,r),position:Jr(e,n),columnCount:Gr(e),parentItemSize:Xr(e,n)}},{answerUserQuestion:Xo})(wl(ou(np(Qf)))),Jf=(n(241),n(242),Fc("interest-tag")),Xf=function(e){var t=e.component,n=void 0===t?"div":t,r=e.innerComponent,i=void 0===r?"span":r,o=e.rootRef,a=e.title,s=an(e,["component","innerComponent","rootRef","title"]),c=Vc(s,{className:Jf()});return f.a.createElement(n,qt({ref:o},c),f.a.createElement(i,{className:Jf("title")},a))},em=ip(ou(rp(np(function(e){var t=e.title,n=e.target,r=void 0===n?"_blank":n,i=e.feedLink,o=e.rootRef,a=e.onClick;return f.a.createElement(Xf,{rootRef:o,component:_d,innerComponent:"h3",className:tm("interest"),style:{backgroundColor:"#dedede"},onClick:a,title:t,href:i,target:r})})))),tm=Fc("similar-interests"),nm=X(function(e,t){var n=t.id,r=t.rowIndex,i=Ur(e,n);return Object.assign({},i,{rowIndex:r})})(function(e){var t=e.items,n=e.isMobile,r=e.itemsTarget,i=Xc().l10n;return 0===t.length?null:f.a.createElement("div",{className:tm({isMobile:n})},f.a.createElement("h2",{className:tm("title")},i("preferences.similar_interests")),f.a.createElement("div",{className:tm("interests")},t.map(function(e){return f.a.createElement(em,qt({key:e.id},e,{component:"a",href:e.feedLink,target:r,rel:"noopener",place:It.Feed,pageType:Rt.Feed,className:tm("interest")}))})))}),rm=function(e){var t=function(t){var n=t.id,r=t.isIntersecting,i=oe(function(e){var t=Ur(e,n),r=t.adDidntLoad;return"ad"in t?{adDidntLoad:r,bidFloor:t.bidFloor,ad:t.ad}:{adDidntLoad:r}},F),o=i.adDidntLoad,a=i.bidFloor,s=i.ad;return o||!s?f.a.createElement(e,t):f.a.createElement(cf,{id:n,ad:s,bidFloor:a,isIntersecting:r})};return t.displayName=ms("WithAdCard",e),t},im=(n(307),n(260),new Map),om="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;function am(e,t){void 0===t&&(t={bubbles:!1,cancelable:!1,detail:void 0});var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles||!1,t.cancelable||!1,t.detail),n}om&&(window&&"function"!=typeof window.CustomEvent&&(am.prototype=Object.create(window.Event.prototype),window.CustomEvent=am),Cf=new am("visible"));var sm=function(e){e.filter(function(e){return e.isIntersecting}).forEach(function(e){e.target.dispatchEvent(Cf)})},cm=function(e,t){var n=JSON.stringify(t);if(im.has(n))return im.get(n);var r=new IntersectionObserver(sm,t);return im.set(n,r),r},um={rootMargin:"0px 0px 500px 0px"},lm={},dm=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={isImageLoaded:lm[n.props.imageUrl]||!1},n._setImageLoaded=rd(function(){lm[n.props.imageUrl]=!0,n.setState({isImageLoaded:!0})}),n._ref=Object(p.createRef)(),t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){this._loadImage()},n.componentWillUnmount=function(){this._setImageLoaded.cancel()},n.componentDidUpdate=function(e){var t=this;this.props.imageUrl!==e.imageUrl&&this.setState({isImageLoaded:lm[this.props.imageUrl]||!1},function(){t._loadImage()})},n._getLazyLoadingOptions=function(){var e=this.props,t=e.lazyLoadingOptions,n=void 0===t?{}:t,r=e.defaultLazyLoadingFromExperiment,i=void 0===r?{}:r;return Object.assign({},um,i,n)},n._loadImage=function(){var e=this;if(!this.state.isImageLoaded){var t=this.props.imageUrl;if(t){var n=this.props.isImageLazyLoadEnabled?this._ref.current:null;(function(e,t,n){return new Promise(function(r,i){var o=function(){var t=new Image;t.onload=r,t.onerror=i,t.src=e};if(om&&t&&n){var a=cm(sm,n);t.addEventListener("visible",function e(){o(),t&&t.removeEventListener("visible",e,!1),a.unobserve(t)},!1),a.observe(t)}else o()})})(t,n||void 0,this._getLazyLoadingOptions()).then(function(){return e._setImageLoaded()})}}},n.render=function(){var e=this.props,t=e.renderImage,n=e.renderPlaceholder,r=e.wrapperClass,i=this.state.isImageLoaded;return f.a.createElement("div",{className:r,ref:this._ref},n&&n(i),t(i))},t}(p.PureComponent);dm.defaultProps={isImageLazyLoadEnabled:!1};var pm,fm=X(function(e){var t=mr(e).imageRootMargin;return t?{defaultLazyLoadingFromExperiment:{rootMargin:t}}:{}})(dm);!function(e){e.smallImage="si",e.bigImage="bi",e.backgroundCardImage="bci",e.mediumImage="mi"}(pm||(pm={}));var mm,hm=Fc("blur-image"),vm=function(e){function t(t){var n;return(n=e.call(this,t)||this).mode=void 0,n._renderPlaceholder=function(e){var t=n.props,r=t.color,i=t.size,o=t.blurredPreview,a=t.gradientType,s=n.mode===pm.backgroundCardImage&&!e||n.mode===pm.smallImage||n.mode===pm.bigImage||n.mode===pm.mediumImage;return f.a.createElement("div",null,f.a.createElement(bm,{blurredPreview:o,mode:n.mode}),f.a.createElement(gm,{color:r,size:i,mode:n.mode,isVisible:s,gradientType:a}))},n._renderImage=function(e){var t=n.props,r=t.aspectRatioMode,i=t.isBlurred,o=t.imageStyle,a=n._getImageUrl(),s=e&&a?"url("+a+")":void 0,c=hm("image",{mode:n.mode,"is-loaded":e,"aspect-ratio":r,"is-blurred":i});return f.a.createElement("div",{className:c,style:Object.assign({},o,{backgroundImage:s})})},n.mode=n._getImageMode(),n}Gt(t,e);var n=t.prototype;return n._getImageMode=function(){var e=this.props,t=e.size,n=e.cardBackgroundImage,r=e.forcedMode;return t===he.BIG?pm.bigImage:r===pm.backgroundCardImage&&n?pm.backgroundCardImage:r===pm.smallImage?pm.smallImage:r===pm.mediumImage?pm.mediumImage:n?pm.backgroundCardImage:pm.smallImage},n._getImageUrl=function(){var e=this.props,t=e.theme,n=e.image,r=e.bigImage,i=e.cardBackgroundImage,o=e.cardBackgroundWhiteImage;switch(this.mode){case pm.bigImage:case pm.mediumImage:return r;case pm.smallImage:return n;case pm.backgroundCardImage:return"white"===t?o:i}return n},n.render=function(){var e=this.props.isImageLazyLoadEnabled;return f.a.createElement("div",{className:hm()},f.a.createElement(fm,{imageUrl:this._getImageUrl()||"",renderPlaceholder:this._renderPlaceholder,renderImage:this._renderImage,isImageLazyLoadEnabled:e,wrapperClass:hm("wrap")}))},t}(p.PureComponent);!function(e){e.radial="radial",e.linear="linear"}(mm||(mm={}));var gm=function(e){var t,n=e.color,r=e.size,i=e.mode,o=e.isVisible,a=e.gradientType,s=void 0===a?mm.linear:a,c=Kd(n).join(),u="",l=["rgba("+c+",1) 0%","rgba("+c+",0.85) 10%","rgba("+c+",0.6) 20%","rgba("+c+",0) 50%"],d=["rgba("+c+",0) 55%","rgba("+c+",0.6) 75%","rgba("+c+",0.85) 85%","rgba("+c+",1) 95%"];return"radial"===s?u="radial-gradient(ellipse at right 50% , "+["rgba("+c+",0) 36%","rgba("+c+",0.1) 45%","rgba("+c+",0.16) 47%","rgba("+c+",0.75) 60%","rgba("+c+",0.96) 65%","rgba("+c+",1) 70%"].join(", ")+")":(r===he.MEDIUM&&(u="linear-gradient(to right, "+l.join()+")"),u=r===he.BIG?"radial-gradient(100% 500% at 100%, "+d.join(", ")+")":"linear-gradient(to top, "+l.join()+")"),t={background:u},f.a.createElement("div",{className:hm("fade",{mode:i,"is-visible":o}),style:t})},bm=function(e){var t=e.blurredPreview,n=e.mode,r="data:image/png;base64,"+(t||"");return f.a.createElement("div",{className:hm("preview",{mode:n}),style:{backgroundImage:"url("+r+")"}})},_m=(n(308),n(309),n(310),n(311),function(e,t){var n,r;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=Date.now();clearTimeout(r),n&&s<n+t?r=setTimeout(function(){n=s,e.apply(void 0,o)},t):(n=s,e.apply(void 0,o))}}),ym=Wc("popup-base"),Em=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={position:null},n._containerElem=null,n._whileOpenListenerStorage=new El,n._onOpenTopPosition=null,n.throttledScrollCallback=_m(function(){if(n._containerElem&&null!==n._onOpenTopPosition){var e=n.props.close,t=n._getCloseOnScrollThreshold(),r=n._onOpenTopPosition-n._containerElem.getBoundingClientRect().top;e&&"number"==typeof t&&Math.abs(r)>t&&e()}},150),n._containerRef=function(e){n._containerElem=e,e?n._popupDidOpen():n._popupDidClose()},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getCloseOnScrollThreshold=function(){var e=this.props.shouldCloseOnScroll;return"number"==typeof e?e:e?100:null},n._isNotPopupClick=function(e){for(var t=this.props.getTriggerElem(),n=e.target;n;){if(!(n instanceof Node)||n===t||n===this._containerElem)return!1;n=n.parentNode}return!0},n._popupDidOpen=function(){var e=this,t=this._containerElem;if(t){var n=this.props,r=n.getPosition,i=n.getTriggerElem;this.setState({position:r(i(),t)},function(){e._onOpenTopPosition=t.getBoundingClientRect().top}),this._whileOpenListenerStorage.add(document,"click",function(t){if(e._isNotPopupClick(t)){var n=e.props,r=n.shouldCloseOnOuterClick,i=n.close;r&&"function"==typeof i&&i()}}),this._whileOpenListenerStorage.add(document,"keydown",function(t){if(t instanceof KeyboardEvent&&27===t.keyCode){var n=e.props,r=n.shouldCloseOnEscClick,i=n.close;r&&"function"==typeof i&&i()}}),this._whileOpenListenerStorage.add(document,"scroll",this.throttledScrollCallback,{capture:!0,passive:!0})}},n._popupDidClose=function(){this.setState({position:null}),this._onOpenTopPosition=null,this._whileOpenListenerStorage.clear()},n.recalculatePosition=function(){var e=this.props,t=e.getPosition,n=e.getTriggerElem,r=this._containerElem;r&&this.setState({position:t(n(),r)})},n.componentWillUnmount=function(){this._whileOpenListenerStorage.clear()},n.render=function(){var e=this.state.position,t=Vc(Ms(this.props,["close","getPosition","getTriggerElem","shouldCloseOnEscClick","shouldCloseOnOuterClick","shouldCloseOnScroll"]),{className:ym(),style:Object.assign({},e,{visibility:e?void 0:"hidden"})});return f.a.createElement("div",qt({ref:this._containerRef},t))},t}(p.PureComponent);Em.defaultProps={shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,shouldCloseOnScroll:!0};var km=Em,Cm=Wc("popup"),wm=function(e){var t,n=e.isOpen,r=void 0!==n&&n,i=e.setRef,o=e.onOpen,a=e.onClose,s=an(e,["isOpen","setRef","onOpen","onClose"]),c=function(e){var t=Object(p.useRef)(e);return Object(p.useEffect)(function(){t.current=e}),t.current}(r);if(Object(p.useEffect)(function(){!c&&r&&"function"==typeof o&&o(),c&&!r&&"function"==typeof a&&a()},[r,c,o,a]),r){var u=Vc(s,{className:Cm()});t=f.a.createElement(km,qt({key:"popup",ref:i},u))}else t=null;return f.a.createElement(Bu.a,{component:p.Fragment,transitionName:"_transition",transitionEnterTimeout:150,transitionLeaveTimeout:150},t)},Sm=function(e){var t=Object(p.forwardRef)(function(t,n){var r=t.renderTrigger,i=t.renderContent,o=an(t,["renderTrigger","renderContent"]),a=Object(p.useRef)(null),s=Object(p.useCallback)(function(){return a.current},[]),c=Object(p.useState)(!1),u=c[0],l=c[1],d=Object(p.useCallback)(function(){return l(!0)},[]),m=Object(p.useCallback)(function(){return l(!1)},[]),h=Object(p.useCallback)(function(){return l(function(e){return!e})},[]),v=r({containerRef:a,open:d,close:m,toggle:h,isOpen:u}),g=f.a.createElement(e,qt({},o,{ref:n,getTriggerElem:s,close:m,isOpen:u}),i({close:m}));return f.a.createElement(f.a.Fragment,null,v,g)});return t.displayName=ms("WithOpenState",e),Object(p.memo)(t)},xm=Sm(wm),Om={top:{oppositeSide:"bottom",sizeType:"height",isPrimarySide:!0},bottom:{oppositeSide:"top",sizeType:"height",isPrimarySide:!1},right:{oppositeSide:"left",sizeType:"width",isPrimarySide:!1},left:{oppositeSide:"right",sizeType:"width",isPrimarySide:!0}},Rm=function(e,t){return{top:e.top-t.top,right:t.right-e.right,bottom:t.bottom-e.bottom,left:e.left-t.left,width:e.width,height:e.height}},Im=function e(t,n,r){if(!n||!r.offsetParent)return null;var i=t.y,o=t.x,a=t.shifts,s=void 0===a?{}:a,c=t.shouldOverlap,u=void 0!==c&&c,l=t.shouldFlip,d=void 0!==l&&l,p=t.flipContainer,f=r.offsetParent.getBoundingClientRect(),m=n.getBoundingClientRect(),h=r.getBoundingClientRect(),v=Rm(m,f),g={},b=!1,_=!1;"object"==typeof u?(b=Boolean(u.x),_=Boolean(u.y)):(b=u,_=u);var y=function(e){var t=Om[e],n=t.oppositeSide,r=t.sizeType;g[n]=v[n]+v[r]},E=function(e){var t=Om[e].sizeType;g[e]=v[e]+(v[t]-h[t])/2};if("center"===i?E("top"):Om[i]&&(_?g[i]=v[i]:y(i)),"center"===o?E("left"):Om[o]&&(b?g[o]=v[o]:y(o)),function(e){return Object.keys(e)}(s).forEach(function(e){if(Om[e]){var t=s[e],n=Om[e].oppositeSide;if("number"==typeof t){var r=g[e],i=g[n];"number"==typeof r?g[e]=r+t:"number"==typeof i&&(g[n]=i+t)}}}),!d)return g;var k=function(e,t){return function(e,t,n,r,i){if(!i||"center"===e)return!1;var o=Om[e],a=o.oppositeSide,s=o.sizeType,c=o.isPrimarySide,u=i.getBoundingClientRect(),l="width"===s?u.width:u.height,d=c?[e,a]:[a,e],p=d[0],f=d[1],m=t[p],h=t[f]||0,v=Rm(r,u),g="number"==typeof m?v[p]+m:v[f]-h-n[s];return g<0||g+n[s]>l}(e,g,h,f,t)},C=k(o,document.documentElement)||p&&k(o,p)||!1,w=k(i,document.documentElement)||p&&k(i,p)||!1;return C||w?e([[C,"x",o],[w,"y",i]].reduce(function(e,t){var n=t[0],r=t[1],i=t[2];return n?function(e,t,n){if("center"===n)return e;var r=Object.assign({},e),i=Om[n].oppositeSide;if("x"!==t||"left"!==i&&"right"!==i?"y"!==t||"bottom"!==i&&"top"!==i||(r.y=i):r.x=i,e.shifts){var o=Object.assign({},e.shifts),a=e.shifts[n],s=e.shifts[i];"number"==typeof a&&(o[i]=a,delete o[n]),"number"==typeof s&&(o[n]=s,delete o[i]),r.shifts=o}return r}(e,r,i):e},Object.assign({},t,{shouldFlip:!1})),n,r):g},Tm=function(e){return function(t,n){return Im(e,t,n)}},Nm=Wc("context-menu"),Am=function(e){return function(t){var n=t.children,r=an(t,["children"]),i=Vc(r,{className:Nm("item-icon-container")}),o=f.a.Children.map(n,function(e){return f.a.isValidElement(e)?f.a.cloneElement(e,Vc({className:Nm("item-icon")},e.props)):e});return f.a.createElement(e,i,o)}}("span"),Pm=function(e){return function(t){var n=t.text,r=t.description,i=an(t,["text","description"]),o=Vc(i,{className:Nm("item-text-container")});return f.a.createElement(e,o,f.a.createElement("span",{className:Nm("item-text")},n),r?f.a.createElement("span",{className:Nm("item-description")},r):null)}}("span"),Lm=function(e){var t=Vc(e,{className:Nm("divider")});return f.a.createElement("hr",t)},Mm=function(e){return function(t){var n=t.close,r=t.autoClose,i=void 0===r||r,o=t.alignItems,a=an(t,["close","autoClose","alignItems"]),s=Vc(Object.assign({type:"button"===e?"button":void 0},a),{className:Nm("item",{alignItems:o,isClickable:"function"==typeof t.onClick}),onClick:i&&"function"==typeof n?n:void 0});return f.a.createElement(e,s)}}("button"),Dm=function(e){return function(t){var n=t.children,r=t.close,i=an(t,["children","close"]),o=f.a.Children.map(n,function(e){return f.a.isValidElement(e)?f.a.cloneElement(e,{close:r}):e}),a=Vc(i,{className:Nm()});return f.a.createElement(e,a,o)}}("div"),Bm={x:"left",y:"bottom",shifts:{bottom:40},shouldOverlap:!0,shouldFlip:!0},jm=function(e){var t=e.position,n=void 0===t?Bm:t,r=e.children,i=an(e,["position","children"]),o=Vc(i,{className:Nm("popup")});return f.a.createElement(xm,qt({},o,{getPosition:Tm(n),renderContent:function(e){var t=e.close;return f.a.Children.map(r,function(e){return f.a.isValidElement(e)?f.a.cloneElement(e,Object.assign({},e.props,{close:t})):e})}}))},Fm=(n(312),function(){var e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}),Um=function(e){return Object(p.forwardRef)(function(t,n){var r,i=Object(p.useState)(null),o=i[0],a=i[1];return Object(p.useEffect)(function(){a(Fm())},[]),r="number"==typeof o&&o>0?Vc(t,{style:{width:"calc(100vw - "+o+"px)"}}):t,f.a.createElement(e,qt({},r,{ref:n}))})}("div"),zm=Wc("modal"),Vm=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={placeholderElem:null,margin:null,scrollbarWidth:null,isJustOpened:!1},n._composeInputRefs=bu(),n._scrollableContainerElem=null,n._scrollbarFixElem=null,n._whileOpenListenerStorage=new El,n._scrollableContainerRef=function(e){n._scrollableContainerElem=e,e?n._modalDidOpen():n._modalDidClose()},n._scrollbarFixRef=function(e){n._scrollbarFixElem=e},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.isOpen,r=t.isMobileMenu,i=t.onOpen,o=t.onClose;!e.isOpen&&n&&("function"==typeof i&&i(),r&&this.setState({isJustOpened:!0})),e.isOpen&&!n&&("function"==typeof o&&o(),r&&this.setState({isJustOpened:!1}))},n._isNotModalClick=function(e){return e.target===this._scrollableContainerElem||e.target===this._scrollbarFixElem},n._modalDidOpen=function(){var e=this,t=this.state.scrollbarWidth,n=this._scrollableContainerElem;if(n&&"number"==typeof t){var r=getComputedStyle(n).direction;this.setState({margin:"rtl"===r?"0 0 0 "+-t+"px":"0 "+-t+"px 0 0"}),document.body&&(document.body.style.overflow="hidden");var i=function(t){if(e._isNotModalClick(t)){t.preventDefault();var n=e.props,r=n.shouldCloseOnOuterClick,i=n.close;r&&"function"==typeof i&&i()}};this._whileOpenListenerStorage.add(document,"mousedown",i,{passive:!1}),this._whileOpenListenerStorage.add(document,"touchstart",i,{passive:!1}),this._whileOpenListenerStorage.add(document,"keydown",function(t){if(27===t.keyCode){var n=e.props,r=n.shouldCloseOnEscClick,i=n.close;r&&"function"==typeof i&&i()}})}},n._modalDidClose=function(){this.setState({margin:null}),document.body&&(document.body.style.overflow=""),this._whileOpenListenerStorage.clear()},n._renderModal=function(){var e=this.props,t=e.isOpen,n=e.isMobileMenu,r=e.withFixedHeight,i=e.close,o=e.containerRef,a=e.withScrollbarFix,s=e.withVerticalAlign,c=e.scrollableContainerRef,u=e.viewType,l=e.isClosable,d=e.children,m=an(e,["isOpen","isMobileMenu","withFixedHeight","close","containerRef","withScrollbarFix","withVerticalAlign","scrollableContainerRef","viewType","isClosable","children"]),h=this.state,v=h.placeholderElem,g=h.margin,b=h.scrollbarWidth,_=h.isJustOpened,y=a?Um:"div";if(!t||!v||"number"!=typeof b)return null;var E=Vc(Ms(m,["shouldCloseOnEscClick","shouldCloseOnOuterClick","onClose","onOpen"]),{className:zm("content",{isMobileMenu:n}),style:_?{bottom:0}:void 0}),k=this._composeInputRefs(this._scrollableContainerRef,c),C=se.a.createPortal(f.a.createElement("div",{ref:k,className:zm({viewType:u,withVerticalAlign:s,withFixedHeight:r}),style:{margin:g||void 0,visibility:g?void 0:"hidden"}},f.a.createElement(y,{ref:this._scrollbarFixRef,className:zm("scrollbar-fix")},f.a.createElement("div",qt({ref:o},E),d,l?f.a.createElement("div",{className:zm("close-wrapper")},f.a.createElement("button",{className:zm("close"),onClick:i})):null))),v);return f.a.createElement(p.Fragment,{key:"modal"},C)},n.componentDidMount=function(){this.setState({placeholderElem:document.body,scrollbarWidth:Fm()})},n.componentWillUnmount=function(){this._whileOpenListenerStorage.clear()},n.render=function(){return f.a.createElement(Bu.a,{component:p.Fragment,transitionName:"_transition",transitionEnterTimeout:150,transitionLeaveTimeout:150},this._renderModal())},t}(f.a.PureComponent);Vm.defaultProps={isOpen:!1,isClosable:!0,shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,withScrollbarFix:!1,withVerticalAlign:!1,viewType:"outer-close"};var Hm,Wm=Sm(Vm),Gm=Fc("featuring-menu"),qm=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onClick=function(e,t){e(),t.preventDefault(),t.stopPropagation()},n._onDislike=function(e){var t=n.props,r=t.onDislike,i=t.isMobile;r(e),i&&n._toggleMenu&&n._toggleMenu(),e.preventDefault(),e.stopPropagation()},n._renderButton=function(e){var t=e.containerRef,r=e.toggle;n._toggleMenu=r;var i=n.props,o=i.className,a={backgroundColor:i.color},s=Fc.mix(o,Gm());return f.a.createElement("div",{className:s,ref:t,onClick:function(e){return n._onClick(r,e)}},f.a.createElement("div",{className:Gm("dots")},f.a.createElement("div",{className:Gm("dot"),style:a}),f.a.createElement("div",{className:Gm("dot"),style:a}),f.a.createElement("div",{className:Gm("dot"),style:a})))},n._renderDislikeItem=function(){var e=n._getMenuData("dislike");if(!e)return null;var t=n.props.isMobile,r=e.title,i=e.subtitle,o=e.icon;return f.a.createElement(Mm,{onClick:n._onDislike},f.a.createElement(Am,{className:Gm("dislike-icon",{isMobile:t})},f.a.createElement("img",{src:o})),f.a.createElement(Pm,{text:r,description:t?i:""}))},n._onInfoClick=function(e){var t=n._getMenuData("info");if(t){var r=t.link;window.open(r),e.preventDefault(),e.stopPropagation()}},n._renderInfoItem=function(){var e=n._getMenuData("info");if(!e)return null;var t=n.props.isMobile,r=e.title,i=e.subtitle;return f.a.createElement(Mm,{onClick:n._onInfoClick},f.a.createElement(Am,null),f.a.createElement(Pm,{text:r,description:t?i:""}))},n._getMenuData=function(e){var t=n.props.menu;if(t){var r=t.find(function(t){return t.type===e});if(r)return r.enable}return null},n._renderMenu=function(){var e=n.props.isMobile,t=e?f.a.createElement(Lm,null):null;return f.a.createElement(Dm,{className:Gm("container",{isMobile:e})},n._renderDislikeItem(),t,n._renderInfoItem())},t||qn(n)}return Gt(t,e),t.prototype.render=function(){return this.props.isMobile?f.a.createElement(Wm,{isMobileMenu:!0,renderTrigger:this._renderButton,renderContent:this._renderMenu}):f.a.createElement(jm,{renderTrigger:this._renderButton,position:{x:"right",y:"bottom",shouldOverlap:{x:!0,y:!1},shifts:{top:15},shouldFlip:!1}},this._renderMenu())},t}(p.PureComponent),Km=(n(313),Fc("featuring-subscribe-button")),Ym=bl(function(e){var t=e.disabled,n=void 0!==t&&t,r=e.onToggleSubscribe,i=e.onClick,o=e.className,a=e.buttonSize,s=e.source,c=e.feedbackButtons,u=e.subscribedKey,l=e.unsubscribedKey,d=Object(p.useCallback)(function(e){n||(r(),i&&i()),e.preventDefault(),e.stopPropagation()},[r,i,n]),m=c["subscribed"===s.status?l:u],h=m.text,v=m.textColor,g=m.backgroundColor,b={color:v,backgroundColor:g,borderColor:g};return f.a.createElement(Cl,{className:Fc.mix(o,Km()),style:b,onClick:d,size:a,viewType:"yellow"},f.a.createElement("div",{className:Km("button-text")},h))}),Qm=(n(243),n(244),Fc("scaled-container")),Zm=function(e){function t(){return e.apply(this,arguments)||this}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.rootRef,i=e.children,o=e.styles,a=void 0===o?{}:o,s=n/t*100+"%";return f.a.createElement("div",{className:Qm(),style:Object.assign({},a,{paddingBottom:s}),ref:r},f.a.createElement("div",{className:Qm("inner")},i))},t}(p.PureComponent);!function(e){e[e.NORMAL=0]="NORMAL",e[e.SCALABLE=1]="SCALABLE"}(Hm||(Hm={}));var $m=Fc("card-container"),Jm=X(function(){var e=qi();return function(t,n){var r=n.id,i=(r&&Ur(t,r)||{}).feedback;if(!i)return{isFeedbackCard:!1};var o=i&&"liked"!==i;return{isFeedbackCard:e(t,r).isEnabled&&o}}})(function(e){var t=e.rootRef,n=e.children,r=e.className,i=e.isDesktop,o=e.isMobile;switch(e.type){case Hm.SCALABLE:var a=e.width,s=e.height,c={isDesktop:i,isMobile:o};return f.a.createElement("div",{className:Fc.mix($m(c),r),ref:t},f.a.createElement(Zm,{width:a,height:s},n));default:var u=e.isFeedbackCard,l={width:e.width,height:e.height},d={isDesktop:i,isMobile:o,isFeedbackCard:u};return f.a.createElement("div",{className:Fc.mix($m(d),r),ref:t,style:l},n)}}),Xm=Fc("featuring-promo-card"),eh="#DADADA",th=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderHeader=function(){var e=n.props,t=e.header,r=e.menu,i=e.onDislike,o=e.isMobile,a={textShadow:n._getHeaderTextShadow()};return f.a.createElement("div",{className:Xm("header")},f.a.createElement("div",{className:Xm("promo-text"),style:a},t),f.a.createElement("div",{className:Xm("menu-button")},f.a.createElement(qm,{menu:r,onDislike:i,color:eh,isMobile:o})))},n._renderChannelInfo=function(){var e=n.props,t=e.source,r=t.logo,i=t.title,o=e.description,a={backgroundImage:"url("+r+")"},s=n._getTextStyle();return f.a.createElement("div",{className:Xm("info")},f.a.createElement("div",{className:Xm("logo"),style:a},n._renderVerified()),f.a.createElement("div",{className:Xm("title"),style:s},i),f.a.createElement(xf,{className:Xm("description"),style:s,isIntersecting:!0},o))},n._renderSubscribe=function(){var e=n.props,t=e.feedbackProps,r=e.feedbackButtons,i=e.logger;return f.a.createElement(Ym,qt({subscribedKey:"subscribe_promo",unsubscribedKey:"unsubscribe",className:Xm("subscribe-button"),feedbackButtons:r,logger:i,buttonSize:"m"},t))},n._renderFeedback=function(){var e=n.props,t=e.logger,r=e.feedback,i=e.feedbackProps,o=e.onFeedbackClick;return"disliked"!==r?null:f.a.createElement("div",{className:Xm("feedback"),onClick:o},f.a.createElement(Gl,qt({logger:t,cancelExtendFeedbackPopupExp:!0},i)))},n._renderBackground=function(){var e=n.props,t=e.background,r=e.mainColor,i=e.blurredPreview,o=e.theme,a={image:t,cardBackgroundImage:t,cardBackgroundWhiteImage:t,forcedMode:pm.backgroundCardImage,color:r,blurredPreview:i,theme:o,isRead:!1,size:he.SMALL,imageStyle:{backgroundPosition:"0px 0px",backgroundSize:"cover"}};return f.a.createElement("div",{className:Xm("background")},f.a.createElement(vm,a))},n._renderVerified=function(){var e=n.props.source.verified;if(!e)return null;var t=e.label,r={backgroundImage:"url("+e.icon+")"};return f.a.createElement("div",{className:Xm("verified"),title:t,style:r})},n._getHeaderTextShadow=function(){var e=n.props.textColor,t=Kd(e);return"0 0 10px rgba("+t[0]+", "+t[1]+", "+t[2]+", 0.55)"},n._getTextStyle=function(){return{color:n.props.textColor,textDecoration:"none"}},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.source.feedLink,n=e.mainColor,r=e.onClick,i=e.isMobile,o=e.rootRef,a=Object.assign({},this._getTextStyle(),{backgroundColor:n});return f.a.createElement(Jm,{isMobile:i},f.a.createElement(_d,{className:Xm({isMobile:i}),href:t,onClick:r,style:a,ref:o},this._renderBackground(),f.a.createElement("div",{className:Xm("content")},this._renderHeader(),this._renderChannelInfo(),this._renderSubscribe()),this._renderFeedback()))},t}(p.PureComponent),nh=function(e){return{isSpaLink:e.params.isSpaApp}},rh=function(e){return{globalBus:e.globalBus}},ih=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onFeedbackClick=function(e){e.preventDefault(),e.stopPropagation()},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.header,n=e.description,r=e.mainColor,i=e.textColor,o=e.background,a=e.blurredPreview,s=e.menu,c=e.source,u=e.isMobile,l=e.feedback,d=e.feedbackProps,p=e.feedbackButtons,m=e.logger,h=e.onDislikeClick,v={header:t,description:n,mainColor:r,textColor:i,background:o,blurredPreview:a,menu:s,source:c,isMobile:u,feedback:l,feedbackProps:d,feedbackButtons:p,logger:m,rootRef:e.rootRef,onClick:e.onClick,onFeedbackClick:this._onFeedbackClick,onDislike:h};return f.a.createElement(th,v)},t}(p.PureComponent),oh=X(function(e,t){var n=t.source;return{bulkParams:n.bulkParams,statEvents:n.statEvents,isMobile:!1}})(Vp(bl(np(rp(function(e){var t=function(t){function n(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=t.call.apply(t,[this].concat(i))||this,n._onOpenSource=function(e){var t=n.props,r=t.globalBus,i=t.isSpaLink,o=t.onClick,a=t.source,s=a.id,c=a.logo,u=a.type,l=a.status,d=a.feedLink,p=a.logoBackgroundColor,f=a.title;o&&o(e),"user"!==u&&(!i||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),r.emit("requestSourceOpen",{id:s,logo:c,type:u,status:l,feedLink:d,logoBackgroundColor:p,title:f})))},e||qn(n)}return Gt(n,t),n.prototype.render=function(){return f.a.createElement(e,qt({},this.props,{onClick:this._onOpenSource}))},n}(p.PureComponent);return bs(rh)(X(nh)(t))}(ih)))))),ah=X(function(){var e=qi(),t=Yi(),n=Sn();return function(r,i){var o=i.id,a=Ir(r),s=Ur(r,o),c=n(r,o),u=e(r,o),l=t(r,o);return Object.assign({},s,{source:c,theme:a,feedbackProps:u,feedbackMittensProps:l})}})(Xl(ou(np(oh))));n(314),n(237);
/*! @license Rematrix v0.2.2

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/
function sh(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=ch();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function ch(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function uh(e,t){for(var n=sh(e),r=sh(t),i=[],o=0;o<4;o++)for(var a=[n[o],n[o+4],n[o+8],n[o+12]],s=0;s<4;s++){var c=4*s,u=[r[c],r[c+1],r[c+2],r[c+3]],l=a[0]*u[0]+a[1]*u[1]+a[2]*u[2]+a[3]*u[3];i[o+c]=l}return i}n(45);var lh=function(e){return"number"==typeof e},dh=function(e){return"[object Object]"===Object.prototype.toString.call(e)},ph=function(e){return Array.prototype.slice.apply(e)};function fh(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.forEach(function(t){if(t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}var mh,hh=function(e,t,n){return e+(t-e)*n},vh={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},gh=function(e){return dh(e)?e:Object.keys(vh).indexOf(e)>-1?vh[e]:{}};"undefined"!=typeof window&&(mh=window.requestAnimationFrame);var bh=mh=mh||function(e){window.setTimeout(e,1e3/60)},_h=Date.now(),yh="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()-_h};function Eh(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var kh=function(){};kh.prototype.run=function(){var e=this;bh(function(){e.springSystem.loop(yh())})};var Ch=function(){this.position=0,this.velocity=0},wh=0,Sh=function(e){this._id="s"+wh++,this._springSystem=e,this.listeners=[],this._startValue=0,this._currentState=new Ch,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new Ch,this._restSpeedThreshold=.001,this._tempState=new Ch,this._timeAccumulator=0,this._wasAtRest=!0,this._cachedSpringConfig={}};Sh.prototype.getId=function(){return this._id},Sh.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},Sh.prototype.setSpringConfig=function(e){return this._springConfig=e,this},Sh.prototype.getCurrentValue=function(){return this._currentState.position},Sh.prototype.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},Sh.prototype.setEndValue=function(e){if(e===this._endValue)return this;if(this.prevEndValue=e,this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t].onSpringEndStateChange;r&&r(this)}return this},Sh.prototype.setVelocity=function(e){return e===this._currentState.velocity?this:(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId()),this)},Sh.prototype.setCurrentValue=function(e){this._startValue=e,this._currentState.position=e;for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t];r.onSpringUpdate&&r.onSpringUpdate(this)}return this},Sh.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},Sh.prototype.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},Sh.prototype.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},Sh.prototype.advance=function(e,t){var n=this.isAtRest();if(!n||!this._wasAtRest){var r=t;t>.064&&(r=.064),this._timeAccumulator+=r;for(var i,o,a,s,c,u,l=this._springConfig.tension,d=this._springConfig.friction,p=this._currentState.position,f=this._currentState.velocity,m=this._tempState.position,h=this._tempState.velocity;this._timeAccumulator>=.001;)this._timeAccumulator-=.001,this._timeAccumulator<.001&&(this._previousState.position=p,this._previousState.velocity=f),o=l*(this._endValue-m)-d*f,s=l*(this._endValue-(m=p+.001*(i=f)*.5))-d*(h=f+.001*o*.5),u=l*(this._endValue-(m=p+.001*(a=h)*.5))-d*(h=f+.001*s*.5),m=p+.001*(c=h),p+=1/6*(i+2*(a+c)+(h=f+.001*u))*.001,f+=1/6*(o+2*(s+u)+(l*(this._endValue-m)-d*h))*.001;this._tempState.position=m,this._tempState.velocity=h,this._currentState.position=p,this._currentState.velocity=f,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/.001),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var v=!1;this._wasAtRest&&(this._wasAtRest=!1,v=!0);var g=!1;n&&(this._wasAtRest=!0,g=!0),this.notifyPositionUpdated(v,g)}},Sh.prototype.notifyPositionUpdated=function(e,t){var n=this;this.listeners.filter(Boolean).forEach(function(r){e&&r.onSpringActivate&&!n._onActivateCalled&&(r.onSpringActivate(n),n._onActivateCalled=!0),r.onSpringUpdate&&r.onSpringUpdate(n),t&&r.onSpringAtRest&&r.onSpringAtRest(n)})},Sh.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},Sh.prototype.wasAtRest=function(){return this._wasAtRest},Sh.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},Sh.prototype._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},Sh.prototype.addListener=function(e){return this.listeners.push(e),this},Sh.prototype.addOneTimeListener=function(e){var t=this;return Object.keys(e).forEach(function(n){var r;e[n]=(r=e[n],function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];r.apply(void 0,n),t.removeListener(e)})}),this.listeners.push(e),this},Sh.prototype.removeListener=function(e){return Eh(this.listeners,e),this};var xh=function(e){this.looper=e||new kh,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}};xh.prototype.createSpring=function(e,t){return this.createSpringWithConfig({tension:e,friction:t})},xh.prototype.createSpringWithConfig=function(e){var t=new Sh(this);return this.registerSpring(t),t.setSpringConfig(e),t},xh.prototype.getIsIdle=function(){return this._isIdle},xh.prototype.registerSpring=function(e){this._springRegistry[e.getId()]=e},xh.prototype.deregisterSpring=function(e){Eh(this._activeSprings,e),delete this._springRegistry[e.getId()]},xh.prototype.advance=function(e,t){for(var n=this;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(this._activeSprings.filter(Boolean).forEach(function(r){r.systemShouldAdvance()?r.advance(e/1e3,t/1e3):n._idleSpringIndices.push(n._activeSprings.indexOf(r))});this._idleSpringIndices.length>0;){var r=this._idleSpringIndices.pop();r>=0&&this._activeSprings.splice(r,1)}},xh.prototype.loop=function(e){var t;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},xh.prototype.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())};var Oh=new xh,Rh=function(e){var t=e.springConfig,n=t.overshootClamping,r=e.getOnUpdateFunc,i=e.onAnimationEnd,o=e.isGestureControlled,a=e.onSpringActivate,s=Oh.createSpring(t.stiffness,t.damping);s.setOvershootClampingEnabled(!!n);var c={onSpringActivate:a,onSpringAtRest:o?function(){}:function(){s.destroy(),i()},onSpringUpdate:r({spring:s,onAnimationEnd:i})};return s.addListener(c),s},Ih=function(e){var t=Rh(e);return t.setEndValue(1),t},Th=function(e,t,n){if(void 0===t&&(t={}),e&&e.length){t.reverse&&e.reverse();var r,i="number"!=typeof(r=t.speed)?1.1:1+Math.min(Math.max(5*r,0),5),o=1/Math.max(Math.min(e.length,100),10),a=e.map(function(e,t){var r=e.getOnUpdateFunc;return e.getOnUpdateFunc=function(e){var s=r(e);return function(e){var r=e.getCurrentValue();((r=r<.01?0:r>.99?1:r)>=o||n)&&a[t+1]&&a[t+1](Math.max(Math.min(r*i,1),0)),s(e)}},e}).map(function(e){var t=Rh(Object.assign({},e,{isGestureControlled:n}));if(t)return t.setEndValue.bind(t)}).filter(Boolean);a[0]&&!n&&a[0](1)}},Nh=function(e){return[0,1,4,5,12,13].map(function(t){return e[t]})},Ah=function(e){return e.top<window.innerHeight&&e.bottom>0&&e.left<window.innerWidth&&e.right>0},Ph=function(e,t){var n;return fh(e,((n={})[t[0]]=t[1],n))},Lh=function(e,t){return ph(t?document.querySelectorAll('[data-portal-key="'+t+'"]'):e.querySelectorAll("[data-flip-id]"))},Mh=function(e){return e.map(function(e){return[e,e.getBoundingClientRect()]})},Dh=(new xh,Object(p.createContext)({})),Bh=Object(p.createContext)("portal"),jh=Object(p.createContext)({}),Fh=function(e){function t(){var t=this;e.apply(this,arguments),this.isGestureControlled=!1,this.isGestureInitiated=!1,this.inProgressAnimations={},this.flipCallbacks={},this.el=void 0,this.setIsGestureInitiated=function(){t.isGestureInitiated=!0}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getSnapshotBeforeUpdate=function(e){return this.isGestureInitiated?(this.isGestureControlled=!0,this.isGestureInitiated=!1):this.isGestureControlled=!1,e.flipKey!==this.props.flipKey&&this.el?function(e){var t=e.element,n=e.flipCallbacks;void 0===n&&(n={});var r=e.inProgressAnimations;void 0===r&&(r={});var i=Lh(t,e.portalKey),o=ph(t.querySelectorAll("[data-inverse-flip-id]")),a={},s=[],c={};i.filter(function(e){return n&&n[e.dataset.flipId]&&n[e.dataset.flipId].onExit}).forEach(function(e){var t=e.parentNode;if(e.closest){var n=e.closest("[data-exit-container]");n&&(t=n)}var r=s.findIndex(function(e){return e[0]===t});-1===r&&(s.push([t,t.getBoundingClientRect()]),r=s.length-1),a[e.dataset.flipId]=s[r][1],c[e.dataset.flipId]=t});var u=Mh(i),l=u.map(function(e){var t=e[0],r=e[1],i={};if(n&&n[t.dataset.flipId]&&n[t.dataset.flipId].onExit){var o=a[t.dataset.flipId];fh(i,{element:t,parent:c[t.dataset.flipId],childPosition:{top:r.top-o.top,left:r.left-o.left,width:r.width,height:r.height}})}return[t.dataset.flipId,{rect:r,opacity:parseFloat(window.getComputedStyle(t).opacity||"1"),domDataForExitAnimations:i}]}).reduce(Ph,{});return function(e,t){Object.keys(e).forEach(function(t){e[t].spring&&e[t].spring.destroy(),delete e[t]}),t.forEach(function(e){e.style.transform="",e.style.opacity=""})}(r,i.concat(o)),{flippedElementPositions:l,cachedOrderedFlipIds:u.map(function(e){return e[0].dataset.flipId})}}({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},t.prototype.componentDidUpdate=function(e,t,n){this.props.flipKey!==e.flipKey&&this.el&&function(e){var t=e.cachedOrderedFlipIds;void 0===t&&(t=[]);var n=e.inProgressAnimations;void 0===n&&(n={});var r=e.flippedElementPositionsBeforeUpdate;void 0===r&&(r={});var i=e.flipCallbacks;void 0===i&&(i={});var o=e.containerEl,a=e.applyTransformOrigin,s=e.spring,c=e.debug,u=e.portalKey,l=e.staggerConfig;void 0===l&&(l={});var d=e.decisionData;void 0===d&&(d={});var p=e.handleEnterUpdateDelete,f=e.isGestureControlled,m=e.onComplete,h=e.onStart,v=function(e){return Mh(Lh(e.element,e.portalKey)).map(function(e){var t=e[0],n=e[1],r=window.getComputedStyle(t);return[t.dataset.flipId,{element:t,rect:n,opacity:parseFloat(r.opacity),transform:r.transform}]}).reduce(Ph,{})}({element:o,portalKey:u}),g=function(e){var t=e.containerEl,n=e.portalKey;return n?function(e){return function(t){return ph(document.querySelectorAll('[data-portal-key="'+e+'"]'+t))}}(n):t?function(e){var t=Math.random().toFixed(5);return e.dataset.flipperId=t,function(n){return ph(e.querySelectorAll('[data-flipper-id="'+t+'"] '+n))}}(t):function(){return[]}}({containerEl:o,portalKey:u}),b=function(e){return function(t){return e('[data-flip-id="'+t+'"]')[0]}}(g),_=function(e){return r[e]&&v[e]},y=Object.keys(r).concat(Object.keys(v)).filter(function(e){return!_(e)}),E={flipCallbacks:i,getElement:b,flippedElementPositionsBeforeUpdate:r,flippedElementPositionsAfterUpdate:v,inProgressAnimations:n,decisionData:d},k=function(e){var t,n=e.unflippedIds,r=e.flipCallbacks,i=e.getElement,o=e.flippedElementPositionsBeforeUpdate,a=e.flippedElementPositionsAfterUpdate,s=e.inProgressAnimations,c=e.decisionData,u=n.filter(function(e){return a[e]}).filter(function(e){return r[e]&&r[e].onAppear}),l=n.filter(function(e){return o[e]&&r[e]&&r[e].onExit}),d=new Promise(function(e){t=e}),p=[],f=0,m=l.map(function(e,n){var i=o[e].domDataForExitAnimations,a=i.element,u=i.parent,l=i.childPosition,d=l.top,m=l.left,h=l.width,v=l.height;"static"===getComputedStyle(u).position&&(u.style.position="relative"),a.style.transform="matrix(1, 0, 0, 1, 0, 0)",a.style.position="absolute",a.style.top=d+"px",a.style.left=m+"px",a.style.height=v+"px",a.style.width=h+"px";var g=p.filter(function(e){return e[0]===u})[0];g||(g=[u,document.createDocumentFragment()],p.push(g)),g[1].appendChild(a),f+=1;var b=function(){try{u.removeChild(a)}catch(e){}finally{0==(f-=1)&&t()}};return s[e]={stop:b},function(){return r[e].onExit(a,n,b,c)}});return p.forEach(function(e){e[0].appendChild(e[1])}),m.length||t(),{hideEnteringElements:function(){u.forEach(function(e){var t=i(e);t&&(t.style.opacity="0")})},animateEnteringElements:function(){u.forEach(function(e,t){var n=i(e);n&&r[e].onAppear(n,t,c)})},animateExitingElements:function(){return m.forEach(function(e){return e()}),d}}}(fh({},E,{unflippedIds:y})),C=k.hideEnteringElements,w=k.animateEnteringElements,S=k.animateExitingElements,x=fh({},E,{containerEl:o,isGestureControlled:f,flippedIds:t.filter(_),applyTransformOrigin:a,spring:s,debug:c,staggerConfig:l,scopedSelector:g,onComplete:m});h&&h(o,d);var O=function(e){var t=x.flippedIds,n=x.flipCallbacks,r=x.inProgressAnimations,i=x.flippedElementPositionsBeforeUpdate,o=x.flippedElementPositionsAfterUpdate,a=x.applyTransformOrigin,s=x.spring,c=x.getElement,u=x.debug,l=x.staggerConfig;void 0===l&&(l={});var d=x.decisionData;void 0===d&&(d={});var p,f=x.onComplete,m=x.containerEl,h=x.isGestureControlled,v=new Promise(function(e){p=e});if(f&&v.then(function(){return f(m,d)}),!t.length)return function(){return p([]),v};var g,b=[],_=c(t[0]),y=_?_.ownerDocument.querySelector("body"):document.querySelector("body");g=t.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),Object.keys(g).filter(function(e){return g[e]>1});var E=t.map(function(e){var t=i[e].rect,c=o[e].rect,u=i[e].opacity,l=o[e].opacity,f=c.width<1||c.height<1,m=o[e].element;if(!Ah(t)&&!Ah(c))return!1;if(!m)return!1;var v=JSON.parse(m.dataset.flipConfig),g=function(e){void 0===e&&(e={});var t=e.flippedSpring;return fh({},vh.noWobble,gh(e.flipperSpring),gh(t))}({flipperSpring:s,flippedSpring:v.spring}),_=!0===v.stagger?"default":v.stagger,k={element:m,id:e,stagger:_,springConfig:g};if(n[e]&&n[e].shouldFlip&&!n[e].shouldFlip(d.previous,d.current))return!1;var C=Math.abs(t.left-c.left),w=Math.abs(t.top-c.top),S=C+w,x=Math.abs(t.width-c.width)+Math.abs(t.height-c.height),O=Math.abs(l-u);if(S<.5&&x<.5&&O<.01)return!1;var R=function(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return sh(t[2].split(", ").map(parseFloat))}return ch()}(o[e].transform),I={matrix:R},T={matrix:[]},N=[R];v.translate&&(N.push(function(e){var t=ch();return t[12]=e,t}(t.left-c.left)),N.push(function(e){var t=ch();return t[13]=e,t}(t.top-c.top))),v.scale&&(N.push(function(e){var t=ch();return t[0]=e,t}(Math.max(t.width,1)/Math.max(c.width,1))),N.push(function(e){var t=ch();return t[5]=e,t}(Math.max(t.height,1)/Math.max(c.height,1)))),v.opacity&&(T.opacity=u,I.opacity=l);var A=[];if(!n[e]||!n[e].shouldInvert||n[e].shouldInvert(d.previous,d.current)){var P=function(e,t){return ph(m.querySelectorAll('[data-inverse-flip-id="'+t+'"]'))}(0,e);A=P.map(function(e){return[e,JSON.parse(e.dataset.flipConfig)]})}T.matrix=Nh(N.reduce(uh)),I.matrix=Nh(I.matrix);var L,M=function(e){var t=e.element,n=e.invertedChildren,r=e.body;return function(e){var i=e.matrix,o=e.opacity,a=e.forceMinVals;if(lh(o)&&(t.style.opacity=o+""),a&&(t.style.minHeight="1px",t.style.minWidth="1px"),i){var s="matrix("+i.join(", ")+")";t.style.transform=s,n&&function(e){var t=e.matrix,n=e.body;e.invertedChildren.forEach(function(e){var r=e[0],i=e[1];if(n.contains(r)){var o=t[0],a=t[3],s=t[5],c={translateX:0,translateY:0,scaleX:1,scaleY:1},u="";i.translate&&(c.translateX=-t[4]/o,c.translateY=-s/a,u+="translate("+c.translateX+"px, "+c.translateY+"px)"),i.scale&&(c.scaleX=1/o,c.scaleY=1/a,u+=" scale("+c.scaleX+", "+c.scaleY+")"),r.style.transform=u}})}({invertedChildren:n,matrix:i,body:r})}}}({element:m,invertedChildren:A,body:y});if(n[e]&&n[e].onComplete){var D=n[e].onComplete;L=function(){return D(m,d)}}var B=lh(T.opacity)&&lh(I.opacity)&&T.opacity!==I.opacity,j=!1;return fh({},k,{stagger:_,springConfig:g,getOnUpdateFunc:function(i){return r[e]={spring:i.spring,onAnimationEnd:i.onAnimationEnd,difference:{translateXDifference:C,translateYDifference:w,prevRect:t,currentRect:c}},function(t){n[e]&&n[e].onSpringUpdate&&n[e].onSpringUpdate(t.getCurrentValue()),j||(j=!0,n[e]&&n[e].onStart&&n[e].onStart(m,d));var r=t.getCurrentValue();if(y.contains(m)){var i={matrix:[]};i.matrix=T.matrix.map(function(e,t){return hh(e,I.matrix[t],r)}),B&&(i.opacity=hh(T.opacity,I.opacity,r)),M(i)}else t.destroy()}},initializeFlip:function(){M({matrix:T.matrix,opacity:B?T.opacity:void 0,forceMinVals:f}),n[e]&&n[e].onStartImmediate&&n[e].onStartImmediate(m,d),v.transformOrigin?m.style.transformOrigin=v.transformOrigin:a&&(m.style.transformOrigin="0 0"),A.forEach(function(e){var t=e[0],n=e[1];n.transformOrigin?t.style.transformOrigin=n.transformOrigin:a&&(t.style.transformOrigin="0 0")})},onAnimationEnd:function(){delete r[e],"function"==typeof L&&L(),m.style.transform="",A.forEach(function(e){e[0].style.transform=""}),f&&m&&(m.style.minHeight="",m.style.minWidth=""),b.push(e),b.length>=E.length&&p(b)},isGestureControlled:h,delayUntil:v.delayUntil})}).filter(Boolean);if(E.forEach(function(e){return(0,e.initializeFlip)()}),u)return function(){};var k=E.filter(function(e){return e.delayUntil&&(t=e.delayUntil,E.filter(function(e){return e.id===t}).length);var t}),C={},w={},S={};k.forEach(function(e){e.stagger?(S[e.stagger]=!0,w[e.delayUntil]?w[e.delayUntil].push(e.stagger):w[e.delayUntil]=[e.stagger]):C[e.delayUntil]?C[e.delayUntil].push(e):C[e.delayUntil]=[e]});var O=E.filter(function(e){return e.stagger}).reduce(function(e,t){return e[t.stagger]?e[t.stagger].push(t):e[t.stagger]=[t],e},{}),R=E.filter(function(e){return-1===k.indexOf(e)});return R.forEach(function(e){e.onSpringActivate=function(){C[e.id]&&C[e.id].forEach(Ih),w[e.id]&&Object.keys(w[e.id].reduce(function(e,t){var n;return fh(e,((n={})[t]=!0,n))},{})).forEach(function(e){Th(O[e],l[e],h)})}}),function(){return E.length||p([]),R.filter(function(e){return!e.stagger}).forEach(Ih),Object.keys(O).forEach(function(e){S[e]||Th(O[e],l[e],h)}),v}}();p?p({hideEnteringElements:C,animateEnteringElements:w,animateExitingElements:S,animateFlippedElements:O}):(C(),S().then(w),O())}({flippedElementPositionsBeforeUpdate:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,isGestureControlled:this.isGestureControlled,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:e.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},t.prototype.render=function(){var e=this,t=this.props,n=t.portalKey,r=f.a.createElement(jh.Provider,{value:{inProgressAnimations:this.inProgressAnimations,setIsGestureInitiated:this.setIsGestureInitiated}},f.a.createElement(Dh.Provider,{value:this.flipCallbacks},f.a.createElement(t.element,{className:t.className,ref:function(t){return e.el=t}},this.props.children)));return n&&(r=f.a.createElement(Bh.Provider,{value:n},r)),r},t}(p.Component);function Uh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}Fh.defaultProps={applyTransformOrigin:!0,element:"div"};var zh=function(e){var t=e.children,n=e.flipId,r=e.inverseFlipId,i=e.portalKey,o=e.gestureHandlers,a=Uh(e,["children","flipId","inverseFlipId","portalKey","gestureHandlers"]),s=t,c="function"==typeof s;if(!c)try{s=p.Children.only(t)}catch(e){throw new Error("Each Flipped component must wrap a single child")}a.scale||a.translate||a.opacity||fh(a,{translate:!0,scale:!0,opacity:!0});var u={};return u["data-flip-config"]=JSON.stringify(a),n?u["data-flip-id"]=String(n):r&&(u["data-inverse-flip-id"]=String(r)),i&&(u["data-portal-key"]=i),c?s(u):(o&&fh(u,o),Object(p.cloneElement)(s,u))},Vh=function(e){var t=e.children,n=e.flipId,r=e.shouldFlip,i=e.shouldInvert,o=e.onAppear,a=e.onStart,s=e.onStartImmediate,c=e.onComplete,u=e.onExit,l=e.onSpringUpdate,d=e.gestureHandlers,p=Uh(e,["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate","gestureHandlers"]);return t?p.inverseFlipId?f.a.createElement(zh,Object.assign({},p),t):f.a.createElement(Bh.Consumer,null,function(e){return f.a.createElement(Dh.Consumer,null,function(m){return dh(m)&&n&&(m[n]={shouldFlip:r,shouldInvert:i,onAppear:o,onStart:a,onStartImmediate:s,onComplete:c,onExit:u,onSpringUpdate:l}),f.a.createElement(zh,Object.assign({flipId:n},p,{portalKey:e,gestureHandlers:d}),t)})}):null};Vh.displayName="Flipped";var Hh,Wh,Gh=function(e){var t=e.direction;return f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},f.a.createElement("path",{transform:"left"===t?"rotate(180) translate(-24, -24)":"",d:"M16.747 11l-.75-.588-4.704-4.705 1.414-1.414L20.414 12l-7.707 7.707-1.414-1.414 4.709-4.709.748-.584H4v-2h12.747z",fill:"#000"}))},qh=(n(238),Fc("scrollable-container")),Kh=of(Fm),Yh=function(e){var t=e.className,n=e.style,r=e.onScroll,i=e.scrollableContainerRef,o=e.rootRef,a=e.children,s=Object(p.useState)(null),c=s[0],u=s[1];Object(p.useEffect)(function(){var e=Kh();u(e)},[]);var l=null!==c?{margin:"0 "+-c+"px "+-c+"px 0",overflow:"scroll",height:"calc(100% + "+c+"px)"}:{};return f.a.createElement("div",{className:Fc.mix(t,qh()),ref:o,style:n},f.a.createElement("div",{className:qh("scroll-wrapper"),ref:i,style:l,onScroll:r},a))},Qh=function(e){var t=e.scrollWidth,n=e.itemMargin,r=e.itemWidth,i=e.containerWidth,o=e.currentPos,a=(i-(Math.floor((i+n)/(r+n))*(r+n)-n))/2,s=Math.floor((o+i+n)/(r+n))*(r+n)-a;return Math.min(t,s)},Zh=function(e,t,n,r){var i=e.scrollTop,o=e.scrollLeft,a=e.scrollWidth,s=e.scrollHeight,c=e.clientWidth,u=e.clientHeight,l=function(e){return e.preventDefault()};e.addEventListener("scroll",l);var d=void 0===n.scrollLeft?o:Math.max(0,Math.min(a-c,n.scrollLeft)),p=void 0===n.scrollTop?i:Math.max(0,Math.min(s-u,n.scrollTop)),f=Math.round(d-o),m=Math.round(p-i);t.style.transitionDuration=r+"ms",t.style.transform="translate("+-f+"px, "+-m+"px)",setTimeout(function(){t.style.transitionDuration="",t.style.transform="",e.scrollLeft=o+f,e.scrollTop=i+m,e.removeEventListener("scroll",l)},r)},$h=Fc("carousel-view"),Jh=function(e){var t=e.className,n=e.listClassName,r=e.itemMargin,i=void 0===r?10:r,o=e.itemDesiredWidth,a=e.itemMaxWidth,s=e.itemMinWidth,c=e.itemVisiblePortion,u=void 0===c?.3:c,l=e.withArrow,d=e.children,m=void 0===d?[]:d,h=Object(p.useState)(null),v=h[0],g=h[1],b=Object(p.useMemo)(function(){return null===v||void 0===o?o:function(e){var t=e.containerWidth,n=e.maxWidth,r=e.minWidth,i=e.desirableWidth,o=e.margin,a=e.visiblePortion,s=Math.round((t-i*a)/(i+o)),c=(t-o*s)/(s/a+1)/a;return Math.min(n,Math.max(r,c))}({containerWidth:v,maxWidth:void 0===a?o:a,minWidth:void 0===s?o:s,desirableWidth:o,visiblePortion:u,margin:i})},[v,i,a,s,u,o]),_=Object(p.useRef)(null);Object(p.useEffect)(function(){var e=Fi(function(){return _.current&&g(_.current.clientWidth)},100);return e(),window.addEventListener("resize",e,{passive:!0}),function(){window.removeEventListener("resize",e)}},[]);var y=Object(p.useRef)(null),E=Object(p.useRef)(null),k=Object(p.useState)(!1),C=k[0],w=k[1],S=Object(p.useState)(!1),x=S[0],O=S[1],R=p.Children.count(m),I=Object(p.useCallback)(Fi(function(){if(y.current){var e=y.current,t=e.scrollWidth,n=e.scrollLeft,r=e.clientWidth;w(n>15),O(t-n-r>15)}},100),[]);Object(p.useEffect)(I,[R,v]);var T=Zl(function(){if(v&&y.current&&E.current){var e=y.current,t=e.scrollWidth,n=e.scrollLeft;if(void 0===b)Zh(y.current,E.current,{scrollLeft:Math.min(t,n+.8*v)},300);else{var r=Qh({scrollWidth:t,itemMargin:i,itemWidth:b,containerWidth:v,currentPos:n});Zh(y.current,E.current,{scrollLeft:r},300)}}}),N=Zl(function(){if(v&&y.current&&E.current){var e=y.current,t=e.scrollWidth,n=e.scrollLeft;if(void 0===b)Zh(y.current,E.current,{scrollLeft:Math.max(0,n-.8*v)},300);else{var r=Qh({scrollWidth:t,itemMargin:i,itemWidth:b,containerWidth:v,currentPos:t-n-v});Zh(y.current,E.current,{scrollLeft:t-r-v},300)}}}),A=String(b)+p.Children.toArray(m).map(function(e){return String(e.key||"")}).join("-");return f.a.createElement("div",{className:Fc.mix(t,$h()),ref:_},l&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:$h("arrow",{hidden:!x,type:"right"}),onClick:T},f.a.createElement(Gh,{direction:"right"})),f.a.createElement("div",{className:$h("arrow",{hidden:!C,type:"left"}),onClick:N},f.a.createElement(Gh,{direction:"left"}))),f.a.createElement(Yh,{onScroll:I,scrollableContainerRef:y},f.a.createElement("div",{className:$h("list-container"),ref:E},f.a.createElement(Fh,{flipKey:A,spring:"noWobble",className:Fc.mix(n,$h("scroll-list"))},p.Children.toArray(m).map(function(e,t){return f.a.createElement(Vh,{key:String(e.key),flipId:String(e.key),translate:!0,scale:!0},f.a.createElement("div",{className:$h("item-container"),style:{marginRight:t<R-1?i:void 0,width:b}},e))})))))},Xh=(n(315),new kd.a({id:"featuring-close--inline",use:"featuring-close--inline-usage",viewBox:"0 0 13 13",content:'<symbol viewBox="0 0 13 13" id="featuring-close--inline">\n    <path d="M1.90384 0.424561L0.489624 1.83887L5.08583 6.43506L0.489624 11.0312L1.90383 12.4453L6.50003 7.84912L11.0962 12.4453L12.5104 11.0312L7.91423 6.43506L12.5104 1.83887L11.0962 0.424561L6.50003 5.02075L1.90384 0.424561Z" />\n</symbol>'})),ev=(wd.a.add(Xh),Xh),tv=Fc("featuring-carousel-card"),nv=function(e){var t=e.rootRef,n=e.color,r=e.size,i=e.onClick,o=e.onCloseClick,a=e.logo,s=e.logoMainColor,c=e.title,u=e.description,l=e.feedbackProps,d=e.feedbackButtons,m=e.logger,h=e.onSubscribeClick,v=e.subscribeDisabled,g=e.background,b=e.framedLogo,_=e.mainColor,y=e.link,E=e.className,k=Object(p.useMemo)(function(){return"m"===r?null:f.a.createElement("div",{className:tv("logo"),style:{backgroundImage:"url("+a+")",backgroundColor:s}})},[r,a,s]),C=Object(p.useMemo)(function(){return"l"===r?f.a.createElement("div",{className:tv("title"),style:{color:n}},c):f.a.createElement(xf,{className:tv("title"),style:{color:n},isIntersecting:!0},c)},[r,n,c]),w=Object(p.useMemo)(function(){return"m"===r?null:f.a.createElement(xf,{className:tv("description"),style:{color:n},isIntersecting:!0},u)},[r,n,u]),S=Object(p.useMemo)(function(){var e={backgroundImage:"url("+("l"===r?g:b)+")",backgroundColor:_};return f.a.createElement("div",{className:tv("background"),style:e})},[g,r,b,_]),x=Fc.mix(E,tv({size:r}));return f.a.createElement(_d,{className:x,href:y,onClick:i,ref:t},S,f.a.createElement("div",{className:tv("content")},k,C,w,f.a.createElement(Ym,qt({subscribedKey:"subscribe",unsubscribedKey:"unsubscribe",className:tv("subscribe"),feedbackButtons:d,logger:m,buttonSize:"l"===r?"m":"s",onClick:h,disabled:v},l))),f.a.createElement("div",{className:tv("close-button"),onClick:o},f.a.createElement("svg",{width:"13",height:"13",viewBox:ev.viewBox},f.a.createElement("use",{style:{fill:n},xlinkHref:"#"+ev.id}))))},rv=function(e,t){return{type:"CLOSE_CAROUSEL_ITEM",payload:{id:e,itemId:t}}},iv={},ov=function(e,t){return void 0===t&&(t={}),function(e){var t=Object(p.useRef)(null);return Object(p.useCallback)(function(n){t.current&&(t.current(),t.current=null),n&&(e.observe(n),t.current=function(){e.unobserve(n)})},[e])}(function(e,t){void 0===t&&(t={});var n=t,r=n.root,i=n.rootMargin,o=n.threshold,a=Zl(function(t,n){Object(ae.unstable_batchedUpdates)(function(){e(t,n)})});return Object(p.useMemo)(function(){return"undefined"!=typeof window?new IntersectionObserver(a,{root:r,rootMargin:i,threshold:o}):iv},[r,i].concat(o))}(function(t){e(t[0])},t))},av=function(e){var t=(void 0===e?{}:e).visibilityThreshold,n=void 0===t?.8:t,r=Object(p.useState)(null),i=r[0],o=r[1],a=function(){var e=Object(p.useState)(Kn),t=e[0],n=e[1];return Object(p.useEffect)(function(){return Yn(n)},[]),t}();return[ov(function(e){o(e.intersectionRatio>=n)},{threshold:[n]}),i&&a]},sv=function(e){var t=e.isVisible,n=e.timeout,r=void 0===n?800:n,i=e.onShow,o=e.onDeepwatch,a=Object(p.useState)(!1),s=a[0],c=a[1],u=Object(p.useState)(!1),l=u[0],d=u[1];!function(e){var t=e.isVisible,n=e.timeout,r=e.onShow,i=e.onDeepwatch,o=Zl(function(){Object(ae.unstable_batchedUpdates)(function(){r()})}),a=Zl(function(e){i&&Object(ae.unstable_batchedUpdates)(function(){i(e)})});Object(p.useEffect)(function(){if(t){var e=!1,r=Date.now(),i=setTimeout(function(){e=!0,o()},n);return function(){e?a(Date.now()-r):(clearTimeout(i),Date.now()>r+n&&o())}}},[t,n,a,o])}({isVisible:!s&&Boolean(t),timeout:r,onShow:function(){d(!0),i()},onDeepwatch:o}),s||!l||t||c(!0)},cv=function(e,t){var n=gs().globalBus,r=oe(function(e){return e.params.isSpaApp});return Object(p.useCallback)(function(i){t&&t(i),"user"!==e.type&&(!r||i.ctrlKey||i.metaKey||i.shiftKey||(i.preventDefault(),n.emit("requestSourceOpen",e)))},[r,n,t,e])},uv=function(e){var t=e.size,n=e.className,r=e.isContainerVisible,i=e.visibilityThreshold,o=e.id,a=e.parentId,s=e.mainColor,c=e.textColor,u=e.background,l=e.feedbackButtons,d=e.statEvents,m=e.bulkParams,h=e.source,v=Object(p.useMemo)(qi,[]),g=Object(p.useMemo)(On,[]),b=oe(function(e){var t=v(e,a,o);return{source:g(e,h),feedbackProps:t}},F),_=b.source,y=b.feedbackProps,E="l"===t?c:_.titleColor,k="subscribed"===_.status,C=tf(function(){return rv(a,o)}),w=tf(function(){return qu({parentId:a,id:o,statEvents:d,bulkParams:m})}),S=Object(p.useCallback)(function(){setTimeout(C,500)},[C]),x=gs().zenApi,O=av({visibilityThreshold:i}),R=O[0],I=O[1],T=Object(p.useMemo)(Mi,[])({statEvents:d,bulkParams:m,zenApi:x}),N=Object(p.useCallback)(function(){return T.log("show")},[T]);sv({isVisible:r&&I,onShow:N});var A=Object(p.useCallback)(function(){return T.log("click")},[T]),P=cv(_,A);return f.a.createElement(nv,{rootRef:R,className:n,size:t,color:E,logo:_.logo,title:_.title,description:_.description,link:_.feedLink,subscribeDisabled:k,feedbackProps:y,feedbackButtons:l,logger:T,onClick:P,onCloseClick:function(e){w(),C(),e.preventDefault(),e.stopPropagation()},onSubscribeClick:S,mainColor:s,logoMainColor:_.logoBackgroundColor,background:u,framedLogo:_.framedLogo})},lv=Fc("featuring-carousel"),dv=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderChildren=function(){var e=n.props,t=e.id,r=e.carouselType,i=e.items,o=e.isVisible;return i.filter(function(e){return!e.hidden}).map(function(e){var n=e.source,i=e.mainColor,a=e.textColor,s=e.background,c=e.feedbackButtons,u=e.statEvents,l=e.bulkParams;return f.a.createElement(uv,{key:n.id,source:n,size:"featuring_channel_small"===r?"m":"l",isContainerVisible:o,visibilityThreshold:.99,id:n.id,parentId:t,mainColor:i,textColor:a,background:s,feedbackButtons:c,statEvents:u,bulkParams:l})})},n._renderHeader=function(){var e=n.props,t=e.menu,r=e.title,i=e.subtitle,o=e.onDislike,a=e.isMobile,s=a&&i?f.a.createElement("div",{className:lv("subtitle")},i):null;return f.a.createElement("div",{className:lv("header-wrapper")},f.a.createElement("div",{className:lv("header")},f.a.createElement("div",{className:lv("title")},r),f.a.createElement(qm,{className:lv("menu"),color:"#000000",menu:t,onDislike:o,isMobile:a})),s)},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.hidden,n=e.componentRef,r=e.isMobile,i=e.isRedesign,o=this._renderChildren();return f.a.createElement("div",{className:lv({hidden:t,isMobile:r,isRedesign:i}),ref:n},this._renderHeader(),f.a.createElement(Jh,{className:lv("content"),withArrow:!r},o))},t}(p.PureComponent),pv=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={rootNode:null},n._componentRef=function(e){(0,n.props.rootRef)(e),n.setState({rootNode:e})},n._onDislike=function(){var e=n.props,t=e.id,r=e.closeCarousel;(0,e.itemDislike)({id:t,statEvents:e.statEvents,bulkParams:e.bulkParams}),r(t)},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.title,r=e.subtitle,i=e.items,o=e.carouselType,a=e.menu,s=e.hidden,c=e.isMobile,u=e.logger,l=e.isVisible,d=e.isRedesign,p={id:t,title:n,subtitle:r,carouselType:o,menu:a,hidden:s,isMobile:c,items:i,rootNode:this.state.rootNode,logger:u,isVisible:l,componentRef:this._componentRef,onDislike:this._onDislike,isRedesign:d};return f.a.createElement(dv,p)},t}(p.PureComponent),fv=X(function(){return function(e,t){var n=t.id,r=Ur(e,n);return Object.assign({},r,{isMobile:!1,isRedesign:!1})}},{closeCarousel:function(e){return{type:"CLOSE_CAROUSEL",payload:{id:e}}},itemDislike:qu})(Vp(ou(np(pv)))),mv=function(e){return Object(Vt.createSelector)(e,function(e){return e.sources},function(e,t){return"personal_carousel"!==e.type?[]:e.items.map(function(e){var n=t[e.source.id],r=n.status,i=n.feedback,o="subscribed"===r||"disliked"===i;return Object.assign({},e,{hidden:o,hasDislikeButton:!0})})})},hv=function(e){return Object(Vt.createSelector)(mv(e),function(e){return 0===e.filter(function(e){return!e.hidden}).length})},vv=(n(239),n(234),new kd.a({id:"cross--inline",use:"cross--inline-usage",viewBox:"0 0 14 14",content:'<symbol viewBox="0 0 14 14" id="cross--inline"><path d="m13.0208153 11.0208153v-7.50000002h-2v7.50000002h-7.50000002v2h7.50000002v7.5h2v-7.5h7.5v-2z" fill-rule="evenodd" transform="matrix(.70710678 -.70710678 .70710678 .70710678 -9.979185 7.020815)" /></symbol>'})),gv=(wd.a.add(vv),vv),bv=Fc("source-card2-view"),_v=eu(function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderClose=function(){var e=n.props,t=e.color,r=e.onCloseClick,i=e.hasDislikeButton,o=gv.id,a=gv.viewBox;return i?f.a.createElement("div",{className:bv("close-button"),onClick:r},f.a.createElement("svg",{width:"12",height:"12",viewBox:a},f.a.createElement("use",{style:{fill:t},xlinkHref:"#"+o}))):null},n._renderTitle=function(){var e=n.props,t=e.title,r=e.size,i=e.color,o=e.disableItemsClickable,a={color:i};return f.a.createElement("div",{className:bv("title",{size:r,clickDisabled:o}),style:a},f.a.createElement("div",{className:bv("inner-title",{size:r})},t))},n._renderSubscribe=function(){var e=n.props,t=e.buttonSize,r=e.sourceStatus,i=e.onToggleSubscribe,o=e.l10n,a="subscribed"===r,s={color:"#000000",backgroundColor:a?"#FFFFFF":"#FFCC00"},c=o(a?"desktop.unsubscribe":"desktop.subscribe");return f.a.createElement(Cl,{className:bv("subscribe-button"),style:s,onClick:i,size:t},f.a.createElement("div",{className:bv("subscribe-button-text")},c))},n._renderContentHeader=function(){return f.a.createElement("div",{className:bv("header")},n._renderClose())},n._renderBackground=function(){var e=n.props,t=e.image,r=e.mainColor,i=e.isGradient,o=e.isFallbackImage,a=Kd(r),s={backgroundColor:r,backgroundImage:"url("+t+")"},c={backgroundColor:r,backgroundImage:"radial-gradient(circle at top, rgba("+a+",0) 50%, rgba("+a+",1) 70%)"+", url("+t+")"};return f.a.createElement("div",{className:bv("background",{isFallbackImage:o}),style:i?c:s})},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.link,r=e.size,i=e.onClick,o=e.hidden,a=e.rootRef,s=e.isMobile,c=e.disableItemsClickable,u=Fc.mix(t,bv({size:r,hidden:o,isMobile:s}));return c?f.a.createElement("div",{className:u,ref:a},this._renderBackground(),f.a.createElement("div",{className:bv("content-box")},this._renderContentHeader(),this._renderTitle(),this._renderSubscribe())):f.a.createElement(_d,{className:u,href:n,ref:a,onClick:i},this._renderBackground(),f.a.createElement("div",{className:bv("content-box")},this._renderContentHeader(),this._renderTitle(),this._renderSubscribe()))},t}(f.a.PureComponent)),yv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(p.useCallback)(function(e){for(var n=0;n<t.length;n++){var r=t[n];"function"==typeof r?r(e):r&&(r.current=e)}},[t])},Ev={s:"framed_100x128_1x",m:"framed_132x176_1x",l:"framed_212x280_1x"},kv={s:"framed_100x128_1x",m:"framed_132x176_1x",l:"framed_202x260_1x"},Cv=Object(p.memo)(function(e){var t=e.source,n=e.size,r=e.isMobile,i=e.statEvents,o=e.bulkParams,a=e.hasDislikeButton,s=e.carouselRef,c=e.className,u=e.visibilityThreshold,l=e.hidden,d=void 0!==l&&l,m=e.onClick,h=e.disableItemsClickable,v=oe(function(e){var t=e.initialSource,n=e.size,r=e.isMobile,i=On();return function(e){var o=i(e,t),a=o.type,s=o.logo,c=o.logoSizes[(r?kv:Ev)[n]];return{source:o,image:c||s,isGradient:"domain"===a,isFallbackImage:!c}}}({initialSource:t,size:n,isMobile:r}),F),g=v.source,b=v.image,_=v.isGradient,y=v.isFallbackImage,E=gs().zenApi,k=av({visibilityThreshold:u}),C=k[0],w=k[1],S=Object(p.useMemo)(Mi,[])({statEvents:i,bulkParams:o,zenApi:E});sv({isVisible:w,onShow:function(){S.log("show")}});var x=yl({source:g,logger:S}),O=Object(p.useCallback)(function(e){S.log("click"),m&&m(e)},[S,m]),R=g.id,I=g.logo,T=g.type,N=g.feedLink,A=g.logoBackgroundColor,P=g.title,L=g.status,M=Object(p.useMemo)(function(){return{id:R,logo:I,type:T,status:L,feedLink:N,logoBackgroundColor:A,title:P}},[R,I,T,N,A,P,L]),D=cv(M,O),B=Object(p.useCallback)(function(e){x.onDislike(),e.preventDefault(),e.stopPropagation()},[x]),j=Object(p.useCallback)(function(e){x.onToggleSubscribe(),e.preventDefault(),e.stopPropagation()},[x]),U=yv(s,C);return f.a.createElement(_v,{className:c,title:P,color:g.titleColor,mainColor:A,link:N,hidden:d,size:n,image:b,onClick:D,sourceStatus:L,rootRef:U,onCloseClick:B,onToggleSubscribe:j,buttonSize:"s"===n?"s":"m",hasDislikeButton:a,isMobile:r,isGradient:_,isFallbackImage:y,disableItemsClickable:h})}),wv=(n(236),Fc("personal-carousel-stub-view")),Sv=function(e){var t=e.size,n=e.className,r=e.platform,i=e.searchLink,o=e.theme,a=e.onOpenSearch,s=e.background,c=Xc().l10n;return f.a.createElement("div",{className:Fc.mix(wv({size:t,platform:r}),n)},f.a.createElement("span",{className:wv("icon",{theme:o,background:s})}),f.a.createElement("div",{className:wv("content",{platform:r})},f.a.createElement("div",{className:wv("text",{theme:o,background:s})},c("onboarding.no-recommendations")),i&&f.a.createElement(_d,{className:wv("more-link"),href:i,onClick:a},c("onboarding.find-other-topics"))))},xv=new kd.a({id:"right-arrow--inline",use:"right-arrow--inline-usage",viewBox:"0 0 11 18",content:'<symbol viewBox="0 0 11 18" fill="none" id="right-arrow--inline">\n<path d="M1 17L9 9L1 1" stroke-width="2" />\n</symbol>'}),Ov=(wd.a.add(xv),xv),Rv=Fc("personal-carousel-view"),Iv=eu(function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderCarouselItem=function(){var e=n.props,t=e.size,r=e.items,i=e.disableItemsClickable;return r.filter(function(e){return!e.hidden}).map(function(e){var n=e.statEvents,r=e.bulkParams,o=e.id,a=e.source;return f.a.createElement(Cv,{key:o,disableItemsClickable:i,size:t,source:a,statEvents:n,bulkParams:r,visibilityThreshold:.99,hasDislikeButton:!0,isMobile:!1})})},n._renderMore=function(){var e=n.props,t=e.showMoreLink,r=e.l10n,i=Ov.id,o=Ov.viewBox;if(t)return f.a.createElement("div",{className:Rv("more-link")},f.a.createElement("div",{className:Rv("more-link-text")},r("onboarding.show-more-topics")),f.a.createElement("svg",{className:Rv("more-link-icon"),width:"13",height:"13",viewBox:o},f.a.createElement("use",{xlinkHref:"#"+i})))},n._renderHeader=function(){var e=n.props.background;return f.a.createElement("div",{className:Rv("header",{background:e})},n._renderHeaderTop(),n._renderSubtitle())},n._renderBody=function(){var e=n.props,t=e.size,r=e.hidden,i=e.searchLink,o=e.theme,a=e.onOpenSearch,s=e.background,c=n._renderCarouselItem(),u={size:t,searchLink:i,platform:"desktop",theme:o,onOpenSearch:a,background:s};if(r)return f.a.createElement(Sv,u);return f.a.createElement(Jh,{className:Rv("carousel"),listClassName:Rv("carousel-list"),itemMargin:{s:12,m:10,l:8}[t],withArrow:!0},c)},t||qn(n)}Gt(t,e);var n=t.prototype;return n._renderHeaderTop=function(){var e=this.props,t=e.title,n=e.mode,r=e.theme,i=e.background,o=e.isRedesign,a=e.l10n;if(n===_t.PinnedLib)return null;var s=o?a("onboarding.new.title"):t;return f.a.createElement("div",{className:Rv("header-top")},f.a.createElement("div",{className:Rv("title",{theme:r,background:i})},s),this._renderMore())},n._renderSubtitle=function(){var e=this.props,t=e.subtitle,n=e.mode,r=e.theme,i=e.background;return t?f.a.createElement("div",{className:Rv("subtitle",{mode:n,theme:r,background:i})},t):null},n.render=function(){var e=this.props,t=e.className,n=e.background,r=e.componentRef,i=e.isRedesign,o=e.mode,a=e.theme;return f.a.createElement("div",{className:Fc.mix(Rv({background:n,isRedesign:i,mode:o,theme:a}),t),ref:r},f.a.createElement("div",{className:Rv("wrapper")},this._renderHeader(),this._renderBody()))},t}(f.a.PureComponent)),Tv=(n(233),Fc("personal-carousel-view-mobile")),Nv=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderCarouselItem=function(){var e=n.props,t=e.size,r=e.items,i=e.disableItemsClickable;return r.filter(function(e){return!e.hidden}).map(function(e){var n=e.id,r=e.statEvents,o=e.bulkParams,a=e.source,s=e.hidden;return f.a.createElement(Cv,{key:n,disableItemsClickable:i,size:t,source:a,statEvents:r,bulkParams:o,hidden:s,visibilityThreshold:.99,hasDislikeButton:!0,isMobile:!0})})},n._renderHeader=function(){var e=n.props,t=e.mode,r=e.title,i=e.subtitle,o=t===_t.Feed||t===_t.PinnedLib,a=t===_t.Feed||t===_t.Pinned;return f.a.createElement("div",{className:Tv("header")},a?f.a.createElement("div",{className:Tv("header-top")},f.a.createElement("div",{className:Tv("title")},r)):null,o?f.a.createElement("div",{className:Tv("subtitle")},i):null)},n._renderBody=function(){var e=n.props,t=e.size,r=e.hidden,i=e.background,o=e.searchLink,a=e.onOpenSearch,s=e.theme,c=n._renderCarouselItem(),u={size:t,className:Tv("stub"),platform:"mobile",searchLink:o,theme:s,onOpenSearch:a,background:i};if(r)return f.a.createElement(Sv,u);return f.a.createElement(Jh,{className:Tv("carousel"),listClassName:Tv("carousel-list"),itemMargin:{s:8,m:8,l:6}[t]},c)},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.background,r=e.componentRef,i=e.mode;return f.a.createElement("div",{className:Fc.mix(Tv({mode:i,background:n}),t),ref:r},f.a.createElement("div",{className:Tv("wrapper")},this._renderHeader(),this._renderBody()))},t}(p.PureComponent),Av=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._componentRef=function(e){n.props.rootRef(e)},n._setPackShown=function(){var e=n.props,t=e.packId,r=e.cacheId;e.zenApi.packShown(t,r)},n._onShow=function(){n._setPackShown()},t||qn(n)}Gt(t,e);var n=t.prototype;return n._renderPersonalCarousel=function(){var e=this.props,t=e.id,n=e.title,r=e.items,i=e.hidden,o=e.background,a=e.subtitle,s=e.size,c=e.isMobile,u=e.logger,l=e.className,d=e.showMoreLink,p=e.searchLink,m=e.mode,h=e.theme,v=(e.globalBus,e.disableItemsClickable),g=e.isRedesign,b={id:t,title:n,subtitle:a,size:s,hidden:i,isMobile:c,items:r,logger:u,background:o,className:l,showMoreLink:d,searchLink:p,componentRef:this._componentRef,mode:m,theme:h,onOpenSearch:function(e){},disableItemsClickable:v,isRedesign:g};return c?f.a.createElement(Nv,b):f.a.createElement(Iv,b)},n.render=function(){var e=this.props,t=e.isVisible,n=e.logger;return f.a.createElement(Qn,{logger:n,isVisible:t,onShow:this._onShow},this._renderPersonalCarousel())},t}(f.a.PureComponent),Pv=bs(function(e){return{zenApi:e.zenApi,globalBus:e.globalBus}})(X(function(){return function(e){var t=e.params.host;return{isMobile:!1,searchLink:sr(e).showEmptyCarouselSearchLink?function(e){return"/"===e[e.length-1]?e.slice(0,-1):e}(t||"")+"/search":null,theme:Ir(e),isRedesign:!1}}})(ou(Av))),Lv=bs(function(e){return{zenApi:e.zenApi}})(X(function(){var e=Mi(),t=function(e,t){return Ur(e,t)},n=hv(t),r=mv(t);return function(i,o){var a=o.id,s=o.zenApi,c=t(i,a),u=r(i,a),l=n(i,a),d=e(Object.assign({},c,{zenApi:s}));return Object.assign({},c,{background:"white"===c.background?"transparent":c.background,items:u,hidden:l,logger:d,mode:"feed"})}})(Pv)),Mv=(n(322),Fc("feed-item-header")),Dv=37,Bv="…",jv=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderAction=function(){var e=n.props,t=e.type,r=e.isMobile,i=e.l10n,o=t===me.COMMENT,a=o?i("common.comment_on")+" ":i("common.liked");return f.a.createElement("span",{className:Mv("action",{isMobile:r,shift:!o})},a)},n._maybeRenderArticleTitle=function(){var e=n.props,t=e.type,r=e.source,i=e.isMobile,o=t===me.COMMENT?"a":"span",a={};if(t!==me.COMMENT||!r||!r.title)return null;var s=r.title.slice(0,Dv);return t===me.COMMENT&&(a.href=r.link,a.target="_blank",a.rel="noreferrer noopener"),s.length<r.title.length&&(s=""+s+Bv),f.a.createElement(o,qt({className:Mv("title",{isMobile:i})},a),s)},n._maybeRenderActionTime=function(){var e=n.props,t=e.actionTime,r=e.isMobile,i=e.type===me.COMMENT||r?"span":"div";return t?f.a.createElement(i,{className:Mv("date")},t):null},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props.isMobile;return f.a.createElement("div",{className:Mv("",{isMobile:e})},this._renderAction(),this._maybeRenderArticleTitle(),this._maybeRenderActionTime())},t}(p.PureComponent),Fv=X(function(){var e=Sn();return function(t,n){var r=n.id,i=Ur(t,r);return{type:i.type,actionTime:i.actionTime,source:e(t,r),isMobile:t.params.isMobile}}})(eu(jv)),Uv=(n(318),function(e,t){if(1!==e.length||1!==t.length)return!1;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343}),zv=/[\s\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000]+/g,Vv=/\n+/g,Hv=function(e){var t=e.descriptor,n=void 0===t?{}:t,r=e.rowsCount,i=e.text,o=void 0===i?"":i,a=e.fullTextButtonWidth,s=void 0===a?0:a,c=e.threshold,u=void 0===c?0:c,l=e.maxLineWidth,d=void 0===l?0:l,p=e.addEllipsis,f=void 0!==p&&p,m=n.lines,h=void 0===m?[]:m;if(h.length<=r)return{text:o+" "};for(var v=o.replace(zv,function(e){return e.includes("\n")?"\n":" "}).replace(Vv,"\n"),g=0,b="",_=0;_<r;_++)for(var y=h[_]||[],E=r===_+1,k=0;k<y.length;k++){var C=y[k],w=y[k-1];if(E){var S=C.rect.right-y[0].rect.left;if(S+s+u>=d&&(!w||!Uv(w.value,C.value)))break;g=S}b=""+b+C.value}for(var x=!!s&&g+s>=d,O=0,R="",I=0,T=v.length;I<T&&O<b.length;I+=1)R+=v[I],v[I]===b[O]&&O++;return{shouldRenderFullTextButton:x,text:R.trim()+(f&&!x?"... ":" ")}},Wv=(n(319),n(320),zc("overflower")),Gv=function(e){var t=e.short,n=e.orientation,r=e.children,i=e.className;return f.a.createElement("div",{className:zc.mix(Wv({orientation:n}),i)},f.a.createElement("div",{className:Wv("short")},t),f.a.createElement("div",{className:Wv("long")},r))},qv=function(e){var t=e.children;return f.a.createElement(Gv,{orientation:"horizontal",short:" "},f.a.createElement(Gv,{orientation:"vertical",short:" "},t))},Kv=zc("comment-image"),Yv=function(e,t){return new Promise(function(n){var r=new Image,i=function(){t&&(r.srcset=t),r.src=e};"function"==typeof r.decode?(i(),n(r.decode().then(function(){return r}))):(r.onload=function(){return n(r)},i())})},Qv=function(e){var t=e.image.sizes,n=e.isMobile,r=e.withBlur,i=n?t["mobile-1x"]+", "+t["mobile-2x"]+" 2x, "+t["mobile-3x"]+" 3x":t["desktop-1x"]+", "+t["desktop-2x"]+" 2x",o=n?t["mobile-1x"]:t["desktop-1x"],a=Object(p.useState)(!1),s=a[0],c=a[1],u=Object(p.useState)(""),l=u[0],d=u[1];return Object(p.useEffect)(function(){var e=!0;return Promise.all([Yv(o,i),r?Yv(t.blur):Promise.resolve()]).then(function(t){var n=t[0];e&&(c(!0),d(n.currentSrc||n.src))}),function(){e=!1}},[o,i]),{loaded:s,src:l,blurSrc:t.blur}},Zv=function(e){var t=e.boundary,n=t.width,r=t.height,i=e.height,o=e.width,a=i/o;if(e.shouldFit){if(a<r/n){var s=Math.min(o,n);return{width:s,height:s*a}}var c=Math.min(i,r);return{width:c/a,height:c}}var u=Math.min(o,n),l=u*a;return{width:u,height:l=Math.min(l,r)}},$v=function(e){var t=e.src,n=e.blurSrc,r=e.isAdult,i=e.mainColor,o=e.loaded,a=e.style,s=e.containerRef,c=e.darkLoader,u=e.onClick,l=Xc().l10n,d=function(e){return Object(p.useMemo)(function(){if(e){var t=Kd(e),n=t[0],r=t[1],i=t[2];return Qd(n,r,i)}},[e])}(r?i:void 0);return f.a.createElement("div",{className:Kv({loaded:o,darkLoader:c}),ref:s},f.a.createElement("div",{className:Kv("wrap"),style:a,onClick:u},f.a.createElement("div",{className:Kv("loader")}),f.a.createElement("div",{className:Kv("image"),style:{backgroundImage:"url("+(r?n:t)+")"}},r?f.a.createElement(qv,null,f.a.createElement("div",{className:Kv("adult",{dark:d})},f.a.createElement("div",{className:Kv("adult-title")},l("comments.adult-image")),f.a.createElement("div",{className:Kv("adult-subtitle")},l("comments.adult-image-show")))):null)))},Jv=function(e){var t=e.image,n=e.maxHeight,r=e.maxWidth,i=Object(p.useState)(t.isAdult),o=i[0],a=i[1],s=Qv({image:t,isMobile:!0,withBlur:o}),c=s.loaded,u=s.src,l=s.blurSrc,d=t.width,m=t.height,h="GIF"===t.format,v=Zv({boundary:{width:r,height:n},height:m,width:d,shouldFit:h}),g=Object(p.useCallback)(function(e){o&&(e.stopPropagation(),e.preventDefault(),a(!1))},[o]);return f.a.createElement($v,{src:u,blurSrc:l,isAdult:o,mainColor:t.mainColor,loaded:c,style:v,darkLoader:!0,onClick:g})},Xv=new kd.a({id:"like--inline",use:"like--inline-usage",viewBox:"0 0 14 16",content:'<symbol viewBox="0 0 14 16" id="like--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.09369 6.66667H13.0833C13.6422 6.66667 14 7.01907 14 7.55556C13.9134 8.85181 13.6603 10.1861 13.2484 11.3702L13.2458 11.3783C12.6784 13.0065 11.8368 14.5103 10.7536 15.8309L10.7519 15.833L10.6058 16H3V8L7.37881 2.63253L7.38138 2.62907C7.69226 2.25017 7.9289 1.82681 8.0918 1.35965L8.09369 1.35372C8.21184 1.01402 8.28437 0.655373 8.30923 0.283391C8.4922 0.108351 8.74444 0 9.02326 0C9.54523 0 9.9007 0.332627 10.113 0.898915C10.3663 1.57438 10.3441 2.33958 10.3441 2.33958C10.3441 3.33466 9.98472 4.24774 9.38764 4.97145L9.38953 4.97293L8.09369 6.66667ZM2 16H0V8H2V16Z" />\n</symbol>'}),eg=(wd.a.add(Xv),Xv),tg=new kd.a({id:"dislike--inline",use:"dislike--inline-usage",viewBox:"0 0 14 16",content:'<symbol viewBox="0 0 14 16" id="dislike--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.90631 9.33333L0.916654 9.33333C0.357814 9.33333 -1.39651e-05 8.98093 -1.4012e-05 8.44444C0.0865814 7.14819 0.339692 5.81389 0.751577 4.62977L0.75415 4.6217C1.32156 2.99348 2.16317 1.48974 3.24638 0.169112L3.24809 0.166973L3.39419 9.27189e-07L11 2.62268e-07L11 8L6.62119 13.3675L6.61862 13.3709C6.30774 13.7498 6.0711 14.1732 5.9082 14.6403L5.90631 14.6463C5.78816 14.986 5.71563 15.3446 5.69077 15.7166C5.5078 15.8917 5.25556 16 4.97674 16C4.45477 16 4.0993 15.6674 3.88701 15.1011C3.63374 14.4256 3.65586 13.6604 3.65586 13.6604C3.65586 12.6653 4.01528 11.7523 4.61235 11.0286L4.61047 11.0271L5.90631 9.33333ZM12 1.74846e-07L14 0L14 8L12 8L12 1.74846e-07Z" />\n</symbol>'}),ng=(wd.a.add(tg),tg),rg=Fc("comment-doc"),ig=9,og=4,ag="12",sg="13",cg="M11.22 5.387h.001c.43 0 .779.353.779.789v.031a12.111 12.111 0 0 1-.579 3.031l-.002.007A12.035 12.035 0 0 1 9.5 12.863l-.001.001-.113.136H3.468V6.28l3.433-4.141.002-.003a3.41 3.41 0 0 0 .547-1.031l.002-.005c.09-.276.147-.568.166-.87a.771.771 0 0 1 .55-.23c.402 0 .675.27.839.73.195.55.178 1.17.178 1.17a3.46 3.46 0 0 1-.737 2.14h.002L7.319 5.388h3.901zM2.312 13H0V6.279h2.312v6.72z",ug=203,lg=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._containerRef=f.a.createRef(),n._textRef=null,n._lineWidth=0,n.state={textBoundingRect:null},n._textRefCallback=function(e){n._textRef=e,e&&n.setState({textBoundingRect:e.getBoundingClientRect()})},n.componentDidMount=function(){var e=n.props.comment.images[0],t=n._containerRef.current;if(t){n._lineWidth=n._containerRef&&t.clientWidth||0;var r=n._textRef;r&&(n._textDescriptor=Iu({containerElem:t,textElem:r,linesLimit:(e?og:ig)+2}))}},n._hasImage=function(){return Boolean(n.props.comment.images[0])},n._renderComment=function(){var e=n.props.isMobile,t=n._hasImage(),r=n._getCommentText();return f.a.createElement("div",{ref:n._containerRef},f.a.createElement("div",{key:r.length,className:rg("comment",{isMobile:e,hasTextAndImage:Boolean(t&&r)}),ref:n._textRefCallback},r),n._renderAttach())},n._getCommentText=function(){var e=n.props.comment,t=e.text,r=e.images;return n._textDescriptor?Hv({descriptor:n._textDescriptor,rowsCount:r[0]?og:ig,text:t,maxLineWidth:n._lineWidth,addEllipsis:!0}).text:t},n._renderAttach=function(){var e=n.props.comment.images[0],t=n.state.textBoundingRect;if(e&&t){var r=ug-t.height,i=t.width;return f.a.createElement(Jv,{image:e,maxHeight:r,maxWidth:i})}return null},n._renderLikes=function(){var e=n.props,t=e.comment,r=e.isCommentsDislikeEnabled,i=t.likeCount,o=t.dislikeCount,a=t.reactions,s=i-o;if(r){var c=rg("reactions-counter",{isPositive:s>0,isNegative:s<0,isNew:!0}),u=a.includes("LIKE"),l=a.includes("DISLIKE");return f.a.createElement("div",{className:rg("reactions")},f.a.createElement("svg",{viewBox:ng.viewBox,className:rg("reactions-icon",{isLike:!0,isLiked:u})},f.a.createElement("use",{xlinkHref:"#"+eg.id})),f.a.createElement("span",{className:c},s),f.a.createElement("svg",{viewBox:ng.viewBox,className:rg("reactions-icon",{isDislike:!0,isDisliked:l})},f.a.createElement("use",{xlinkHref:"#"+ng.id})))}return f.a.createElement("div",{className:rg("reactions")},f.a.createElement("svg",{width:ag,height:sg,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:rg("reactions-icon")},f.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:cg})),f.a.createElement("span",{className:rg("reactions-counter")},t.likeCount))},n._renderAuthor=function(){var e=n.props.author;if(!e)return null;var t={backgroundImage:"url("+e.avatarUrl+")"};return f.a.createElement("div",{className:rg("user")},f.a.createElement("div",{className:rg("user-avatar")},f.a.createElement("div",{className:rg("user-avatar-image"),style:t})),f.a.createElement("div",{className:rg("user-name")},e.name))},n._renderLinkToAllComments=function(){var e=n.props,t=e.source,r=e.l10n;return f.a.createElement("div",{className:rg("all-comments-wrap")},f.a.createElement("a",{href:t.link+"#comments_data=p_root",target:"_blank",rel:"noreferrer noopener",className:rg("all-comments")},r("profile.all-comment")))},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props.comment;return e?f.a.createElement("div",{className:rg()},this._renderAuthor(),f.a.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer noopener",className:rg("bubble")},this._renderComment()),f.a.createElement("div",{className:rg("footer")},this._renderLikes(),this._renderLinkToAllComments())):null},t}(f.a.PureComponent),dg=X(function(){var e=Sn();return function(t,n){var r=n.id,i=Ur(t,r),o=mr(t).isCommentsDislikeEnabled;return Object.assign({},i,{source:e(t,r),isMobile:t.params.isMobile,isCommentsDislikeEnabled:o})}})(eu(lg)),pg=(n(321),Fc("profile-onboarding-card")),fg=X(function(){return function(e,t){var n=t.id,r=Ur(e,n),i=e.params.isMobile;return Object.assign({},r,{isMobile:i})}})(function(e){var t=e.mode,n=e.isMobile,r=Xc().l10n;return f.a.createElement("div",{className:pg({mode:t,isMobile:n})},"likes"===t?f.a.createElement("div",{className:pg("title")},r("profile.onboarding-card-likes-title")):f.a.createElement("div",{className:pg("title")},r("profile.onboarding-card-interests-title")))}),mg=(n(317),Fc("content-carousel-view")),hg=function(e){var t=e.title,n=e.subtitle,r=e.children,i=e.isMobile,o=e.onShow,a=av(),s=a[0],c=a[1],u=Object(p.useRef)(null),l=yv(u,s);sv({isVisible:c,onShow:o});var d=0===p.Children.count(r),m=Object(p.useMemo)(function(){if(!d||!u.current)return{};var e=u.current.clientHeight;return{marginBottom:-e,height:e,boxSizing:"border-box"}},[d]);return f.a.createElement("div",{className:mg({isMobile:i,isEmpty:d}),style:m,ref:l},t&&f.a.createElement("div",{className:mg("title")},t),n&&f.a.createElement("div",{className:mg("subtitle")},n),f.a.createElement(Jh,{className:mg("carousel"),listClassName:mg("carousel-list"),itemDesiredWidth:220,itemMinWidth:200,itemMaxWidth:250,itemVisiblePortion:.3,withArrow:!i},r))},vg=(n(316),Fc("content-carousel-item-view")),gg=function(e){var t=e.sourceName,n=e.title,r=e.image,i=e.mainColor,o=void 0===i?"#fff":i,a=e.textColor,s=void 0===a?"#000":a,c=e.onClose,u=e.onClick,l=e.onShow,d=av(),m=d[0],h=d[1];sv({isVisible:h,onShow:l});var v=r?{backgroundColor:o,backgroundImage:"url("+r+")",backgroundSize:"cover",backgroundPosition:"center"}:{},g=Object(p.useMemo)(function(){if(!r)return{};var e=Kd(o),t=[e[0],e[1],e[2]].join(",");return{background:"linear-gradient(to bottom, "+["rgba("+t+", 0) 20%","rgba("+t+", 0.22) 46%","rgba("+t+", 0.5) 61%","rgba("+t+", 0.95) 76%"].join(",")+")"}},[o,r]),b=Object(p.useMemo)(function(){if(!r)return{};var e=Kd(o),t=[e[0],e[1],e[2]].join(",");return{background:"radial-gradient(57.98px at 100% 0%, "+["rgba("+t+", 0.5) 0%","rgba("+t+", 0) 100%"].join(",")+")"}},[o,r]),_=r?s:"#000",y=Object(p.useCallback)(function(e){e.stopPropagation(),e.preventDefault(),c()},[c]),E=Object(p.useCallback)(function(){u()},[u]);return f.a.createElement("div",{ref:m,className:vg(),style:v,onClick:E},f.a.createElement("div",{className:vg("close"),style:b},f.a.createElement("div",{className:vg("close-icon-wrapper"),onClick:y},f.a.createElement("svg",{width:"12",height:"12",viewBox:gv.viewBox},f.a.createElement("use",{style:{fill:_},xlinkHref:"#"+gv.id})))),f.a.createElement("div",{className:vg("fade-container"),style:g},t&&f.a.createElement("div",{className:vg("source-name"),style:{color:_}},t),f.a.createElement(xf,{className:vg("title"),style:{color:_},isIntersecting:Boolean(h)},n)))},bg=function(e){var t=e.parentId,n=e.id,r=e.sourceName,i=e.title,o=e.link,a=e.image,s=e.mainColor,c=e.textColor,u=e.statEvents,l=e.bulkParams,d=gs().zenApi,m=Object(p.useMemo)(Mi,[])({statEvents:u,bulkParams:l,zenApi:d}),h=$l({id:n,parentId:t,statEvents:u,bulkParams:l}).itemDislike,v=tf(function(){return rv(t,n)}),g=Object(p.useCallback)(function(){m.log("click"),window.open(o)},[m,o]),b=Object(p.useCallback)(function(){m.log("show")},[m]),_=Object(p.useCallback)(function(){h(),v()},[h,v]);return f.a.createElement(gg,{sourceName:r,title:i,image:a,mainColor:s,textColor:c,onClick:g,onClose:_,onShow:b})},_g=function(e){var t=e.id,n=oe(function(e){var n=Ur(e,t);if(n.type!==me.CONTENT_CAROUSEL)throw new Error("expected item type "+me.CONTENT_CAROUSEL+", but have '"+n.type+"'");var r=n.title,i=n.subtitle,o=n.items,a=n.bulkParams,s=n.statEvents;return{isMobile:e.context.isMobile,title:r,subtitle:i,items:o,bulkParams:a,statEvents:s}},F),r=n.isMobile,i=n.items,o=n.title,a=n.subtitle,s=n.statEvents,c=n.bulkParams,u=Object(p.useMemo)(Mi,[])({statEvents:s,bulkParams:c,zenApi:gs().zenApi}),l=Object(p.useCallback)(function(){u.log("show")},[u]);return f.a.createElement(hg,{title:o,subtitle:a,isMobile:Boolean(r),onShow:l},i.filter(function(e){return!e.hidden}).map(function(e){var n=e.title,r=e.image,i=e.id,o=e.cardColors,a=e.statEvents,s=e.bulkParams,c=e.source,u=e.link;return f.a.createElement(bg,{key:i,parentId:t,id:i,sourceName:c?c.title:void 0,title:n,link:u,image:r,mainColor:o.card,textColor:o.text,statEvents:a,bulkParams:s})}))};!function(e){e.Error="ERROR",e.Warning="WARNING",e.Log="LOG"}(Hh||(Hh={})),function(e){e.Runtime="RUNTIME",e.Longterm="LONGTERM",e.Ignore="IGNORE"}(Wh||(Wh={}));var yg={storageLevel:Wh.Ignore},Eg=function(e){var t=e.item,n=e.error;e.zenLogger.error({message:"Card failed to mount",details:{reason:n.message,itemId:t.id}},yg)},kg="undefined"==typeof document,Cg=[];kg||window.addEventListener("scroll",function e(){window.removeEventListener("scroll",e),!0,Cg.forEach(function(e){return e()})});var wg,Sg=1,xg=0,Og=function(){function e(e){var t=this,n=e.onPopState;this._onWindowPopState=function(){t._onPopState&&t._onPopState()},this.handleEnterFullScreen=function(){history.state&&history.state.hasOwnProperty("videoFullScreen")?history.replaceState({videoFullScreen:Sg},""):window.history.pushState({videoFullScreen:Sg},"")},this.handleExitFullScreen=function(){history.state&&history.state.videoFullScreen===Sg&&history.replaceState({videoFullScreen:xg},"")},this._onPopState=n,window.addEventListener("popstate",this._onWindowPopState)}return e.prototype.destroy=function(){window.removeEventListener("popstate",this._onWindowPopState)},e}(),Rg=function(e,t){0},Ig=Object(Vt.createSelector)(mr,function(e){return e.iface.isVideoAutoplayEnabled},yr,function(e,t,n){var r=e.isAutoplayExp;if(n)return{autoplay:!1};var i,o=Ho(),a="boolean"==typeof o;return"boolean"==typeof t?(i=Boolean(t),Rg()):r?Ng()?a?(i=Boolean(o),Rg()):(i=!0,Rg()):(i=!1,Rg()):a?(i=Boolean(o),Rg()):(i=!0,Rg()),{autoplay:i}}),Tg=["wifi","ethernet"],Ng=function(){var e="undefined"!=typeof navigator&&void 0!==navigator.connection&&navigator.connection.type;return e&&Tg.includes(e)},Ag=(n(267),Fc("resize-to-fullscreen")),Pg=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={rect:null,style:void 0,isFullScreenEntered:!1},n._containerRef=Object(p.createRef)(),n._orientationChanged=!1,n._onResize=function(){n._orientationChanged=!0},n._scrollToCard=function(){var e=n._containerRef.current;if(e){var t=Fo(e);jo.scrollTo({top:t,animate:!1})}},n._applyTransition=function(e){return Object.assign({},e,{transition:"all "+n._getAnimationTime()+"ms ease-out"})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){this._checkUpdate(),window.addEventListener("resize",this._onResize)},n.componentWillUnmount=function(){window.removeEventListener("resize",this._onResize)},n.componentDidUpdate=function(){this._checkUpdate()},n._checkUpdate=function(){var e=this.props,t=e.isFullScreen,n=e.setBodyScroll,r=this.state.isFullScreenEntered;t&&!r&&(n(!1),this._enterFullScreen()),!t&&r&&(n(!0),this._exitFullScreen())},n._enterFullScreen=function(){var e=this,t=this._containerRef.current;if(t){var n=t.getBoundingClientRect(),r={rect:n,style:{position:"fixed",top:n.top,left:n.left,width:n.width,height:n.height},isFullScreenEntered:!0},i={position:"fixed",top:0,left:0,bottom:0,right:0},o={style:this._applyTransition(i)};this._orientationChanged=!1,this.setState(r),Kl().then(function(){return e.setState(o)})}},n._exitFullScreen=function(){var e=this,t=this.state.rect;if(t){var n=t.top,r=t.left,i=t.width,o=t.height,a={rect:null,style:this._applyTransition({position:"fixed",top:n,left:r,width:i,height:o}),isFullScreenEntered:!1},s={rect:null,style:void 0,isFullScreenEntered:!1};this._orientationChanged?(this.setState(s),Kl().then(this._scrollToCard)):(this.setState(a),jn(this._getAnimationTime()).then(function(){return e.setState(s)}))}},n._getAnimationTime=function(){var e=this.props.animationTime;return"number"==typeof e?e:200},n.render=function(){var e=this.props.children,t=this.state.style;return f.a.createElement("div",{className:Ag(),ref:this._containerRef,style:t},e)},t}(p.PureComponent),Lg=X(null,{setBodyScroll:function(e){return{type:"SET_BODY_SCROLL",payload:e}}})(Pg),Mg=(n(268),n(269),Fc("spinner")),Dg=function(e){var t=e.size,n=void 0===t?50:t,r=e.background,i={width:.2*n,height:.2*n,background:void 0===r?"#fff":r},o=Object.assign({marginRight:.2*n},i);return f.a.createElement("div",{className:Mg()},f.a.createElement("div",{className:Mg("bounce",{bounce1:!0}),style:o}),f.a.createElement("div",{className:Mg("bounce",{bounce2:!0}),style:o}),f.a.createElement("div",{className:Mg("bounce",{bounce3:!0}),style:i}))},Bg=function(e){var t=e.className,n=e.style,r=e.source,i=e.logger,o=e.triggerEvent,a=e.isVisible,s=e.isMobile,c=ne(),u=Xc().l10n,l=Object(p.useMemo)(function(){return Pi({__pe__:o})(i)},[i,o]),d=Object(p.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),c(hl({source:r,logger:l}))},[r,l,c]);return sv({isVisible:a,onShow:function(){l.log("favourite_button_show")}}),f.a.createElement(Cl,{className:t,style:n,onClick:d,size:s?"l":"m",viewType:"border"},"subscribed"===r.status?u("desktop.unsubscribe"):u("desktop.subscribe"))},jg=(n(251),n(253),Fc("card-badges-view")),Fg=function(e){function t(){return e.apply(this,arguments)||this}Gt(t,e);var n=t.prototype;return n.renderBadge=function(){var e=this.props,t=e.promoLink,n=void 0===t?"":t,r=e.badges,i=e.read,o=void 0!==i&&i,a=e.color,s=r[0],c=s.type===We.PROMO;return c&&""!==n?f.a.createElement(_d,{href:n,target:"_blank",style:{color:a},className:jg({read:o,isPromo:c})},s.text):f.a.createElement("div",{className:jg({read:o}),style:{color:a}},s.text)},n.render=function(){var e=this.props.badges;return e&&e[0]?this.renderBadge():null},t}(p.PureComponent),Ug=X(function(e){return{promoLink:mr(e).rezenPromoBadgeLink}})(Fg),zg=Fc("card-header"),Vg=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._getColor=function(){var e=n.props,t=e.color,r=e.isDark;return t||(r?"#fff":"#000")},n._renderShadow=function(){var e=n.props,t=e.isTextCard,r=e.isDesktop,i=e.read;return e.dropShadow||t||!r&&i?null:f.a.createElement("div",{className:zg("shadow"),style:n._getBadgeFadeStyle()})},n._renderRocket=function(){var e=n.props,t=e.rocket,r=e.image,i=e.isDesktop;return!t||i?null:f.a.createElement("div",{className:zg("rocket")},f.a.createElement(Tf,{faint:!r,color:n._getColor()}),n._renderShadow())},n._renderMenu=function(){var e=n.props;e.id,e.dropShadow,e.buttonClassName;return e.shouldRenderMenu,null},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getBadgeFadeStyle=function(){var e=this.props,t=e.mainColor,n=e.cardColors,r=t||n&&n.card;if(!r)return{};var i=Kd(r).join(", ");return{boxShadow:"rgba("+i+", 0.4) 0px 0px 25px 5px, rgba("+i+", 0.4) 0px 0px 60px 30px, rgba("+i+", 0.6) 0px 0px 100px 30px"}},n._renderBadges=function(){var e=this.props,t=e.read,n=e.badges,r=e.isDesktop;return n&&0!==n.length?f.a.createElement("div",{className:zg("badge")},f.a.createElement(Ug,{badges:n,color:this._getColor(),read:t&&r}),this._renderShadow()):null},n.render=function(){var e=this.props,t=e.noAbsolute,n=e.className,r={absolute:!t};return f.a.createElement("div",{className:Fc.mix(zg(r),n)},this._renderRocket(),f.a.createElement("div",{className:zg("badge-holder")},this._renderBadges()),this._renderMenu())},t}(p.PureComponent),Hg=Fc("video-view"),Wg="#fff",Gg=eu(function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={player:{hidden:!1},loading:!1,playing:!1},n._loadingTimeout=null,n._setPlayerVisible=rd(function(){n.setState({player:{hidden:!1}})}),n._clearLoadingTimeout=function(){n._loadingTimeout&&(clearTimeout(n._loadingTimeout),n._loadingTimeout=null)},n._onToggleMuteClick=function(){var e=n.props,t=e.onToggleMuteClick;e.hasSound&&t()},n._getSoundTitle=function(){var e=n.props,t=e.muted,r=e.hasSound,i=e.l10n;return i(r?t?"mobile.video.unmute":"mobile.video.mute":"mobile.video.no_sound")},n._renderHeader=function(){var e=n.props,t=e.feedbackMittensProps,r=e.isNarrativeFeed,i=e.isNativeFeed,o=e.isChannelPage,a=e.isDesktop,s=e.isZenLib;return f.a.createElement("div",{className:Hg("header")},f.a.createElement(Vg,qt({dropShadow:!0},t,{color:Wg},n.props,{shouldRenderMenu:!(r||i||o||a||s)})))},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this,n=this.props,r=n.isFullScreen,i=n.resizeAnimationTime,o=e.isFullScreen,a=e.buffering,s={};r!==o&&(s.player={hidden:!0},jn(i+100).then(function(){Kl().then(t._setPlayerVisible)})),a?this._loadingTimeout||(this._loadingTimeout=setTimeout(function(){return t.setState({loading:!0})},500)):(this._clearLoadingTimeout(),s.loading=!1),this.setState(s)},n.componentWillUnmount=function(){this._setPlayerVisible.cancel(),this._clearLoadingTimeout()},n._renderPlayer=function(){var e=this.props,t=e.player,n=e.playerRef,r=this.state.player.hidden;return f.a.createElement("div",{className:Hg("player",{hidden:r}),ref:n},t)},n._renderContent=function(){var e=this.props,t=e.title,n=e.domainTitle,r=e.titleRef,i=e.onPreviewClick;return f.a.createElement("div",{className:Hg("content"),onClick:i,ref:r},this._renderPreviewImage(),f.a.createElement("div",{className:Hg("play-icon")}),f.a.createElement("div",{className:Hg("vignette-top")}),f.a.createElement("div",{className:Hg("vignette-bottom")}),f.a.createElement("div",{className:Hg("title-wrapper")},f.a.createElement(Lu,{className:Hg("title"),component:Fd},t)),f.a.createElement("div",{className:Hg("source")},f.a.createElement(Bd,null,f.a.createElement(Md,{textColor:Wg,name:n}))),this._renderSubscribeButton())},n._renderPreviewImage=function(){var e=this.props,t=e.image,n=e.isPreviewVisible,r=this.state.player,i=n&&!r.hidden,o={backgroundImage:"url("+t+")"};return f.a.createElement("div",{className:Hg("preview-image",{visible:i}),style:o})},n._renderMittens=function(){var e=this.props,t=e.feedbackMittensProps,n=e.isFullScreen,r=e.moveDislike,i=e.noDislike,o=Object.assign({},t,{color:Wg,onlyLike:!n&&(r||i)});return f.a.createElement("div",{className:Hg("mittens")},f.a.createElement(ed,o))},n._renderCloseButton=function(){var e=this.props,t=e.isFullScreen,n=e.onCloseFullScreenClick,r=e.moveDislike,i=e.noDislike,o=e.l10n;return t?r&&!i?f.a.createElement("div",{className:Hg("exit-full-screen-text-button"),onClick:n},o("feedback.complain_close")):f.a.createElement("div",{className:Hg("exit-full-screen-button"),onClick:n}):null},n._renderSubscribeButton=function(){var e=this.props,t=e.logger,n=e.feedbackSubscribeProps,r={borderColor:Wg,color:Wg,opacity:.7},i=Object.assign({},n,{logger:t,isVisible:this._hasSubscribeButton(),style:r,isMobile:!0,triggerEvent:"click"});return f.a.createElement("div",{className:Hg("subscribe-button")},f.a.createElement(Bg,i))},n._renderMuteButton=function(){var e=this.props,t=e.muted,n=e.hasSound,r=e.isFullScreen&&(t||!n),i=t||!n;return f.a.createElement("div",{className:Hg("mute-button")},f.a.createElement("div",{className:Hg("mute-button-icon",{muted:i}),onClick:this._onToggleMuteClick}),f.a.createElement("div",{className:Hg("mute-button-text")},f.a.createElement("div",{className:Hg("mute-button-text-wrapper",{visible:r}),onClick:this._onToggleMuteClick},this._getSoundTitle())))},n._renderSpinner=function(){var e=this.state.loading;return f.a.createElement("div",{className:Hg("spinner",{loading:e})},f.a.createElement(Dg,null))},n._hasSubscribeButton=function(){var e=this.props,t=e.isFullScreen;return e.feedbackSubscribeProps.hasSubscribeButton&&t},n.render=function(){var e=this.props,t=e.playing,n=e.isFullScreen,r=e.isPlayIconHidden,i=e.isPreviewClickable,o=e.areControlsHidden,a=this.state.player,s={isFullScreen:n,hasSubscribeButton:this._hasSubscribeButton(),isPreviewClickable:i,isPlayIconHidden:r,playing:t,contentHidden:a.hidden,areControlsHidden:o,isMobile:!0};return f.a.createElement("div",{className:Hg(s)},this._renderPlayer(),this._renderContent(),this._renderMittens(),this._renderMuteButton(),this._renderHeader(),this._renderCloseButton(),this._renderSpinner())},t}(p.PureComponent)),qg="play",Kg="pause",Yg=function(e){function t(t){var n;n=e.call(this,t)||this,Qg.call(qn(n)),n.state={muted:t.autoplay,paused:!1,playerStateId:null,isError:!1,isStartedOnce:!1,isFullScreen:!1,areControlsHidden:!1},n._player=null,n._playerContainer=null,n._isPlayerReady=!1,n._eventLoggersCache={},n._pauseTimeoutId=null,n._destroyTimeoutId=null,n._isReplay=!1,n._isAutopause=!1,n._latestUserAction=null,n._scrollEventName=null,n._hideControlsTimeout=null;var r=n.props,i=r.logger,o=r.video.heartbeatTimes;return n._heartbeatHandler=ld(o,function(e){i.log(du.heartbeat,{global:{_video_pos_:e}})}),n}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Mn("https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js").then(this._initPlayer),this._videoBrowserHistory=new Og({onPopState:function(){return e.setState({isFullScreen:!1})}}),this._scrollEventName=_o({},this._onScroll),this._hideControlsTimeout=setTimeout(this._hideControls,3e3),window.addEventListener("orientationchange",this._onOrientationChange)},n.componentWillReceiveProps=function(e){this._isFeedbackCard(e)&&this.setState({isFullScreen:!1})},n.componentDidUpdate=function(e,t){var n=e.isIntersecting,r=e.started,i=e.isVisible,o=this.props,a=o.isIntersecting,s=o.started,c=o.isVisible,u=o.autoplay,l=t.isFullScreen,d=this.state,p=d.isFullScreen,f=d.paused;if((r&&!s||i&&!c)&&this._autopause(),!i&&c){var m=f||!s,h=this._latestUserAction===Kg;u&&m&&!h&&this._autoplay()}!n&&a&&this._onTransitionToVisible(),n&&!a&&this._onTransitionToHidden(),!l&&p&&this._onEnterFullScreen(),l&&!p&&this._onExitFullScreen()},n.componentWillUnmount=function(){window.removeEventListener("orientationchange",this._onOrientationChange),clearTimeout(this._pauseTimeoutId),clearTimeout(this._destroyTimeoutId),clearTimeout(this._hideControlsTimeout),function(e){ro=uo(ro,function(t){return t.name!==e})}(this._scrollEventName),this._initPlayer.cancel(),this._onPlayerReady.cancel(),this._onPlayerStateChange.cancel(),this._onPlayerUserAction.cancel(),this._onPlayerError.cancel(),this._videoBrowserHistory&&this._videoBrowserHistory.destroy()},n._onTransitionToVisible=function(){this._clearDestroyTimeout(),this._player||Mn("https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js").then(this._initPlayer)},n._onTransitionToHidden=function(){this._clearDestroyTimeout(),this._setDestroyTimeout(2e3)},n._onEnterFullScreen=function(){this._setVideoStyle("contain"),this._videoBrowserHistory.handleEnterFullScreen()},n._onExitFullScreen=function(){var e=this,t=this.props,n=t.autoplay,r=t.resizeAnimationTime;this._videoBrowserHistory.handleExitFullScreen(),jn(r).then(function(){e._setVideoStyle("cover"),e._mute(),n||e._autopause()})},n._autopause=function(){this._player&&this._isPlayerReady&&(this._player.pause(),this._getEventLogger("autopause")())},n._setDestroyTimeout=function(e){this._clearDestroyTimeout(),this._destroyTimeoutId=setTimeout(this._destroyPlayer,e)},n._clearDestroyTimeout=function(){clearTimeout(this._destroyTimeoutId)},n._autoplay=function(){this.state.muted||this._mute(),this._player&&this._isPlayerReady&&(this._player.play(),this._getEventLogger("autoplay")())},n._autoplayOn=function(){(0,this.props.setVideoAutoplay)(!0),this._getEventLogger("autoplay_on")(),this._autoplay()},n._autoplayOff=function(){(0,this.props.setVideoAutoplay)(!1),this._getEventLogger("autoplay_off")(),this._autopause()},n._mute=function(){this.setState({muted:!0}),this._player&&this._player.setMuted(!0)},n._unmute=function(){this.setState({muted:!1}),this._player&&this._isPlayerReady&&this._player.setMuted(!1)},n._setVideoStyle=function(e){this._player&&this._player.setVideoStyle({objectFit:e})},n._getEventLogger=function(e){var t=this,n=this.props.logger,r=this._eventLoggersCache[e];if(r)return r;var i=function(){t._player&&n.log(e,{global:{_video_pos_:t._player.getCurrentTime()}})};return this._eventLoggersCache[e]=i,i},n._isPreviewVisible=function(){var e=this.state,t=e.playerStateId;return!e.isStartedOnce&&t!==cd.PLAYING},n._isPlayIconHidden=function(){var e=this.state,t=e.paused,n=e.playerStateId,r=e.isError;return n===cd.PLAYING&&!t||n===cd.BUFFERING||this._latestUserAction===qg||r},n.render=function(){var e=this.props,t=e.id,n=e.resizeAnimationTime,r=e.video,i=e.autoplay,o=e.title,a=e.domainTitle,s=e.image,c=e.logger,u=e.titleRef,l=e.feedbackMittensProps,d=e.feedbackSubscribeProps,p=e.feedLink,m=e.renderFeedback,h=this.state,v=h.muted,g=h.isFullScreen,b=h.playerStateId,_=h.isError,y=h.areControlsHidden,E=_||!this._isPlayerReady,k={id:t,title:o,domainTitle:a,image:s,logger:c,titleRef:u,feedbackMittensProps:l,feedbackSubscribeProps:d,muted:v,autoplay:i,isFullScreen:g,playerRef:this._setPlayerRef,playing:b===cd.PLAYING,buffering:b===cd.BUFFERING,hasSound:r.hasSound,isPreviewClickable:E,isPlayIconHidden:this._isPlayIconHidden(),areControlsHidden:y,isPreviewVisible:this._isPreviewVisible(),resizeAnimationTime:n,onPreviewClick:this._onPreviewClick,onCloseFullScreenClick:this._onCloseButtonClick,onToggleMuteClick:this._onToggleMuteClick,onToggleAutoplayClick:this._onToggleAutoplayClick,isDark:!0,feedLink:p};return f.a.createElement(Lg,{isFullScreen:g,animationTime:200},f.a.createElement(Gg,k),m?m():null)},t}(p.PureComponent),Qg=function(){var e=this;this._previousTime=0,this._initPlayer=rd(function(){var t=e.props,n=t.video,r=t.autoplay,i=t.shouldPreload;e._player||window.Ya.streamPlayer.init({version:"1.0-573",element:e._playerContainer,source:{streamUrl:n.id,loop:!1!==n.loop,additionalParams:n.additionalParams},muted:r,maxBufferLength:7,hidden:"*",size:{width:"100%",height:"100%"},preload:i,handlers:{onStateChange:e._onPlayerStateChange,onUserAction:e._onPlayerUserAction,onError:e._onPlayerError,onCurrentTimeChange:e._onCurrentTimeChange}}).then(function(t){e._player=t,e._onPlayerReady()})}),this._onPlayerReady=rd(function(){var t=e.props,n=t.autoplay,r=t.isIntersecting;e._isPlayerReady=!0,e._setVideoStyle("cover"),r&&(n||e._latestUserAction===qg)&&e._autoplay()}),this._onPlayerError=rd(function(){e._autopause(),e.setState({isError:!0})}),this._onPlayerUserAction=rd(function(t){if(t.name===ud.PLAY_BUTTON_CLICK){var n=(t.data||{}).state;switch(n){case qg:case Kg:e._latestUserAction=n}e.state.isFullScreen||e._onPreviewClick()}}),this._onPlayerStateChange=rd(function(t){var n=e.props,r=n.id,i=n.videoStart;switch(t){case cd.PLAYING:e._latestUserAction===qg&&(e._latestUserAction=null,e._getEventLogger("play")()),i(r),e.setState({paused:!1,isStartedOnce:!0,areControlsHidden:!0});break;case cd.PAUSED:if(!e._player)return;e._latestUserAction===Kg?(e._latestUserAction=null,e._getEventLogger("pause")(),e.setState({paused:!0,areControlsHidden:!1})):setTimeout(function(){return e.setState({paused:!0,areControlsHidden:!1})},0);break;case cd.BUFFERING:clearTimeout(e._pauseTimeoutId)}e.setState({playerStateId:t})}),this._hideControls=function(){var t=e.props.started;!e.state.paused&&t&&e.setState({areControlsHidden:!0})},this._showControls=function(){e.setState({areControlsHidden:!1})},this._resetTimeout=function(){clearTimeout(e._hideControlsTimeout),e._hideControlsTimeout=setTimeout(e._hideControls,3e3)},this._onScroll=function(){e.state.isFullScreen||(e._showControls(),e._resetTimeout())},this._isFeedbackCard=function(e){var t=e.feedbackProps,n=t.isEnabled,r=t.isNegativeFeedback;return n&&r},this._destroyPlayer=function(){e._player&&(e._player.destroy(),e._player=null),e.setState({isStartedOnce:!1,playerStateId:null}),e._isPlayerReady=!1},this._onPreviewClick=function(){var t=e.props,n=t.id,r=t.videoClick;e.state.isError?(e._destroyPlayer(),e._initPlayer(),e.setState({isError:!1})):(e._isPlayerReady||(e._latestUserAction=qg),Kl().then(function(){e.setState({isFullScreen:!0})})),r(n),e._getEventLogger("click")()},this._onCloseButtonClick=function(){e.setState({isFullScreen:!1,paused:!0}),e._player.pause()},this._onToggleMuteClick=function(){e.state.muted?(e._unmute(),e._getEventLogger("sound_on")()):(e._mute(),e._getEventLogger("sound_off")())},this._onToggleAutoplayClick=function(){e.props.autoplay?e._autoplayOff():e._autoplayOn()},this._onCurrentTimeChange=function(t,n,r){if(e._player){e._heartbeatHandler(r);var i=e.props.video.loop;t<e._previousTime&&(e._getEventLogger("replay")(),!1!==i&&e._getEventLogger("end")()),e._previousTime=t}},this._setPlayerRef=function(t){e._playerContainer=t}},Zg=X(function(e){return{autoplay:Ig(e).autoplay,shouldPreload:!yr(e),resizeAnimationTime:200}},{videoStart:function(e){return function(t,n){var r=n();t({type:"VIDEO_RESET",payload:{ids:Fr(r).itemsOrder.filter(function(t){var n=Ur(r,t);return n.type===me.GIF&&n.started&&t!==e})}}),t({type:"VIDEO_START",payload:{id:e}})}},videoClick:function(e,t){return void 0===t&&(t=0),{type:"VIDEO_READ",payload:{id:e,currentTime:t}}},setVideoAutoplay:Wo})(Yg),$g=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn(200);case 2:return e.abrupt("return",new Promise(function(e){if(Boolean(Bn)&&Kn())e();else{var t=function t(){n(),document.removeEventListener("scroll",t),document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),e()},n=Yn(function(e){e&&t()});document.addEventListener("scroll",t),document.addEventListener("mousemove",t),document.addEventListener("touchmove",t)}}));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Jg=(n(245),Fc("tooth-card")),Xg=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onResize=$i(n._updateClamp,Sf,qn(n)),n._titleClamp=void 0,n._textClamp=void 0,n._titleClampRef=function(e){return n._titleClamp=e},n._textClampRef=function(e){return n._textClamp=e},t||qn(n)}Gt(t,e);var n=t.prototype;return n._updateClamp=function(){var e=this;this._titleClamp&&this._titleClamp.clamp().then(function(){return e._textClamp&&e._textClamp.clamp()})},n.isWhiteTheme=function(){var e=this.props,t=e.view;return!e.image||"white"===t},n.getCardColors=function(){var e=this.props,t=e.view,n=e.cardColors,r=e.mainColor;if(this.isWhiteTheme()||"white-image"===t||"white-flat"===t)return{backgroundColor:"#ffffff",color:"#000000"};if(r){var i=Jd(r);return{backgroundColor:i.card,color:i.text}}return n?{backgroundColor:n.card,color:n.text}:{backgroundColor:"#ffffff",color:"#000000"}},n.getImageStyles=function(){return this.isWhiteTheme()?null:{backgroundImage:"url("+this.props.image+")"}},n.getFadeStyles=function(){var e=this.props.image,t=Kd(this.getCardColors().backgroundColor).join(),n=["rgba("+t+",1) 45%","rgba("+t+",0.8) 53%","rgba("+t+",0) 68%"],r=e?"rgba("+t+",0.4)":"#e8e2da";return this.isWhiteTheme()&&(r="#f0f0f0"),{fadeStyle:{background:"linear-gradient(to bottom, "+n.join()+")"},hoverStyle:{backgroundColor:r}}},n.componentDidMount=function(){var e=this;window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){return e._updateClamp()}):this._updateClamp()},n.componentDidUpdate=function(e){e.title===this.props.title&&e.text===this.props.text||this._updateClamp()},n.render=function(){var e=this.props,t=e.view,n=e.image,r=e.title,i=e.link,o=e.text,a=e.source,s=e.read,c=e.product,u=e.shouldHighlight,d=e.isIntersecting,p=e.onClick,m=e.onAuxClick,h=e.renderFeedback,v=e.containerRef,g=e.feedbackMittensProps,b=e.onDislike,_=e.isRtbFitted,y=e.isMobile,E=e.isDesktop,k=this.getFadeStyles(),C=k.fadeStyle,w=k.hoverStyle,S=this.getCardColors().backgroundColor,x=this.getImageStyles(),O={view:t,read:s,animation:u&&"highlight",hasImage:Boolean(n)&&!this.isWhiteTheme(),yabro:[l.YABRO,l.YABRO_MORDA].includes(c),isMobile:y,isDesktop:E},R=_?"_rtb-fitted":void 0,I=f.a.createElement(Lu,{className:Jg("title"),withAutoClamp:!1,ref:this._titleClampRef},r);return f.a.createElement("div",{className:Fc.mix(Jg(O),R),ref:v},f.a.createElement(wf,{isIntersecting:d,onResize:this._onResize}),f.a.createElement(_d,{className:Jg("link"),style:this.getCardColors(),href:i,target:"_blank",onClick:p,onAuxClick:m},x?f.a.createElement("div",{className:Jg("image"),style:x}):null,f.a.createElement("div",{className:Jg("text-fade"),style:C}),f.a.createElement("div",{className:Jg("hover-fade"),style:w}),f.a.createElement("div",{className:Jg("read-fade"),style:{backgroundColor:S}}),f.a.createElement("div",{className:Jg("filter-mask")}),"white-flat"!==t?f.a.createElement("div",{className:Jg("source")},a):null,f.a.createElement("div",{className:Jg("content")},I,o?f.a.createElement(Lu,{className:Jg("text"),withAutoClamp:!1,fitToSpace:!0,shouldResetLineCount:!0,ref:this._textClampRef},o):null),f.a.createElement("div",{className:Jg("source-controls-wrapper",{feedbackOnly:"white-flat"!==t})},"white-flat"!==t?null:f.a.createElement("div",{className:Jg("source")},f.a.createElement(Md,{className:Jg("source-title"),read:!1,textColor:"#fff",name:a})),f.a.createElement("div",{className:Jg("feedback")},f.a.createElement("div",{className:Jg("feedback-buttons")},f.a.createElement(ed,qt({},g,{theme:"tooth",color:"#fff",onDislike:b})))))),h())},t}(p.Component),eb=(n(254),n(255),n(256),"…".length),tb=function(e,t){if(!e||"string"!=typeof e||"number"!=typeof t||t<=0)return"";if(t<=eb||e.length<=eb)return"…";if(e.length<=t)return e;var n=e.substr(0,t);if(1==="…".length){var r=n.split("").reverse().join("").match(/[\s.,:;]/);if(r&&0===r.index)return n.slice(0,-1)+"…"}var i=n.slice(0,-"…".length),o=n.lastIndexOf(" ");return o>0?e.slice(0,o)+"…":i+"…"},nb=function(e){return e.split(/\s+/).reduce(function(e,t){return Math.max(t.length,e)},0)},rb={" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":26,'"':33,"%":74,"'":18,"(":36,")":36,"*":44,"+":57,",":20,"-":28,".":27,"/":42,":":25,";":22,"<":51,"=":55,">":53,"?":48,A:66,B:63,C:66,D:66,E:57,F:56,G:69,H:72,I:28,J:56,K:63,L:55,M:88,N:72,O:69,P:64,Q:69,R:62,S:60,T:61,U:65,V:65,W:90,X:64,Y:61,Z:61,"[":27,"]":28,_:46,a:55,b:57,c:53,d:57,e:53,f:36,g:57,h:56,i:25,j:24,k:51,l:25,m:88,n:56,o:58,p:57,q:57,r:37,s:52,t:35,u:56,v:49,w:76,x:50,y:48,z:50,"{":34,"}":35,"Ё":57,"А":66,"Б":64,"В":63,"Г":56,"Д":77,"Е":57,"Ж":92,"З":60,"И":72,"Й":72,"К":65,"Л":72,"М":88,"Н":72,"О":69,"П":72,"Р":64,"С":66,"Т":60,"У":63,"Ф":78,"Х":64,"Ц":74,"Ч":70,"Ш":95,"Щ":98,"Ъ":76,"Ы":88,"Ь":63,"Э":68,"Ю":90,"Я":64,"ё":53,"№":103},ib={"regular-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":29,'"':42,"%":67,"'":27,"(":42,")":37,"*":46,"+":57,",":30,"-":38,".":27,"/":46,":":27,";":29,"<":57,"=":57,">":57,"?":49,"[":48,"]":43,_:41,"{":50,"}":45,"№":111,"Ё":62,"А":71,"Б":64,"В":66,"Г":56,"Д":81,"Е":62,"Ж":97,"З":62,"И":78,"Й":78,"К":66,"Л":70,"М":89,"Н":74,"О":79,"П":72,"Р":63,"С":69,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":80,"Ч":70,"Ш":97,"Щ":104,"Ъ":77,"Ы":86,"Ь":65,"Э":69,"Ю":99,"Я":66,"ё":56,"а":54,"б":60,"в":56,"г":46,"д":64,"е":56,"ж":78,"з":52,"и":62,"й":62,"к":54,"л":57,"м":74,"н":59,"о":59,"п":58,"р":62,"с":52,"т":50,"у":55,"ф":73,"х":52,"ц":66,"ч":56,"ш":81,"щ":87,"ъ":61,"ы":71,"ь":52,"э":52,"ю":78,"я":55,A:71,B:66,C:69,D:73,E:61,F:59,G:77,H:74,I:28,J:39,K:65,L:58,M:89,N:76,O:79,P:62,Q:82,R:66,S:61,T:62,U:71,V:69,W:96,X:65,Y:64,Z:62,a:54,b:62,c:50,d:61,e:54,f:39,g:60,h:59,i:25,j:31,k:50,l:25,m:90,n:59,o:58,p:62,q:64,r:38,s:50,t:38,u:58,v:54,w:80,x:51,y:55,z:47},"bold-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":31,'"':44,"%":67,"'":26,"(":48,")":43,"*":48,"+":57,",":34,"-":38,".":31,"/":49,":":31,";":33,"<":57,"=":56,">":57,"?":49,"[":53,"]":47,_:43,"{":52,"}":47,"№":112,"Ё":62,"А":72,"Б":66,"В":67,"Г":55,"Д":84,"Е":62,"Ж":99,"З":61,"И":78,"Й":78,"К":69,"Л":71,"М":89,"Н":75,"О":80,"П":74,"Р":64,"С":68,"Т":63,"У":66,"Ф":84,"Х":66,"Ц":83,"Ч":72,"Ш":97,"Щ":107,"Ъ":79,"Ы":89,"Ь":66,"Э":69,"Ю":104,"Я":68,"ё":58,"а":56,"б":61,"в":56,"г":46,"д":69,"е":58,"ж":81,"з":51,"и":62,"й":62,"к":57,"л":59,"м":75,"н":60,"о":61,"п":60,"р":65,"с":53,"т":50,"у":57,"ф":77,"х":54,"ц":69,"ч":58,"ш":82,"щ":91,"ъ":64,"ы":75,"ь":54,"э":54,"ю":82,"я":56,A:73,B:68,C:67,D:75,E:61,F:59,G:77,H:75,I:30,J:43,K:68,L:57,M:89,N:75,O:80,P:64,Q:83,R:67,S:62,T:64,U:70,V:71,W:101,X:66,Y:63,Z:64,a:56,b:65,c:52,d:64,e:58,f:43,g:64,h:61,i:28,j:34,k:55,l:27,m:91,n:61,o:60,p:65,q:68,r:42,s:49,t:42,u:60,v:55,w:84,x:54,y:57,z:50},"medium-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":33,'"':43,"%":67,"'":26,"(":46,")":40,"*":47,"+":57,",":33,"-":38,".":29,"/":48,":":29,";":32,"<":57,"=":57,">":57,"?":49,"[":51,"]":45,_:42,"{":51,"}":46,"№":112,"Ё":62,"А":71,"Б":65,"В":67,"Г":56,"Д":82,"Е":62,"Ж":98,"З":62,"И":78,"Й":78,"К":67,"Л":70,"М":89,"Н":75,"О":79,"П":73,"Р":64,"С":68,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":82,"Ч":71,"Ш":97,"Щ":105,"Ъ":78,"Ы":88,"Ь":66,"Э":69,"Ю":102,"Я":67,"ё":57,"а":55,"б":61,"в":56,"г":45,"д":67,"е":57,"ж":80,"з":51,"и":62,"й":62,"к":55,"л":58,"м":75,"н":60,"о":60,"п":59,"р":64,"с":52,"т":50,"у":56,"ф":76,"х":53,"ц":67,"ч":57,"ш":82,"щ":89,"ъ":62,"ы":73,"ь":53,"э":53,"ю":80,"я":55,A:72,B:67,C:68,D:74,E:61,F:59,G:77,H:75,I:29,J:41,K:66,L:58,M:89,N:76,O:79,P:63,Q:83,R:66,S:62,T:63,U:70,V:70,W:98,X:66,Y:64,Z:63,a:55,b:64,c:51,d:63,e:56,f:41,g:63,h:60,i:26,j:33,k:53,l:26,m:91,n:60,o:59,p:64,q:66,r:40,s:50,t:40,u:59,v:54,w:82,x:53,y:56,z:49},"logotype-ysans":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":33,'"':39,"%":66,"'":24,"(":41,")":35,"*":44,"+":56,",":29,"-":38,".":25,"/":44,":":25,";":28,"<":56,"=":56,">":56,"?":49,"[":45,"]":40,_:39,"{":48,"}":42,"№":110,"Ё":61,"А":69,"Б":62,"В":65,"Г":55,"Д":80,"Е":61,"Ж":95,"З":61,"И":76,"Й":76,"К":64,"Л":68,"М":88,"Н":74,"О":79,"П":72,"Р":61,"С":68,"Т":61,"У":65,"Ф":82,"Х":64,"Ц":80,"Ч":68,"Ш":96,"Щ":104,"Ъ":75,"Ы":83,"Ь":63,"Э":69,"Ю":98,"Я":65,"ё":55,"а":54,"б":60,"в":54,"г":45,"д":64,"е":55,"ж":76,"з":50,"и":60,"й":60,"к":51,"л":56,"м":73,"н":58,"о":59,"п":57,"р":62,"с":52,"т":49,"у":53,"ф":72,"х":50,"ц":66,"ч":55,"ш":79,"щ":87,"ъ":59,"ы":68,"ь":50,"э":52,"ю":78,"я":52,A:69,B:65,C:68,D:72,E:60,F:59,G:77,H:74,I:26,J:38,K:64,L:58,M:88,N:75,O:79,P:61,Q:83,R:65,S:59,T:61,U:71,V:68,W:99,X:64,Y:63,Z:63,a:54,b:62,c:51,d:61,e:54,f:37,g:62,h:59,i:23,j:30,k:49,l:23,m:90,n:59,o:58,p:62,q:65,r:36,s:49,t:37,u:58,v:53,w:78,x:49,y:53,z:47},"sans-serif":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":28,'"':36,"%":89,"'":20,"(":34,")":34,"*":39,"+":59,",":28,"-":34,".":28,"/":28,":":28,";":28,"<":59,"=":59,">":59,"?":56,"[":28,"]":28,_:56,"{":34,"}":34,"№":108,"Ё":67,"А":70,"Б":66,"В":67,"Г":55,"Д":71,"Е":67,"Ж":95,"З":61,"И":72,"Й":72,"К":59,"Л":68,"М":84,"Н":73,"О":78,"П":72,"Р":67,"С":74,"Т":63,"У":66,"Ф":77,"Х":67,"Ц":76,"Ч":67,"Ш":92,"Щ":96,"Ъ":82,"Ы":89,"Ь":66,"Э":73,"Ю":102,"Я":73,"ё":56,"а":58,"б":59,"в":54,"г":37,"д":59,"е":57,"ж":70,"з":49,"и":56,"й":56,"к":46,"л":59,"м":70,"н":56,"о":57,"п":55,"р":56,"с":51,"т":49,"у":52,"ф":83,"х":50,"ц":58,"ч":53,"ш":81,"щ":83,"ъ":65,"ы":72,"ь":53,"э":53,"ю":75,"я":55,A:67,B:67,C:73,D:73,E:67,F:62,G:78,H:73,I:28,J:50,K:67,L:56,M:84,N:73,O:78,P:67,Q:78,R:73,S:67,T:62,U:73,V:67,W:95,X:67,Y:67,Z:62,a:56,b:56,c:50,d:56,e:56,f:28,g:56,h:56,i:23,j:23,k:50,l:23,m:84,n:56,o:56,p:56,q:56,r:34,s:50,t:28,u:56,v:50,w:73,x:50,y:50,z:50},roboto:rb,Roboto:rb},ob=function(e,t){var n=t.fontSize,r=t.fontFamily,i=t.letterSpacing,o=void 0===i?0:i;return e.split("").reduce(function(e,t){return e+function(e,t,n){void 0===t&&(t=14),void 0===n&&(n="sans-serif");var r=ib[n]||ib["sans-serif"];return(r[e]||r["№"])/100*t}(t,n,r)},0)+o*(e.length-1)},ab=function(e,t){return(!e.threshold||e.threshold>=t.length)&&(!e.wordThreshold||e.wordThreshold>=t.longestWordLength)},sb=function(e,t,n,r){var i=n.fontSize,o=n.fontFamily,a=n.letterSpacing;return ob(e,{fontSize:i,fontFamily:o,letterSpacing:a})<t*r},cb=function(e,t,n){var r=t.maxLength,i=t.maxBigWordLength,o=t.sizes,a=tb(e,r),s={length:a.length,maxWordLength:nb(a)};return ub(s,o.big,n)&&s.maxWordLength<=i?o.big.style:ub(s,o.medium,n)?o.medium.style:!o.xsmall||ub(s,o.small,n)?o.small.style:o.xsmall.style},ub=function(e,t,n){var r=e.length,i=e.maxWordLength,o=n?n.offsetWidth/340:1;return r<=t.threshold*o&&!(t.wordThreshold&&i>t.wordThreshold)},lb=n(48),db=n(106),pb=n(107),fb=n(159),mb=(n(258),Fc("card-hover")),hb=function(e){var t=e.feedback,n=e.color;return e.isMobile?null:f.a.createElement("div",{className:mb({feedback:t||void 0}),style:{backgroundColor:n}})},vb=(n(262),n(264),Fc("card-title")),gb={big:{style:"1",threshold:25},medium:{style:"2",threshold:50},small:{style:"3",threshold:0}},bb={big:{style:"1",threshold:30},medium:{style:"2",threshold:45},small:{style:"3",threshold:0}},_b=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._composeContainerRefs=bu(),n.state=n._calcCurrentState(n.props.title),n._containerRef=function(e){return n._containerElem=e},n._clampRef=function(e){return n._clamp=e},t||qn(n)}Gt(t,e);var n=t.prototype;return n._calcCurrentState=function(e){var t=this.props.isDesktop;return{title:tb(e,120),fontSize:cb(e,{maxLength:120,maxBigWordLength:nb(e),sizes:t?bb:gb},this._containerElem||void 0)}},n._updateState=function(){var e=this;return new Promise(function(t){e.setState(e._calcCurrentState(e.props.title),t)})},n.updateStylesAndClamp=function(){var e=this;return this._updateState().then(function(){return e._clamp&&e._clamp.clamp()})},n.render=function(){var e=this.state,t=e.title,n=e.fontSize,r=this.props,i=r.isDesktop,o=r.isMobile,a=r.isLetterSpacingExp,s=r.titleRef;return f.a.createElement(Lu,{className:vb({isDesktop:i,isMobile:o,isLetterSpacingExp:a,fontSize:n}),domRef:this._composeContainerRefs(this._containerRef,s),ref:this._clampRef,withAutoClamp:!1,component:Fd},t)},t}(p.PureComponent),yb=(n(263),Fc("card-comment-view")),Eb=function(e){var t=e.children,n=e.maxLines,r=e.onTextRender,i=Object(p.useRef)(null),o=Object(p.useState)(),a=o[0],s=o[1];Object(p.useLayoutEffect)(function(){if(i.current){var e=Iu({containerElem:i.current,textElem:i.current});s(e)}},[t,n]);var c=Object(p.useMemo)(function(){if(a){var e=a.textElem,t=a.lines;if(!e.textContent)return null;var r=(t.slice(0,n).pop()||[]).slice(-1).pop();if(!r)return null;var i=r.valueEndIndex,o=e.textContent.slice(0,i),s=e.textContent.slice(i).length>0;return f.a.createElement("div",{className:yb("text",{ellipsis:s})},o)}return null},[a,n]);return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{ref:i,style:{height:1,marginTop:-1,visibility:"hidden"}},t),c&&f.a.createElement("span",{ref:r},c))},kb=function(e){var t=e.isDark,n=e.cardColor,r=e.commentCounterRef,i=Object(p.useMemo)(function(){if(!t)return"rgba(255,255,255,0.9)";var e=Yd.apply(void 0,Kd(n)),r=e[0],i=e[1],o=e[2],a=10;return o<=.1&&(a=20),"hsl("+Math.round(360*r)+", "+Math.min(Math.round(100*i)+6,100)+"%, "+Math.min(Math.round(100*o)+a,100)+"%)"},[t,n]),o=Object(p.useRef)(null),a=Object(p.useState)(0),s=a[0],c=a[1],u=Object(p.useState)([0,0]),l=u[0],d=u[1];Object(p.useLayoutEffect)(function(){if(r.current){var e=r.current;c(e.offsetLeft+e.offsetWidth/2)}if(o.current){var t=o.current;d([t.offsetWidth,t.offsetHeight])}},[r]);var m=l[0],h=l[1],v=48;return f.a.createElement("div",{className:yb("background"),ref:o},f.a.createElement("svg",{width:m,height:h,viewBox:"0 0 "+m+" "+h,enableBackground:"new 0 0 "+m+" "+h},f.a.createElement("path",{fill:i,stroke:"none",d:"\n                        M 0,48\n                        C 0,0 0,0 48,0\n                        L "+(m-v)+",0\n                        C "+m+",0 "+m+",0 "+m+","+v+"\n                        L "+m+","+(h-v)+"\n                        C "+m+","+h+" "+m+","+h+" "+(m-v)+","+h+"\n                        L "+v+","+h+"\n                        C 0,"+h+" 0,"+h+" 0,"+(h-v)+"\n                    "})),f.a.createElement("svg",{className:yb("tail"),viewBox:"0 0 13 9",fill:i,style:{left:s}},f.a.createElement("path",{d:"M13 9V0L0 9H13Z"})))},Cb=ou(Pd),wb=ou(function(e){var t=e.rootRef,n=e.commentId,r=e.text,i=e.authorName,o=e.authorAvatar,a=e.oneCommentLink,s=e.isVisible,c=e.logger,u=e.loggerParams,l=e.setCommentState,d=e.onClick,m=e.isDark,h=e.cardColor,v=e.commentCounterRef,g=a.replace("__comment_id__",n),b=Object(p.useCallback)(function(){c.log("show_comments_in_feed",u)},[c]),_=Object(p.useCallback)(function(e){e.nativeEvent.isCommentClick=!0},[]);Object(p.useEffect)(function(){l({mounted:!0})},[l]);var y=Object(p.useState)(!1),E=y[0],k=y[1],C=Object(p.useCallback)(function(){k(!0)},[]);return f.a.createElement(f.a.Fragment,null,E&&f.a.createElement(kb,{isDark:m,cardColor:h,commentCounterRef:v}),f.a.createElement(Qn,{isVisible:s,onShow:b},f.a.createElement("div",{className:yb({isDark:m}),onClick:d,ref:t},f.a.createElement("div",{className:yb("head")},f.a.createElement("div",{className:yb("avatar"),style:{backgroundImage:"url("+o+")"}}),f.a.createElement("div",{className:yb("author")},i),f.a.createElement("i",{className:yb("spacer")})),f.a.createElement("div",{className:yb("text-wrap")},f.a.createElement(Eb,{maxLines:2,onTextRender:C},r)),f.a.createElement(_d,{href:g,className:yb("link"),onClick:_}))))}),Sb=Fc("card-content"),xb=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.commentCounterRef=Object(p.createRef)(),t||qn(n)}Gt(t,e);var n=t.prototype;return n._renderTextContent=function(){var e=this.props,t=e.titleRef,n=e.textContentRef,r=e.docTitleRef,i=e.textClampRef,o=e.isDesktop,a=e.isMobile,s=e.title,c=e.text,u=e.shouldRenderText,l=e.renderType,d=e.isLetterSpacingExp;return f.a.createElement("div",{className:Sb("text-content"),ref:n},f.a.createElement(_b,{title:s,titleRef:t,ref:r,isDesktop:o,isMobile:a,isLetterSpacingExp:d}),u?f.a.createElement(Lu,{className:Sb("text"),withAutoClamp:!1,fitToSpace:l===bt.Blur,ref:i,shouldResetLineCount:!0},c):null)},n._renderSourceName=function(){var e=this.props,t=e.domainTitle,n=e.textColor;return f.a.createElement("div",{className:Sb("source-name")},f.a.createElement(Md,{textColor:n,name:t}))},n._renderMittens=function(){var e=this.props,t=e.feedbackMittensProps,n=e.onDislike,r=e.textColor;if(!t.isEnabled)return null;var i=Object.assign({},t,{color:r,onDislike:n});return f.a.createElement("div",{className:Sb("mittens")},f.a.createElement(ed,i))},n._renderSubscribeButton=function(){var e=this.props,t=e.feedbackSubscribeProps,n=e.logger,r=e.isMobile,i=e.textColor,o=t.hasSubscribeButton,a=t.triggerEvent,s=t.source,c={borderColor:i,color:i,opacity:.7};return f.a.createElement("div",{className:Sb("subscribe-button")},f.a.createElement(Bg,{source:s,triggerEvent:a,style:c,isVisible:o,isMobile:r,logger:n}))},n._renderCommentsCounter=function(){var e=this.props,t=e.commentsInfo,n=e.allCommentsLink,r=e.logger,i=e.isMobile,o=e.feedbackMittensProps,a=e.isDesktop,s=e.onClick,c=e.textColor,u=e.cardColor,l=e.isLowResolutionDevice,d=e.shouldRenderComment;return f.a.createElement(Cb,{textColor:u,balloonColor:c,link:n,count:t&&t.count,logger:r,isMobile:i,isDesktop:a,feedbackMittensIsDisabled:!o.isEnabled,onClick:s,isLowResolutionDevice:l,isHot:d,elemRef:this.commentCounterRef})},n._renderCommentsCounterForPerformanceExp=function(){var e=this.props,t=e.isPerformanceExp,n=e.commentsInfo,r=e.allCommentsLink,i=e.logger,o=e.isMobile,a=e.feedbackMittensProps,s=e.isDesktop,c=e.onClick,u=e.textColor,l=e.cardColor,d=e.isLowResolutionDevice;return t?f.a.createElement("div",{style:{display:"none"}},f.a.createElement(Pd,{textColor:l,balloonColor:u,link:r,count:n&&n.count,logger:i,isMobile:o,isDesktop:s,isVisible:!1,feedbackMittensIsDisabled:!a.isEnabled,onClick:c,isLowResolutionDevice:d,isHot:!1})):null},n._renderControls=function(){return f.a.createElement("div",{className:Sb("footer")},f.a.createElement("div",{className:Sb("source")},this._renderSourceName(),this._renderSubscribeButton()),f.a.createElement("div",{className:Sb("controls")},this._renderCommentsCounter(),this._renderCommentsCounterForPerformanceExp(),this._renderMittens()))},n._renderComment=function(){var e=this.props,t=e.shouldRenderComment,n=e.commentsInfo,r=e.oneCommentLink,i=e.logger,o=e.loggerParams,a=e.setCommentState,s=e.onClick,c=e.isDark,u=e.cardColor;if(!t||!n||!n.text)return null;var l=n.id,d=n.text,p=n.authorName,m=n.authorAvatar;return f.a.createElement("div",{className:Sb("comment")},f.a.createElement(wb,{commentId:l,text:d,authorName:p,authorAvatar:m,oneCommentLink:r,logger:i,loggerParams:o,onClick:s,setCommentState:a,isDark:c,cardColor:u,commentCounterRef:this.commentCounterRef}))},n.render=function(){var e=this.props,t=e.feedbackSubscribeProps,n=e.isDesktop,r=e.isMobile,i=e.isRtbFitted,o=e.size,a=e.renderType,s=e.hasUncollapsableControls,c=e.shouldRenderComment,u=t.hasSubscribeButton,l=Sb({hasSubscribeButton:u,renderType:a,isDesktop:n,isMobile:r,isRtbFitted:i,size:o,collapseHeader:s,hasComment:c});return f.a.createElement("div",{className:l},this._renderTextContent(),this._renderControls(),this._renderComment())},t}(p.PureComponent);n(257);!function(e){e.LINEAR="linear",e.SOLID="solid"}(wg||(wg={}));var Ob,Rb,Ib,Tb=Fc("card-read-fade"),Nb=function(e){var t=e.type,n=void 0===t?wg.LINEAR:t,r=e.color,i=e.shown,o=e.isMobile,a=e.boundaries,s=void 0===a?[0,50,70,100]:a,c=e.opacities,u=void 0===c?[1,1,.7,.5]:c;return f.a.createElement("div",{className:Tb({type:n,shown:i,isMobile:o}),style:n===wg.SOLID?{backgroundColor:"rgb("+r+")"}:{backgroundImage:"linear-gradient(\n                    to top,\n                    rgba("+r+","+u[0]+") "+s[0]+"%,\n                    rgba("+r+","+u[1]+") "+s[1]+"%,\n                    rgba("+r+","+u[2]+") "+s[2]+"%,\n                    rgba("+r+","+u[3]+") "+s[3]+"%\n                )"}})},Ab=(n(259),Fc("fade-image")),Pb=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._getImageUrl=function(){var e=n.props,t=e.image;return e.imageSquared||t},n._renderBlurredPreviewViewElem=function(){var e="data:image/png;base64,"+(n.props.blurredPreview||"");return f.a.createElement("div",{className:Ab("preview"),style:{backgroundImage:"url("+e+")"}})},n._renderImageElem=function(e){var t={backgroundImage:"url("+n._getImageUrl()+")"};return f.a.createElement("div",{className:Ab("image",{isLoaded:e}),style:t})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.getImageGradient=function(){var e=this.props,t=e.isDesktop;return jr(e.color,ri(t))},n.render=function(){var e=this.props,t=e.isDesktop,n=e.size,r={backgroundImage:this.getImageGradient(),height:""},i=this._getImageUrl();return f.a.createElement("div",{className:Ab({size:n,isDesktop:t})},f.a.createElement(fm,{imageUrl:i,renderImage:this._renderImageElem,renderPlaceholder:this._renderBlurredPreviewViewElem}),f.a.createElement("div",{className:Ab("image-fade"),style:r}))},t}(p.PureComponent),Lb=Fc("card-image-view"),Mb=["title","text"],Db=["hasComment"],Bb="regular-ysans",jb={MOBILE:Math.min(lb.c,360-2*lb.d)-2*pb.b,DESKTOP:fb.a-2*pb.a},Fb=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={lineCountThreshold:2,isSmallText:!1,renderType:bt.Blur,shouldRenderText:!1,shouldRenderComment:!1},n._textContent=void 0,n._docTitle=void 0,n._textClamp=void 0,n._onResize=$i(function(){n._updateClamp(),n._updateCardLinesCount()},Sf),n._textContentRef=function(e){return n._textContent=e},n._docTitleRef=function(e){return n._docTitle=e},n._textClampRef=function(e){return n._textClamp=e},n._updateCardLinesCount=function(){var e=n.props,t=e.isDesktop,r=e.isIntersecting,i=e.isObserving,o=n.state,a=o.isSmallText,s=o.renderType;if(!t&&i&&!r&&n._textContent){var c=n._textContent.clientWidth,u=getComputedStyle&&getComputedStyle(n._textContent),l=u&&u.fontFamily&&u.fontFamily.split(", ")[0]||Bb,d=!n.props.text||sb(n.props.text,c,{fontSize:db.a,fontFamily:l},n.state.lineCountThreshold),p=n._getRenderType();d!==a&&p!==s&&n.setState({isSmallText:d,renderType:p})}},n._renderReadFade=function(){var e=n.props.read,t=n.props.feedbackSubscribeProps.hasSubscribeButton,r=n._getColors().cardColorRgb,i=n.state.renderType===bt.Blur&&n.props.size===he.BIG?wg.SOLID:wg.LINEAR;return f.a.createElement(Nb,{type:i,color:r,shown:e||t})},n._renderHoverMask=function(){var e=n.props,t=e.feedback,r=e.isMobile,i=e.feedbackProps,o=n._getColors().hoverColor;return f.a.createElement(hb,{color:o,feedback:i.isEnabled?t:null,isMobile:r})},n._renderClickable=function(){var e=n.props,t=e.onClick,r=e.onAuxClick,i=e.link;return f.a.createElement(_d,{className:Lb("clickable"),onClick:t,onAuxClick:r,href:i})},n.state.lineCountThreshold=t.isMobile?3:2,n.state.isSmallText=!n.props.text||sb(n.props.text,t.isMobile?jb.MOBILE:jb.DESKTOP,{fontSize:db.a,fontFamily:Bb},n.state.lineCountThreshold),n.state.renderType=n._getRenderType(),n}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){e._updateClamp(),e._updateComment(),e._updateCardLinesCount()}):(this._updateClamp(),this._updateComment(),this._updateCardLinesCount())},n.componentDidUpdate=function(e,t){var n=this;(Mb.some(function(t){return e[t]!==n.props[t]})||this.state.isSmallText!==t.isSmallText)&&this._updateClamp(),Db.some(function(t){return e[t]!==n.props[t]})&&this._updateComment(),this._updateCardLinesCount()},n._getColors=function(){var e=this.props,t=e.cardColors,n=e.read,r=e.mainColor;if(r){var i=Jd(r),o=i.text,a=i.card;return{hoverColor:i.isDarkImage?"#000000":"#FFFFFF",textColor:o,cardColor:a,cardColorRgb:Kd(a).join()}}var s=t?t.card:"#FFFFFF",c=Kd(s).join(),u=!n&&t?t.text:"#000000";return{hoverColor:Jd(s).isDarkImage?"#000000":"#FFFFFF",textColor:u,cardColor:s,cardColorRgb:c}},n._updateClamp=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.shouldRenderTextOrComment||!this._docTitle){e.next=4;break}return e.next=4,this._docTitle.updateStylesAndClamp();case 4:if(!this._textClamp){e.next=7;break}return e.next=7,this._textClamp.clamp();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n._updateComment=function(){var e=this,t=this.props,n=t.isIntersecting,r=t.shouldRenderTextOrComment,i=t.hasComment,o=r&&i&&!n,a=r&&!o;this.setState({shouldRenderText:a,shouldRenderComment:o},function(){e.setState({renderType:e._getRenderType()})})},n._getRenderType=function(){var e=this.props,t=e.text,n=e.size,r=e.shouldRenderTextOrComment,i=this.state,o=i.shouldRenderComment,a=i.isSmallText;return n===he.BIG?bt.Blur:r?!t||t&&a||o?bt.Fade:bt.Blur:bt.Fade},n._renderImage=function(){switch(this.state.renderType){case bt.Fade:return this._renderFadeImage();case bt.Blur:return this._renderBlurImage()}},n._renderFadeImage=function(){var e=this.props,t=e.image,n=e.imageSquared,r=e.blurredPreview,i=e.isDesktop,o=e.size,a=this._getColors().cardColorRgb;return f.a.createElement(Pb,{image:t,imageSquared:n,blurredPreview:r,color:a,isDesktop:i,size:o})},n._renderBlurImage=function(){var e=this.props,t=e.image,n=e.theme,r=e.bigImage,i=e.size,o=e.blurredPreview,a=e.cardBackgroundImage,s=e.cardBackgroundWhiteImage,c=e.read,u=e.isDesktop,l=this._getColors().cardColor;return f.a.createElement(vm,{theme:n,image:t,bigImage:r,size:i,blurredPreview:o,cardBackgroundImage:a,cardBackgroundWhiteImage:s,isRead:c,isBlurred:c,color:l,aspectRatioMode:u?"normal":"tall"})},n.render=function(){var e=this.props,t=e.id,n=e.title,r=e.titleRef,i=e.isIntersecting,o=e.size,a=e.renderFeedback,s=e.isMobile,c=e.isDesktop,u=e.dropShadow,l=e.buttonClassName,d=e.read,p=e.badges,m=e.rocket,h=e.image,v=e.mainColor,g=e.cardColors,b=e.color,_=e.isDark,y=e.feedbackSubscribeProps,E=e.commentsInfo,k=e.allCommentsLink,C=e.oneCommentLink,w=e.isRtbFitted,S=e.text,x=e.logger,O=e.loggerParams,R=e.domainTitle,I=e.feedbackMittensProps,T=e.onDislike,N=e.onClick,A=e.withShadows,P=e.isPerformanceExp,L=e.isLetterSpacingExp,M=e.hasUncollapsableControls,D=e.shouldRenderMenu,B=e.isLowResolutionDevice,j=e.setCommentState,F=this.state,U=F.shouldRenderText,z=F.shouldRenderComment,V=F.renderType,H=this._getColors(),W=H.textColor,G=H.cardColor,q={color:W,backgroundColor:G};return f.a.createElement("div",{className:Lb({renderType:V,size:o,isMobile:s,isDesktop:c,withShadows:A}),style:q},f.a.createElement(wf,{isIntersecting:i,onResize:this._onResize}),this._renderImage(),this._renderReadFade(),f.a.createElement(Wp,null),this._renderHoverMask(),this._renderClickable(),f.a.createElement(Vg,{id:t,isDark:_,shouldRenderMenu:D,isDesktop:c,read:d,image:h,mainColor:v,cardColors:g,badges:p,dropShadow:u,rocket:m,color:b,className:Lb("header"),buttonClassName:l}),f.a.createElement(xb,{isLetterSpacingExp:L,title:n,domainTitle:R,feedbackSubscribeProps:y,isPerformanceExp:P,hasUncollapsableControls:M,size:o,logger:x,loggerParams:O,renderType:V,isRtbFitted:w,isDesktop:c,isMobile:s,commentsInfo:E,allCommentsLink:k,oneCommentLink:C,cardColor:G,isDark:_,shouldRenderText:U,shouldRenderComment:z,textColor:W,onDislike:T,onClick:N,textClampRef:this._textClampRef,textContentRef:this._textContentRef,titleRef:r,docTitleRef:this._docTitleRef,text:S,feedbackMittensProps:I,isLowResolutionDevice:B,setCommentState:j}),a())},t}(p.Component),Ub=(n(266),ou(Pd)),zb=["title","text"],Vb=["read","feedback"],Hb=Fc("card-text-view"),Wb=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onResize=$i(n._updateClamp,Sf,qn(n)),n._textClamp=void 0,n._textClampRef=function(e){return n._textClamp=e},n._renderHeader=function(){var e=n.props,t=e.shouldRenderMenu,r=e.id,i=e.isDark,o=e.isDesktop,a=e.read,s=e.image,c=e.mainColor,u=e.cardColors,l=e.badges,d=e.dropShadow,p=e.rocket,m=e.buttonClassName,h=e.color;return f.a.createElement(Vg,{id:r,isDark:i,isDesktop:o,read:a,image:s,mainColor:c,cardColors:u,badges:l,dropShadow:d,rocket:p,color:h,buttonClassName:m,isTextCard:!0,className:Hb("header"),shouldRenderMenu:t})},n._renderClickable=function(){var e=n.props,t=e.onClick,r=e.onAuxClick,i=e.link;return f.a.createElement(_d,{className:Hb("clickable"),onClick:t,onAuxClick:r,href:i})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){return e._updateClamp()}):this._updateClamp()},n.componentDidUpdate=function(e){var t=this;this._hasPropsChanged(e,zb)&&this._updateClamp(),this._hasPropsChanged(e,Vb)&&jn(150).then(function(){return t._updateClamp()})},n._hasPropsChanged=function(e,t){var n=this;return t.some(function(t){return e[t]!==n.props[t]})},n._updateClamp=function(){this._textClamp&&this._textClamp.clamp()},n._renderMittens=function(){var e=this.props,t=e.onDislike,n=e.feedbackMittensProps;if(!n.isEnabled)return null;var r=Object.assign({},n,{color:"#000",onDislike:t});return f.a.createElement("div",{className:Hb("mittens")},f.a.createElement(ed,r))},n._renderSourceName=function(){var e=this.props,t=e.domainTitle,n=e.type,r=e.commentsCount,i=Hb("source-name",{withCounter:void 0!==r&&r>=0&&me.DOC===n});return f.a.createElement("div",{className:i},f.a.createElement(Md,{name:t,textColor:"#000"}))},n._renderSubscribeButton=function(){var e=this.props,t=e.feedbackSubscribeProps,n=e.logger,r=e.isMobile,i=t.hasSubscribeButton,o={borderColor:"#000",color:"#000",opacity:.7};return f.a.createElement("div",{className:Hb("subscribe-button")},i?f.a.createElement(Bg,qt({},t,{style:o,logger:n,isMobile:r,isVisible:!0})):null)},n._renderCommentsCounter=function(){var e=this.props,t=e.commentsCount,n=e.allCommentsLink,r=e.logger,i=e.isMobile,o=e.isDesktop,a=e.type,s=e.onClick,c=e.feedbackMittensProps,u=e.isLowResolutionDevice;return me.DOC!==a?null:f.a.createElement(Ub,{balloonColor:"#000",isAbsolute:!0,feedbackMittensIsDisabled:!c.isEnabled,link:n,count:t,logger:r,isMobile:i,isDesktop:o,onClick:s,isLowResolutionDevice:u})},n._renderReadFade=function(){var e=this.props,t=e.feedbackSubscribeProps,n=e.isMobile,r=e.isDesktop,i=t.hasSubscribeButton;return f.a.createElement(f.a.Fragment,null,f.a.createElement(Nb,{color:"242, 242, 242",isMobile:n,shown:i,boundaries:[0,20,45,100],opacities:[1,.8,.5,.3]}),r?f.a.createElement(Nb,{color:"206, 187, 161",shown:!1,isMobile:!1,boundaries:[0,20,45,100],opacities:[.4,.4,.3,.3]}):null)},n.render=function(){var e=this.props,t=e.title,n=e.text,r=e.read,i=e.isIntersecting,o=e.isPromoted,a=e.isPromoPublication,s=e.titleRef,c=e.feedbackSubscribeProps,u=e.isMobile,l=e.isDesktop,d=e.feedback,p=e.feedbackProps,m=e.renderFeedback,h=e.isFeedbackCard,v=e.isLetterSpacingExp,g=e.hasUncollapsableControls,b={read:r,promoted:o||a,hasSubscribeButton:c.hasSubscribeButton,collapseHeader:g,isMobile:u,isDesktop:l,isFeedbackCard:h};return f.a.createElement("div",{className:Hb(b)},f.a.createElement(hb,{color:"#CEBBA1",feedback:p.isEnabled?d:null,isMobile:u}),this._renderClickable(),f.a.createElement(wf,{isIntersecting:i,onResize:this._onResize}),f.a.createElement("div",{className:Hb("content")},this._renderHeader(),f.a.createElement("div",{className:Hb("title-holder")},f.a.createElement(_b,{title:t,titleRef:s,isDesktop:l,isMobile:u,isLetterSpacingExp:v})),f.a.createElement(Lu,{className:Hb("text"),withAutoClamp:!1,ref:this._textClampRef},n),this._renderReadFade(),this._renderSourceName(),this._renderSubscribeButton(),this._renderCommentsCounter(),this._renderMittens()),m())},t}(p.PureComponent),Gb=(n(248),function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._traverseNode=function(e,t){switch(e.type){case"text":return e.data;case"tag":"a"===e.name&&(e.attribs.target="_blank",e.attribs.rel="noopener");var r=n._traverseAst(e.children);return f.a.createElement(e.name,Object.assign({key:t},e.attribs),0===r.length?void 0:r);default:return null}},n._traverseAst=function(e){return e.map(function(e,t){return n._traverseNode(e,t)})},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props.ast;return this._traverseAst(e)},t}(p.PureComponent)),qb=Fc("clamp"),Kb=function(e){var t=e.className,n=e.style,r=e.children,i=Fc.mix(qb(),t);return f.a.createElement("div",{className:i,style:n},f.a.createElement("div",{className:qb("wrapper")},f.a.createElement("div",{className:qb("text")},r,f.a.createElement("div",{className:qb("spacer")}))),f.a.createElement("div",{className:qb("text-expand")},r))},Yb=Fc("post-text"),Qb=function(e){var t=e.logger,n=e.json,r=e.linkColor,i=e.textColor,o=e.isSmall,a=e.length,s=Object(p.useCallback)(function(e){t.log("navigate",{local:{__link__:btoa(e.currentTarget.href)}})},[t]),c=o?10:function(e){return e<=80?30:e<=130?20:10}(a);return f.a.createElement(Kb,{className:Yb({size:c,isSmall:o}),style:{color:i}},f.a.createElement("span",null,f.a.createElement(Gb,{ast:function e(t,n){return t.map(function(t){if("tag"!==t.type)return t;if("a"===t.name){var r=Object.assign({},t.attribs);return r.style={color:n},r.onClick=s,Object.assign({},t,{attribs:r})}return Object.assign({},t,{children:e(t.children,n)})})}(n,r)})))},Zb=Fc("post-image"),$b=function(e){var t=e.link,n=e.preview,r=e.width,i=e.height;return f.a.createElement("div",{className:Zb(),style:{background:"url("+t+") center/cover, url(data:image/png;base64,"+n+") center/cover",paddingTop:i/r*100+"%"}})},Jb=Fc("post-channel"),Xb=function(e){var t=e.logo,n=e.logoBackgroundColor,r=e.title,i=e.textColor;return f.a.createElement(Bd,{className:Jb()},f.a.createElement("div",{className:Jb("logo"),style:{backgroundColor:n,backgroundImage:"url("+t+")"}}),f.a.createElement("div",{className:Jb("title")},f.a.createElement(Md,{limit:11,read:!1,textColor:i,name:r})))},e_=Fc("post"),t_=ou(Pd),n_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderRichText=function(){var e=n.props,t=e.richText,r=e.image,i=e.style,o=i.textColor,a=i.linkColor,s=e.logger;return t?f.a.createElement(Qb,qt({},t,{isSmall:Boolean(r),textColor:o,linkColor:a,logger:s})):null},n._renderImage=function(){var e=n.props.image;return e?f.a.createElement("div",{className:e_("image")},f.a.createElement($b,e)):null},n._renderChannel=function(){var e=n.props,t=e.source,r=e.style.textColor;return f.a.createElement("div",{className:e_("channel")},f.a.createElement(Xb,qt({},t,{textColor:r})))},n._renderHeader=function(){var e=n.props,t=e.isChannelPage,r=e.isDesktop,i=e.style.textColor,o=e.id,a=e.isDark,s=e.shouldRenderMenu,c=e.read,u=e.image,l=e.mainColor,d=e.cardColors,p=e.badges,m=e.dropShadow,h=e.rocket,v=e.buttonClassName;return t?null:f.a.createElement(Vg,{noAbsolute:!0,isTextCard:!0,className:e_("header"),id:o,isDark:a,shouldRenderMenu:s,isDesktop:r,read:c,image:u,mainColor:l,cardColors:d,badges:p,dropShadow:m,rocket:h,color:i,buttonClassName:v})},t||qn(n)}Gt(t,e);var n=t.prototype;return n._renderSubscribeButton=function(){var e=this.props,t=e.feedbackSubscribeProps,n=e.logger,r=e.style.textColor,i={borderColor:r,color:r,opacity:.7},o=Object.assign({},t,{isVisible:!0,logger:n,style:i,isMobile:!0});return f.a.createElement("div",{className:e_("subscribe-button")},f.a.createElement("div",{className:e_("subscribe-button-inner")},t.hasSubscribeButton?f.a.createElement(Bg,o):null))},n._renderCommentsCounter=function(){var e=this.props,t=e.commentsCount,n=e.allCommentsLink,r=e.logger,i=e.isMobile,o=e.style,a=o.backgroundColor,s=o.textColor,c=e.type,u=e.onClick,l=e.isLowResolutionDevice;return f.a.createElement(t_,{textColor:a,balloonColor:s,link:n,count:t,logger:r,isMobile:i,isPost:c===me.POST,onClick:u,isLowResolutionDevice:l})},n._renderMittens=function(){var e=this.props,t=e.feedbackMittensProps,n=e.onDislike,r=e.style.textColor;return f.a.createElement(ed,qt({},t,{onDislike:n,className:e_("mittens"),color:r,size:"medium"}))},n.render=function(){var e=this.props,t=e.link,n=e.onClick,r=e.richText,i=e.image,o=e.style,a=e.feedbackSubscribeProps,s=e.titleRef,c=e.renderFeedback,u=e.isMobile,l=e.isDesktop,d=e.isFeedbackCard,p=a.hasSubscribeButton,m={hasText:Boolean(r),hasImage:Boolean(i),hasSubscribeButton:p,isMobile:u,isDesktop:l,isFeedbackCard:d},h={background:"url("+o.background.link+") center/cover, url(data:image/png;base64,"+o.background.preview+") center/cover"};return f.a.createElement("div",{className:e_(m),style:h,ref:s},f.a.createElement(_d,{className:e_("link"),onClick:n,href:t}),f.a.createElement("div",{className:e_("wrapper")},this._renderHeader(),this._renderRichText(),this._renderImage()),f.a.createElement("div",{className:e_("controls")},f.a.createElement("div",{className:e_("column")},this._renderChannel(),this._renderSubscribeButton()),this._renderCommentsCounter(),this._renderMittens()),c())},t}(p.PureComponent),r_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.lastOnClickCall=0,n._scrollToElement=rd(function(){(0,n.props.scrollToElement)()}),n._mittensJumpStart=rd(function(){var e=n.props,t=e.id;(0,e.itemMittensJump)(t,!0)}),n._mittensJumpStop=rd(function(){var e=n.props,t=e.id;(0,e.itemMittensJump)(t,!1)}),n._onTabReturn=rd(function(){var e=n.props,t=e.id,r=e.feedback,i=e.docRead,o=e.showAdfoxInterstitial;e.isMobile&&o(),i(t),r||jn(1500).then(n._mittensJumpStart).then(function(){return jn(1e3)}).then(n._mittensJumpStop)}),n._onAuxClick=function(e){0!==e.button&&1!==e.button||n._onClick(e)},n._onClick=function(e){var t=Date.now();if(!(n.lastOnClickCall&&t-n.lastOnClickCall<250)){n.lastOnClickCall=t;var r=n.props,i=r.id,o=r.docClick,a=r.requestSimilar,s=r.needSimilar,c=r.shouldScrollOnOpenCard,u=r.scrollToElementImmediately,l=r.onClickBrowserNavigate,d=r.shouldAskUserQuestion,p=r.insertUserQuestion;r.isDesktop,r.getExport;"function"==typeof l&&l(e),d?p(i):s&&a(i),$g().then(n._onTabReturn);var f="loggerParams"in n.props&&n.props.loggerParams,m=e.nativeEvent.isCommentClick;o(i,Object.assign({},f,{global:Object.assign({},(f||{}).global,{__click_on_comment__:m?"1":"0"})})),c&&(u?n._scrollToElement():jn(1e3).then(n._scrollToElement)),$g().then(n._onTabReturn)}},n._onDislike=function(){var e=n.props,t=e.id,r=e.needSimilar,i=e.removeChildItem;r&&i(t)},n._setCommentState=function(e){n.props.setCommentInCardState(n.props.id,e)},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._onTabReturn.cancel(),this._mittensJumpStart.cancel(),this._mittensJumpStop.cancel(),this._scrollToElement.cancel()},n.render=function(){var e=this.props;if(e.isTooth){var t=e.teethType,n=e.isMobile,r=e.isDesktop,i=e.title,o=e.text,a=e.link,s=e.image,c=e.read,u=e.product,l=e.isIntersecting,d=e.feedbackMittensProps,p=e.renderFeedback,m=e.containerRef,h=e.cardColors,v=e.mainColor,g=e.isRtbFitted,b=e.domain;return f.a.createElement(Xg,{onAuxClick:this._onAuxClick,onClick:this._onClick,onDislike:this._onDislike,source:b,isMobile:n,isDesktop:r,view:t,title:i,text:o,image:s,link:a,read:c,product:u,shouldHighlight:!1,isIntersecting:l,feedbackMittensProps:d,renderFeedback:p,containerRef:m,cardColors:h,mainColor:v,isRtbFitted:g})}var _=e.id,y=e.read,E=e.commentsInfo,k=e.allCommentsLink,C=e.oneCommentLink,w=e.logger,S=e.loggerParams,x=e.feedbackSubscribeProps,O=e.isMobile,R=e.dropShadow,I=e.feedbackMittensProps,T=e.cardColors,N=e.mainColor,A=e.badges,P=e.titleRef,L=e.rocket,M=e.buttonClassName,D=e.renderFeedback,B=e.type,j=e.link,F=e.isPromoted,U=e.isPromoPublication,z=e.isNarrativeFeed,V=e.isNativeFeed,H=e.isChannelPage,W=e.isDesktop,G=e.isZenLib,q=e.isLetterSpacingExp,K=e.isLowResolutionDevice,Y=!(L||"story"===B||F||U||A),Q=!(z||V||H||W||G),Z={onDislike:this._onDislike,onClick:this._onClick,onAuxClick:this._onAuxClick,isDark:Zd({cardColors:T,mainColor:N}),isLowResolutionDevice:K,isLetterSpacingExp:q,hasUncollapsableControls:Y,shouldRenderMenu:Q,read:y,commentsInfo:E,allCommentsLink:k,oneCommentLink:C,isDesktop:W,isMobile:O,dropShadow:R,feedbackMittensProps:I,cardColors:T,mainColor:N,badges:A,titleRef:P,rocket:L,buttonClassName:M,renderFeedback:D,link:j,logger:w,loggerParams:S,feedbackSubscribeProps:x,id:_,type:B,setCommentState:this._setCommentState};if(e.type===me.POST){var $=e.isFeedbackCard,J=e.richText,X=e.image,ee=e.style,te=e.source,ne=e.isChannelPage;return f.a.createElement(n_,qt({},Z,{isFeedbackCard:$,richText:J,image:X,style:ee,source:te,isChannelPage:ne,type:B}))}if(function(e){return Boolean(e.image)}(e)){var re=e.type,ie=e.text,oe=e.title,ae=e.domainTitle,se=e.isPerformanceExp,ce=e.size,ue=e.isRtbFitted,le=e.textColor,de=e.read,pe=e.image,fe=e.imageSquared,ve=e.isObserving,ge=e.isIntersecting,be=e.theme,_e=e.blurredPreview,ye=e.bigImage,Ee=e.cardBackgroundImage,ke=e.cardBackgroundWhiteImage,Ce=e.color,we=e.feedback,Se=e.feedbackProps,xe=e.withShadows,Oe=re!==me.NARRATIVE&&Boolean(ie),Re=Boolean(E&&E.text&&ce!==he.BIG&&!F&&!U);return f.a.createElement(Fb,qt({},Z,{shouldRenderTextOrComment:Oe,hasComment:Re,title:oe,domainTitle:ae,isPerformanceExp:se,size:ce,isRtbFitted:ue,textColor:le,read:de,image:pe,imageSquared:fe,isObserving:ve,isIntersecting:ge,theme:be,blurredPreview:_e,bigImage:ye,cardBackgroundImage:Ee,cardBackgroundWhiteImage:ke,color:Ce,text:ie,feedback:we,feedbackProps:Se,type:re,withShadows:xe}))}var Ie=e.title,Te=e.isPromoted,Ne=e.isPromoPublication,Ae=e.isFeedbackCard,Pe=e.isIntersecting,Le=e.domainTitle,Me=e.feedback,De=e.color,Be=e.image,je=e.feedbackProps,Fe=e.text,Ue=e.type;return f.a.createElement(Wb,qt({},Z,{title:Ie,isPromoted:Te,isPromoPublication:Ne,isFeedbackCard:Ae,isIntersecting:Pe,domainTitle:Le,feedback:Me,color:De,image:Be,feedbackProps:je,text:Fe,type:Ue}))},t}(p.Component),i_=np(X(function(e){return{teethType:Or(e),isPerformanceExp:mr(e).newCardsPerformanceTest,withShadows:ei(e)}},{docRead:lp,docClick:up,requestSimilar:Yo,removeChildItem:Zo,itemMittensJump:Xu,showAdfoxInterstitial:function(){return{type:"SHOW_ADFOX_INTERSTITIAL",payload:null}},insertUserQuestion:Jo,setCommentInCardState:function(e,t){return{type:"SET_COMMENT_IN_CARD_STATE",payload:{id:e,state:t}}}})(r_)),o_=np(Zg),a_={DESKTOP:{offsetTop:50,hiddenPart:0},MOBILE:{offsetTop:0,hiddenPart:.3}},s_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._scrollToElement=function(){var e=n.props,t=e.containerRef,r=e.isDesktop,i=e.disableScrollToCard,o=r?a_.DESKTOP:a_.MOBILE,a=o.offsetTop,s=o.hiddenPart;if(!t||!t.current||i||(r&&n.props.rowIndex,0))return Promise.resolve();var c=Fo(t.current)+t.current.offsetHeight*s-a;jo.scrollTo({top:c,animate:!1})},n._sendShortStat=function(){var e=n.props,t=e.id;(0,e.docShort)(t)},n._onShow=function(){var e=n.props,t=e.pixels,r=(e.columnCount,e.isDesktop),i=(e.isMobile,e.zenApi,e.zenLogger);t&&t.forEach(function(e){var t=new Image;t.onerror=function(){return i.error("Error while calling pixel; "+e)},t.src=e}),r&&n._setPackShown();n._setPackShown()},n._setPackShown=function(){var e=n.props,t=e.packId,r=e.cacheId;e.zenApi.packShown(t,r)},n._isFeedbackCard=function(){var e=n.props,t=e.feedback,r=e.feedbackProps,i=e.isExtendFeedbackPopupExp,o=t&&"liked"!==t;return r.isEnabled&&(o||i)},n._renderFeedback=function(){var e=n.props,t=e.logger,r=e.isIntersecting,i=e.isMobile,o=e.feedbackProps,a=e.mainColor;if(!n._isFeedbackCard())return null;var s=Object.assign({isIntersecting:r,isMobile:i,logger:t},o);return f.a.createElement(Gl,qt({mainColor:a},s,{theme:"white"}))},t||qn(n)}Gt(t,e);var n=t.prototype;return n._emitCard=function(){var e=this.props,t=e.statEvents,n=e.bulkParams,r=e.rowIndex,i=e.itemIndexInRow,o=e.title,a=e.itemOrder,s=e.id,c=e.containerRef,u=e.zenApi,l=e.outputBus,d={rowIndex:r};r<e.promoCardRowsCount&&c&&c.current&&l.emit("promoCard",{id:s,scrollTo:this._scrollToElement,title:o,itemIndexInRow:i,rowIndex:r,index:a,container:c.current,sendPreviewShow:u.logBulkEvent.bind(u,{event:t.show_teaser,bulkParams:n,statMeta:d}),sendPreviewClick:u.logBulkEvent.bind(u,{event:t.click_teaser,bulkParams:n,statMeta:d})})},n.componentDidMount=function(){this.props.isDesktop&&this._emitCard()},n.render=function(){var e=this.props,t=e.type,n=e.rowIndex,r=e.rootRef,i=e.isDesktop,o=e.isTeethEnabled,a=(e.loggerParams,t===me.GIF),s=a?o_:i_;return f.a.createElement(s,qt({rowIndex:n,scrollToElement:this._scrollToElement,titleRef:r,onShow:this._onShow,sendShow:!(a&&i),sendDeepWatch:!a},this.props,{type:t,isTooth:i&&0===n&&o,renderFeedback:this._renderFeedback,isFeedbackCard:this._isFeedbackCard()}))},t}(p.PureComponent),c_={docShow:sp,docShort:cp},u_=bs(function(e){return{zenApi:e.zenApi,zenLogger:e.zenLogger,outputBus:e.outputBus}})(X(function(){var e=qi(),t=Yi(),n=Zi(),r=Mi(),i=Sn();return function(o,a){var s=a.id,c=a.rowIndex,u=a.zenApi,l=Ur(o,s),d=Ir(o),p=o.context,f=p.OSFamily,m=p.browserName,h=function(e,t){var n=e.commentsData;if(t.type===me.DOC||t.type===me.NARRATIVE||t.type===me.POST){var r=t.commentsDocumentId;if(n[r]&&"number"==typeof n[r].count)return n[r]}}(o,l),v=e(o,s),g=t(o,s),b=n(o,s),_=r(Object.assign({},l,{rowIndex:c,zenApi:u})),y=ca(h),E=mr(o),k=E.isBigLetterSpacingExp,C=E.isLetterSpacingExp,w=E.rezenExtendFeedback,S=Sr(o),x=Er(o),O=kr(o),R=Gr(o),I="iOS"!==f||"MobileSafari"!==m,T=xr(o),N=yr(o),A=i(o,s),P="gif"!==l.type,L=w.isPopup,M=Rr(o),D=Wr(o,s),B="zen_lib"===o.params.product,j=ni(o);return Object.assign({needSimilar:S,isNarrativeFeed:x,isNativeFeed:O,isZenLib:B,isChannelPage:N,scrollToElementImmediately:I,theme:d,logger:_,feedbackProps:v,feedbackMittensProps:g,feedbackSubscribeProps:b,shouldScrollOnOpenCard:T,shouldSendDeepwatch:P,columnCount:R},l,{source:A,isExtendFeedbackPopupExp:L,isBigLetterSpacingExp:k,isLetterSpacingExp:C,isTeethEnabled:M,itemOrder:D,commentsInfo:h,promoCardRowsCount:j,loggerParams:y})}},c_)(s_)),l_=function(e){var t=function(t){var n=t.id,r=t.className,i=t.isDesktop,o=t.isMobile,a=t.containerProps,s=an(t,["id","className","isDesktop","isMobile","containerProps"]),c=Object(p.useRef)(null);return f.a.createElement(Jm,qt({className:r,id:n,isDesktop:i,isMobile:o},a,{rootRef:c}),f.a.createElement(e,qt({containerRef:c,id:n,isDesktop:i,isMobile:o},s)))};return t.displayName=ms("WithCardContainer",e),t},d_=(n(304),Fc("hint-personal")),p_=function(){var e=Xc().l10n,t=Object(p.useState)(!1),n=t[0],r=t[1],i=Object(p.useCallback)(function(){return r(!n)},[n]),o=Object(p.useCallback)(function(){return r(!1)},[]),a=oe(function(e){return{isMobile:e.params.isMobile,title:e.channel.noChannel?null:e.channel.source.title}},F),s=a.isMobile,c=a.title;return null===c?null:f.a.createElement("div",{className:d_({isMobile:s})},f.a.createElement("div",{className:d_("trigger"),onClick:i},f.a.createElement("div",{className:d_("text")},e("desktop.feed.personal")),f.a.createElement("div",{className:d_("icon")})),f.a.createElement("div",{className:d_("popup",{isOpen:n})},f.a.createElement("div",{className:d_("popup-text")},e("desktop.feed.personal_popup").replace("%s",c)),f.a.createElement("div",{className:d_("close"),onClick:o})))},f_=nm,m_=((Ob={})[me.DOC]=l_(u_),Ob[me.NARRATIVE]=l_(u_),Ob[me.GIF]=l_(tp),Ob[me.DIRECT]=l_(Np),Ob[me.SIMILAR]=l_(zf),Ob[me.ICEBOARDING_GRID]=l_(zp),Ob[me.HINT_EULA]=l_(ap),Ob[me.HINT_PERSONAL]=l_(p_),Ob[me.CARD_PLACEHOLDER]=l_(qf),Ob[me.PLACEHOLDER]=l_(qf),Ob[me.USER_QUESTION]=l_($f),Ob[me.SIMILAR_INTERESTS]=l_(f_),Ob[me.FEATURING_PROMO]=l_(ah),Ob[me.FEATURING_CAROUSEL]=l_(fv),Ob[me.PERSONAL_CAROUSEL]=l_(Lv),Ob[me.CONTENT_CAROUSEL]=l_(_g),Ob[me.COMMENT]=l_(dg),Ob[me.PROFILE_ACTIVITY_ONBOARDING]=l_(fg),Ob),h_=((Rb={})[me.DOC]=l_(rm(u_)),Rb[me.NARRATIVE]=l_(rm(u_)),Rb[me.GIF]=l_(rm(tp)),Rb),v_=Fc("feed"),g_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={hasError:!1},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidCatch=function(e){var t=this.props,n=t.item,r=t.zenLogger;this.setState({hasError:!0}),Eg({item:n,error:e,zenLogger:r})},n._maybeRenderFeedItemHeader=function(){var e=this.props,t=e.isActivityFeed,n=e.size,r=e.item,i=r.id,o=r.type;return t&&o!==me.PROFILE_ACTIVITY_ONBOARDING?f.a.createElement("div",{className:v_("item-header",{size:n})},f.a.createElement(Fv,{id:i})):null},n.render=function(){if(this.state.hasError)return null;var e=this.props,t=e.isVisible,n=e.isIntersecting,r=e.rowIndex,i=e.scrollToID,o=e.itemIndexInRow,a=e.intersectionRatio,s=e.item,c=s.id,u=s.type,l=s.size,d=s.ad,p=e.disableScrollToCard,m=d&&(l===he.SMALL||d.isBig)&&h_[u]||m_[u];if(!m)return null;var h={zenScrollToTarget:i===c,heightFree:u===me.COMMENT,size:l};return f.a.createElement("div",{className:v_("item-wrap",{size:l})},this._maybeRenderFeedItemHeader(),f.a.createElement(m,{id:c,ad:d,size:l,isDesktop:!0,rowIndex:r,isVisible:t,itemIndexInRow:o,isIntersecting:n,className:v_("item",h),intersectionRatio:a,disableScrollToCard:p}))},t}(p.PureComponent),b_=(n(323),n(324),function(e){var t=e.className;return f.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},f.a.createElement("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"}))}),__=function(e){var t=e.className;return f.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},f.a.createElement("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"}))},y_=Fc("old-feedback-card-view"),E_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._renderIcon=function(e){var t=n.props.isMobile;switch(e){case"complain":return f.a.createElement(b_,{className:y_("icon",{isMobile:t})});case"action":return f.a.createElement(__,{className:y_("icon",{isMobile:t})});default:return null}},n._renderButton=function(e,t){if(!t)return null;var r=t.onClick,i=t.text,o=n.props.isMobile;return"cancel"!==e||o?f.a.createElement("button",{className:y_("button",{type:e,isMobile:o}),onClick:r},n._renderIcon(e),f.a.createElement("div",null,i)):f.a.createElement(Cl,{size:"m",tab:"button",viewType:"border",className:y_("button",{type:"cancel"}),onClick:r},i)},n._renderButtons=function(){var e=n.props,t=e.complainLinkButton,r=e.complainButton,i=e.cancelButton,o=e.actionButton,a=e.isHiddenCancelButton;return f.a.createElement("div",{className:y_("buttons")},n._renderButton("action",o),n._renderButton("complain",t),n._renderButton("complain",r),a?null:n._renderButton("cancel",i))},n._renderHeader=function(){var e=n.props,t=e.id,r=e.dislikeQuestion,i=e.isExtendFeedbackEnabled,o=e.isMobile,a=e.description,s=e.title;return i?f.a.createElement(Tl,{id:t,question:r}):f.a.createElement("div",{className:y_("text",{isMobile:o})},s," ",a)},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.theme,r=e.place;return f.a.createElement("div",{className:y_({size:t,theme:n,place:r})},this._renderHeader(),this._renderButtons())},t}(p.PureComponent),k_=(n(326),Fc("old-feedback-popup-view")),C_=function(e){var t=e.mainColor,n=e.className,r=e.children,i={state:e.isNegativeFeedback?"opened":"closed"};return f.a.createElement("div",{className:Fc.mix(k_(i),n)},f.a.createElement("div",{style:{background:t},className:k_("fog")}),f.a.createElement("div",{className:k_("wrapper")},f.a.createElement("div",{className:k_("popup")},r)))},w_=(n(325),Fc("old-complaints-card")),S_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={selectedReasonIds:new Set},n._contentRef=function(e){return n._contentElem=e},n._bottomRef=function(e){return n._bottomElem=e},n._onButtonClick=function(){var e=n.props,t=e.cancelButton,r=e.actionButton,i=n.state.selectedReasonIds;i.size?r.onClick({reasonIds:Array.from(i)}):t.onClick()},t||qn(n)}Gt(t,e);var n=t.prototype;return n._onReasonClick=function(e){this.setState(function(t){var n=t.selectedReasonIds,r=n.has(e),i=new Set(n);return r?i.delete(e):i.add(e),{selectedReasonIds:i}})},n._renderReasonsColumn=function(e){var t=this,n=this.state.selectedReasonIds;return e.map(function(e){var r=e.id,i=e.text,o=n.has(r);return f.a.createElement("div",{key:r,className:w_("reason",{selected:o}),onClick:function(){return t._onReasonClick(r)}},f.a.createElement("div",{className:w_("reason-checkbox")}),f.a.createElement("div",{className:w_("reason-label")},i))})},n._renderReasons=function(){var e=this.props,t=e.size,n=e.reasons;if(t===he.SMALL)return f.a.createElement("div",{className:w_("reasons")},this._renderReasonsColumn(n));var r=Math.ceil(n.length/2);return f.a.createElement("div",{className:w_("reasons")},f.a.createElement("div",{className:w_("reasons-column")},this._renderReasonsColumn(n.slice(0,r))),f.a.createElement("div",{className:w_("reasons-column")},this._renderReasonsColumn(n.slice(r))))},n.componentDidMount=function(){var e=this._contentElem.offsetWidth-this._contentElem.clientWidth,t="rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem.style.right=t?"":e+"px",this._bottomElem.style.left=t?e+"px":""},n.render=function(){var e=this.props,t=e.size,n=e.title,r=e.cancelButton,i=e.actionButton,o=e.theme,a=e.place,s=this.state.selectedReasonIds.size?[i,"action"]:[r,"cancel"],c=s[0],u=s[1];return f.a.createElement("div",{className:w_({size:t,theme:o,place:a})},f.a.createElement("div",{className:w_("content"),ref:this._contentRef},f.a.createElement("div",{className:w_("title")},n),this._renderReasons()),f.a.createElement("div",{className:w_("bottom"),ref:this._bottomRef},f.a.createElement("button",{className:w_("button",{type:u}),onClick:this._onButtonClick},c.text)))},t}(p.PureComponent),x_={dislikeCard:function(e){return{title:e("feedback.feedback_to_dislike_title")+".",description:e("feedback.feedback_to_dislike_desc"),complainButtonText:e("feedback.complain"),cancelButtonText:e("v2.cancel"),actionButtonText:function(t){return e("feedback.block").replace("%domain",t.domainTitle)}}},blockCard:function(e){return{title:e("feedback.feedback_to_block_title")+".",description:function(t){return e("feedback.feedback_to_block_desc").replace("%source",t.domainTitle)},complainButtonText:e("feedback.complain"),cancelButtonText:e("v2.cancel")}},complaintsCard:function(e){return{title:e("feedback.complain_reason"),cancelButtonText:e("feedback.complain_close"),actionButtonText:e("feedback.complain_send")}},complaintsDialogCard:function(e){return{title:e("feedback.thanks"),description:e("feedback.complained"),complainLinkText:e("feedback.official_complain_url_text")}}},O_=((Ib={})[me.DOC]=x_,Ib[me.POST]=x_,Ib[me.NARRATIVE]=x_,Ib[me.GIF]=x_,Ib[me.FEATURING_PROMO]={dislikeCard:function(e){return{title:e("feedback.feedback_to_dislike_title")+".",description:e("feedback.feedback_to_dislike_desc"),cancelButtonText:e("v2.cancel")}}},Ib),R_="https://yandex.ru/support/abuse/troubleshooting/zen/list.html",I_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._openComplaints=function(){(0,n.props.itemOpenComplaints)()},n._onComplainLinkClick=function(){window.open(R_,"_blank")},n._sendComplaints=function(e){(0,n.props.itemSendComplaints)(e)},n._cancelComplaints=function(){(0,n.props.itemCancelComplaints)()},n._onBlock=function(){var e=n.props,t=e.onBlock,r=e.itemBlock;t(),r()},n._onUnblock=function(){var e=n.props,t=e.onUnblock,r=e.itemUnblock;t(),r()},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getTexts=function(e){for(var t=this.props,n=t.type,r=t.l10n,i=O_[n][e](r),o=Object.keys(i),a={},s=0;s<o.length;s++){var c=o[s],u=i[c];a[c]="function"==typeof u?u(this.props):u}return a},n._renderDislikeCard=function(){var e=this.props,t=e.id,n=e.size,r=e.isMobile,i=e.itemCancelDislike,o=e.theme,a=e.dislikeQuestion,s=e.isExtendFeedbackExp,c=e.isExtendFeedbackPopupExp,u=e.complaints,l=e.place,d=this._getTexts("dislikeCard"),p=d.title,m=d.description,h=d.complainButtonText,v=d.cancelButtonText,g=d.actionButtonText,b=(s||c)&&a,_={size:n,title:p,description:m,complainButton:u||!h?null:{text:h,onClick:this._openComplaints},cancelButton:{text:v,onClick:i},actionButton:g?{text:g,onClick:this._onBlock}:null,theme:o,isMobile:r,isExtendFeedbackEnabled:b,dislikeQuestion:a,id:t,isHiddenCancelButton:c,place:l};return f.a.createElement(E_,_)},n._renderBlockCard=function(){var e=this.props,t=e.id,n=e.size,r=e.isMobile,i=e.theme,o=e.dislikeQuestion,a=e.complaints,s=e.place,c=this._getTexts("blockCard"),u=c.title,l=c.description,d=c.complainButtonText,p=c.cancelButtonText,m={size:n,title:u,description:l,complainButton:a?null:{text:d,onClick:this._openComplaints},cancelButton:{text:p,onClick:this._onUnblock},theme:i,isMobile:r,dislikeQuestion:o,id:t,place:s};return f.a.createElement(E_,m)},n._renderComplaintsCard=function(){var e=this.props,t=e.size,n=e.complaintReasons,r=e.theme,i=e.isIntersecting,o=e.place,a=this._getTexts("complaintsCard"),s=a.title,c=a.cancelButtonText,u=a.actionButtonText,l={size:t,title:s,reasons:n,cancelButton:{text:c,onClick:this._cancelComplaints},actionButton:{text:u,onClick:this._sendComplaints},theme:r,isIntersecting:i,place:o};return f.a.createElement(S_,l)},n._renderComplaintsDialogCard=function(){var e=this.props,t=e.id,n=e.size,r=e.isMobile,i=e.theme,o=e.dislikeQuestion,a=e.feedback,s=e.isOfficialComplains,c=e.complaints,u=e.place,l=this._getTexts("complaintsDialogCard"),d=l.title,p=l.description,m=l.complainLinkText,h=null;"disliked"===a&&(h={text:this._getTexts("dislikeCard").actionButtonText,onClick:this._onBlock});var v={size:n,title:d,description:p,actionButton:h,complainLinkButton:s?{text:m,onClick:this._onComplainLinkClick}:null,theme:i,isMobile:r,dislikeQuestion:o,id:t,complaints:c,place:u};return f.a.createElement(E_,v)},n._renderFeedbackCard=function(){var e=this.props,t=e.feedback,n=e.complaints,r=e.complaintsSendedAt;if("opened"===n)return this._renderComplaintsCard();if("sended"===n&&r===t)return this._renderComplaintsDialogCard();switch(t){case"disliked":return this._renderDislikeCard();case"blocked":return this._renderBlockCard();default:return null}},n._renderFeedbackPopupView=function(){var e=this.props,t=e.feedback,n=e.mainColor,r={className:e.className,mainColor:n,isNegativeFeedback:t&&"liked"!==t};return f.a.createElement(C_,r,this._renderFeedbackCard())},n.render=function(){var e=this.props,t=e.feedback,n=e.isMobile,r=e.isExtendFeedbackPopupExp;return t&&"liked"!==t||r?r&&!n?this._renderFeedbackPopupView():this._renderFeedbackCard():null},t}(p.PureComponent),T_=Hu({itemCancelDislike:Ku,itemBlock:Yu,itemUnblock:Qu,itemOpenComplaints:Zu,itemSendComplaints:$u,itemCancelComplaints:Ju}),N_=bl(X(function(e,t){var n=t.cancelExtendFeedbackPopupExp,r=mr(e).rezenExtendFeedback,i=!n&&r.isPopup,o=mr(e);return{isExtendFeedbackExp:o.isExtendFeedbackExp,isExtendFeedbackPopupExp:i,isOfficialComplains:o.isOfficialComplains,place:i?"popup":null}},T_)(eu(I_))),A_=function(e){var t=e.feedback&&"liked"!==e.feedback;return f.a.createElement(Bu.a,{component:p.Fragment,transitionName:"_transition",transitionEnterTimeout:400,transitionLeaveTimeout:400},t?f.a.createElement(N_,e):null)},P_=(n(334),n(162)),L_=(n(333),Fc("old-mittens-view")),M_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={canShowAnimations:!1},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Pn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.next=3,Kl();case 3:return e.next=5,Kl();case 5:this._isMounted&&this.setState({canShowAnimations:!0});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n.componentWillUnmount=function(){this._isMounted=!1},n._getSizes=function(){var e=P_[this.props.size],t=e.width,n=e.height,r=e.ratio;return{width:parseInt(t,10),height:parseInt(n,10),ratio:r}},n._renderMittensSvg=function(e){var t=this.props.color,n=this._getSizes(),r=n.width,i=n.height,o=n.ratio,a=e?"translate(11.5, 16) rotate(180) translate(-11.5, -16)":"";return f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:i,viewBox:"0 0 "+r+" "+i},f.a.createElement("path",{transform:"scale("+o+", "+o+") "+a,fill:t,fillRule:"evenodd",d:"M18.895 10.605c.609 0 1.102.496 1.102 1.108v.043a16.864 16.864 0 0 1-.819 4.253l-.003.01a16.834 16.834 0 0 1-2.716 5.075l-.002.003-.159.19H7.923v-9.43L12.78 6.05l.003-.004a4.77 4.77 0 0 0 .774-1.447l.003-.007a4.84 4.84 0 0 0 .234-1.22c.2-.2.475-.323.779-.323.568 0 .956.379 1.187 1.024.276.77.252 1.643.252 1.643a4.828 4.828 0 0 1-1.042 3l.002.002-1.6 1.888H18.894zM3.015 21.287v-9.43h3.272v9.43H3.014z"}))},n.render=function(){var e=this.state.canShowAnimations,t=this.props,n=t.onlyLike,r=t.onLikeClick,i=t.onDislikeClick,o=t.size,a=t.cursor,s=t.liked,c=t.disliked,u=t.blocked,l=t.jump,d=t.className,p=void 0===d?"":d,m=t.isExtendFeedbackPopupExp,h=c||u,v={size:o,jump:l,type:t.type,hasActive:s||h,hasDisliked:h,canShowAnimations:!m&&e};return f.a.createElement("div",{className:Fc.mix(L_(v),p)},f.a.createElement("div",{className:L_("mitten",{active:s}),onClick:r,style:{cursor:a}},this._renderMittensSvg(!1)),n?null:f.a.createElement("div",{className:L_("mitten",{active:h}),onClick:i,style:{cursor:a}},this._renderMittensSvg(!0)))},t}(p.PureComponent);M_.defaultProps={size:"small",cursor:"pointer",color:"#000"};var D_,B_,j_=function(e){var t=function(t){function n(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n=t.call.apply(t,[this].concat(i))||this,n._onLike=function(e){e.preventDefault(),e.stopPropagation();var t=n.props,r=t.feedback,i=t.itemLike,o=t.itemCancelLike,a=t.onLike,s=t.onCancelLike;"liked"===r?o():"disliked"===r||"blocked"===r?(n._cancelDislike(),i()):i();var c="liked"===r?s:a;c&&c(e)},n._onDislike=function(e){e.preventDefault(),e.stopPropagation();var t=n.props,r=t.feedback,i=t.itemDislike,o=t.onDislike,a=t.onCancelDislike;"disliked"===r||"blocked"===r?n._cancelDislike():"liked"===r?(Gu(),i()):i();var s="disliked"===r?a:o;s&&s(e)},e||qn(n)}Gt(n,t);var r=n.prototype;return r._uncheckAllAnswers=function(){var e=this.props,t=e.dislikeQuestion,n=e.itemUncheckAllAnswers,r=e.zenApi;t&&(t.answers.forEach(function(e){e.isChecked&&e.onUnblock&&e.onUnblock(r)}),n())},r._cancelDislike=function(){var e=this.props,t=e.feedback,n=e.itemCancelDislike,r=e.isExtendFeedbackPopupExp,i=e.onUnblock,o=e.source,a=e.logger;n(),"blocked"===t&&i(o,a),r&&this._uncheckAllAnswers()},r.render=function(){var t=this.props,n=t.feedback,r=t.isMittensJumping;return f.a.createElement(e,qt({},this.props,{liked:"liked"===n,disliked:"disliked"===n,blocked:"blocked"===n,jump:r,onLikeClick:this._onLike,onDislikeClick:this._onDislike}))},n}(p.PureComponent);t.displayName=ms("WithMittensActor",e);var n=Hu({itemLike:Wu,itemDislike:qu,itemUnblock:Qu,itemCancelLike:Gu,itemCancelDislike:Ku,itemUncheckAllAnswers:el});return bs(function(e){return{zenApi:e.zenApi}})(X(function(){var e=Gi(),t=Sn();return function(n,r){var i=r.id,o=e(n,i);return{isExtendFeedbackPopupExp:mr(n).rezenExtendFeedback.isPopup,dislikeQuestion:o,source:t(n,i)}}},n)(Vp(_l(t))))}(M_),F_=(n(332),Fc("doc-channel-name")),U_=function(e){var t=e.textColor,n=e.name,r=e.read,i=e.className,o=e.opacity,a=e.limit,s=void 0===a?20:a,c=n.length>=s?"small":"medium";return f.a.createElement("div",{className:Fc.mix(F_({read:r,size:c}),i),style:{color:t,opacity:o}},n)},z_=(n(331),Fc("doc-channel-link")),V_=function(e){var t=e.className,n=e.children;return f.a.createElement("div",{className:Fc.mix(z_(),t)},n)},H_=(n(330),Fc("doc-badges-view"));!function(e){e.NARRATIVE="narrative",e.PROMO="promo",e.SPECIAL="special"}(D_||(D_={})),function(e){e.DARK="dark",e.LIGHT="light",e.TRANSPARENT="transparent"}(B_||(B_={}));var W_=function(e){function t(){return e.apply(this,arguments)||this}Gt(t,e);var n=t.prototype;return n.renderBadge=function(){var e=this.props,t=e.promoLink,n=void 0===t?"":t,r=e.badges,i=e.read,o=void 0!==i&&i,a=e.color,s=e.isDesktop,c=r[0],u=c.type===D_.PROMO;return u&&""!==n?f.a.createElement(_d,{href:n,target:"_blank",style:{color:a},className:H_({read:o,isPromo:u,isDesktop:s})},c.text):f.a.createElement("div",{className:H_({read:o}),style:{color:a}},c.text)},n.render=function(){var e=this.props.badges;return e&&e[0]?this.renderBadge():null},t}(f.a.PureComponent),G_=X(function(e){return{promoLink:mr(e).rezenPromoBadgeLink}})(W_),q_=(n(328),new kd.a({id:"comments-balloon--inline",use:"comments-balloon--inline-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" id="comments-balloon--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v5.674a3 3 0 0 0 3 3h3.619L9 14l2.381-2.326H15a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'})),K_=(wd.a.add(q_),q_),Y_=new kd.a({id:"comments-balloon-touch--inline",use:"comments-balloon-touch--inline-usage",viewBox:"0 0 22 24",content:'<symbol viewBox="0 0 22 24" id="comments-balloon-touch--inline"><path fill-rule="evenodd" d="M3 4.3785a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h3.757L11 23.6215 15.243 19.3785H19a3 3 0 0 0 3-3V7.3782a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),Q_=(wd.a.add(Y_),Y_),Z_=Fc("old-comment-counter"),$_=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._onClick=function(e){var t=n.props,r=t.onClick;t.logger.log("click_comments_counter"),"function"==typeof r&&r(e)},n._onShow=function(){n.props.logger.log("show_comments_counter")},n._renderBalloon=function(){var e=n.props,t=e.isTouch,r=e.textColor,i=e.balloonColor,o=e.count;return o>99&&(o="99+"),t?f.a.createElement("svg",{className:Z_("icon"),viewBox:Q_.viewBox,style:{fill:i}},f.a.createElement("use",{xlinkHref:"#"+Q_.id}),f.a.createElement("text",{className:Z_("info"),x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:r}},o)):f.a.createElement(f.a.Fragment,null,f.a.createElement("svg",{className:Z_("icon"),viewBox:K_.viewBox,style:{fill:i}},f.a.createElement("use",{xlinkHref:"#"+K_.id})),f.a.createElement("span",{className:Z_("info"),style:{color:r}},o))},t||qn(n)}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.link,n=e.count,r=e.isVisible,i=e.rootRef,o=e.isTouch,a=e.isPost,s=e.isCardImage,c=e.feedbackMittensIsDisabled;if("number"!=typeof n)return null;var u=Z_("",{isCardImage:s,isTouch:o,isPost:a,feedbackMittensIsDisabled:c});return f.a.createElement(Qn,{isVisible:r,onShow:this._onShow},f.a.createElement("span",{className:u},f.a.createElement("a",{ref:i,className:Z_("balloon",{isTouch:o}),href:t,target:"_blank",rel:"noopener noreferrer",onClick:this._onClick},this._renderBalloon())))},t}(p.PureComponent),J_=function(e){return e===me.NARRATIVE},X_={small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"26px",lineHeight:"32px"},big:{fontSize:"32px",lineHeight:"34px"}},ey={maxLength:120,maxBigWordLength:11,sizes:{big:{threshold:30,style:X_.big},medium:{threshold:45,style:X_.medium},small:{threshold:0,style:X_.small}}},ty=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state=n._calcCurrentState(n.props.title),n._containerElem=null,n._clamp=null,n._containerRef=function(e){return n._containerElem=e},n._clampRef=function(e){return n._clamp=e},t||qn(n)}Gt(t,e);var n=t.prototype;return n._calcCurrentState=function(e){var t=ey;return{title:tb(e,120),style:cb(e,t,this._containerElem||void 0)}},n._updateState=function(){var e=this;return new Promise(function(t){e.setState(e._calcCurrentState(e.props.title),t)})},n.updateStylesAndClamp=function(){var e=this;return this._updateState().then(function(){e._clamp&&e._clamp.clamp()})},n.render=function(){var e=this.state,t=e.title,n=e.style;return f.a.createElement(Lu,{className:"doc__title",style:n,domRef:this._containerRef,ref:this._clampRef,withAutoClamp:!1,component:Fd},t)},t}(p.PureComponent),ny=Fc("doc"),ry=ou($_),iy=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._docTitleRef=Object(p.createRef)(),n._textClampRef=Object(p.createRef)(),n._onResize=$i(n._updateContentStylesAndClamp,Sf,qn(n)),n._onAuxClick=function(e){var t=n.props.onClick;0!==e.button&&1!==e.button||t()},n._renderImage=function(){var e=n.props,t=e.size,r=e.image,i=e.read,o=e.theme,a=e.bigImage,s=e.blurredPreview,c=e.cardBackgroundImage,u=e.cardBackgroundWhiteImage,l=e.isImageLazyLoadEnabled;return r?f.a.createElement(vm,{theme:o,image:r,bigImage:a,blurredPreview:s,cardBackgroundImage:c,cardBackgroundWhiteImage:u,isRead:i,size:t,color:n.getBackgroundColor(),isImageLazyLoadEnabled:l}):null},n._renderShadeMask=function(){var e={backgroundColor:n.getBackgroundColor()};return f.a.createElement("div",{className:ny("shade-mask"),style:e})},n._renderHoverMask=function(){return f.a.createElement("div",{className:ny("hover-mask")})},n._renderFilterMask=function(){return f.a.createElement("div",{className:ny("filter-mask")})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.getBackgroundColor=function(){var e=this.props.mainColor;if(e)return Jd(e).card;var t=this.props.cardColors;return t&&t.card},n.getTextColor=function(){var e=this.props,t=e.mainColor,n=e.cardColors;return t?Jd(t).text:n?n.text:"#000000"},n.getColorTheme=function(){return"#000000"===this.getTextColor()?"black":"white"},n.getCardStyle=function(){var e=this.getBackgroundColor();if(e)return{backgroundColor:e}},n.getDocType=function(){var e=this.props,t=e.type,n=e.image;return J_(t)?"narrative":n?"image":"text"},n._updateContentStylesAndClamp=function(){var e=this;this._docTitleRef.current&&this._docTitleRef.current.updateStylesAndClamp().then(function(){e._textClampRef.current&&e._textClampRef.current.clamp()})},n._getBadgeFadeStyle=function(){var e=this.props,t=e.mainColor,n=e.cardColors,r=t||n&&n.card;if(!r)return{};var i=Kd(r).join(", ");return{boxShadow:"rgba("+i+", 0.4) 0px 0px 25px 5px, rgba("+i+", 0.4) 0px 0px 60px 30px, rgba("+i+", 0.6) 0px 0px 100px 30px"}},n._renderBadges=function(){var e=this.props,t=e.badges,n=e.read;if(!t||0===t.length)return null;var r="white"===this.getColorTheme()?"#fff":"#000";return f.a.createElement("div",{className:ny("badge")},f.a.createElement(G_,{badges:t,color:r,read:n,isDesktop:!0}),f.a.createElement("div",{className:ny("badge-fade"),style:this._getBadgeFadeStyle()}))},n._renderContent=function(){var e=this.props,t=e.type,n=e.title,r=e.text,i=e.isIntersecting,o=e.onClick,a=e.link;return f.a.createElement("a",{className:ny("content"),onClick:o,href:a,target:"_blank",rel:"noreferrer noopener",onAuxClick:this._onAuxClick},f.a.createElement("div",{className:ny("aligner")},f.a.createElement(wf,{isIntersecting:i,onResize:this._onResize}),f.a.createElement(ty,{ref:this._docTitleRef,title:n}),J_(t)?null:f.a.createElement(Lu,{className:ny("text"),withAutoClamp:!1,fitToSpace:!0,ref:this._textClampRef},r),f.a.createElement("div",{className:ny("subscribe-button-gradient")})))},n._renderControls=function(e){var t=this.props,n=t.domainTitle,r=t.feedLink,i=t.logger,o=t.feedbackSubscribeProps,a=t.size,s=t.type,c=t.commentsCount,u=t.feedbackMittensProps,l=17,d=20;me.DOC===s&&c>=0&&u.isEnabled&&(l=15,d=18);var p=o.hasSubscribeButton,m="popup"===e;return f.a.createElement("div",{className:ny("controls",{type:e})},f.a.createElement("div",{className:ny("aligner")},f.a.createElement("div",{className:ny("bottom")},!m&&f.a.createElement(V_,{className:ny("channel-name"),link:r,logger:i},f.a.createElement(U_,{textColor:this.getTextColor(),name:n,limit:a===he.BIG?l:d})),this._renderCommentsCounter(),this._renderCommentsCounterForPerformanceExp(),this._renderMittens(e)),!m&&f.a.createElement(Bg,qt({},o,{className:ny("subscribe-button"),isVisible:p,logger:i}))))},n._renderCommentsCounter=function(){var e=this.props,t=e.commentsCount,n=e.allCommentsLink,r=e.logger,i=e.feedbackMittensProps,o=e.onClick,a=e.isLowResolutionDevice;return f.a.createElement(ry,{textColor:this.getBackgroundColor(),balloonColor:this.getTextColor(),link:n,count:t,logger:r,feedbackMittensIsDisabled:!i.isEnabled,onClick:o,isLowResolutionDevice:a})},n._renderCommentsCounterForPerformanceExp=function(){var e=this.props,t=e.isPerformanceExp,n=e.commentsCount,r=e.allCommentsLink,i=e.logger,o=e.feedbackMittensProps,a=e.onClick,s=e.isLowResolutionDevice;return t?f.a.createElement("div",{style:{display:"none"}},f.a.createElement($_,{textColor:this.getBackgroundColor(),balloonColor:this.getTextColor(),link:r,count:n,logger:i,isVisible:!1,feedbackMittensIsDisabled:!o.isEnabled,onClick:a,isLowResolutionDevice:s})):null},n._renderMittens=function(e){var t=this.props,n=t.feedbackMittensProps,r=t.onDislike;return n.isEnabled?f.a.createElement(j_,qt({},n,{color:this.getTextColor(),onDislike:r,className:ny("mittens"),type:e})):null},n.componentDidMount=function(){var e=this;window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){return e._updateContentStylesAndClamp()}):this._updateContentStylesAndClamp()},n.componentDidUpdate=function(e){var t=this.props,n=t.title,r=t.text;e.title===n&&e.text===r||this._updateContentStylesAndClamp()},n.render=function(){var e=this.props,t=e.size,n=e.read,r=e.shouldHighlight,i=e.columnCount,o=e.isPromoted,a=e.isPromoPublication,s=e.feedbackSubscribeProps,c=e.containerRef,u=e.renderFeedback,l=e.isLetterSpacingExp,d=e.isBigLetterSpacingExp,p=e.isRtbFitted,m=e.isExtendFeedbackPopupExp,h=e.isWhiteMordaDesktop,v=s.hasSubscribeButton,g={type:this.getDocType(),theme:this.getColorTheme(),size:t,animation:r&&"highlight",columns:i,promo:o||a,isShaded:n||v,hasSubscribeButton:v,isLetterSpacingExp:l,isBigLetterSpacingExp:d,isWhiteMordaDesktop:h},b=p?"_rtb-fitted":null;return f.a.createElement("div",{className:Fc.mix(ny(g),b),style:this.getCardStyle(),ref:c},this._renderImage(),this._renderShadeMask(),this._renderHoverMask(),this._renderBadges(),this._renderContent(),this._renderControls(null),this._renderFilterMask(),u(),m?this._renderControls("popup"):null)},t}(p.PureComponent),oy=(n(327),n(329),Fc("doc-card-header")),ay=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._getColor=function(){var e=n.props,t=e.color,r=e.isDark;return t||(r?"#fff":"#000")},n._renderShadow=function(){var e=n.props,t=e.isTextCard,r=e.isDesktop,i=e.read;return e.dropShadow||t||!r&&i?null:f.a.createElement("div",{className:oy("shadow"),style:n._getBadgeFadeStyle()})},n._renderRocket=function(){var e=n.props,t=e.rocket,r=e.image,i=e.isDesktop;return!t||i?null:f.a.createElement("div",{className:oy("rocket")},f.a.createElement(Tf,{faint:!r,color:n._getColor()}),n._renderShadow())},n._renderMenu=function(){var e=n.props;e.id,e.dropShadow,e.isNarrativeFeed,e.isNativeFeed,e.isChannelPage,e.buttonClassName,e.isDesktop,e.isZenLib;return null},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getBadgeFadeStyle=function(){var e=this.props,t=e.mainColor,n=e.cardColors,r=t||n&&n.card;if(!r)return{};var i=Kd(r).join(", ");return{boxShadow:"rgba("+i+", 0.4) 0px 0px 25px 5px, rgba("+i+", 0.4) 0px 0px 60px 30px, rgba("+i+", 0.6) 0px 0px 100px 30px"}},n._renderBadges=function(){var e=this.props,t=e.read,n=e.badges,r=e.isDesktop;return n&&0!==n.length?f.a.createElement("div",{className:oy("badge")},f.a.createElement(G_,{badges:n,color:this._getColor(),read:t&&r,isDesktop:r}),this._renderShadow()):null},n.render=function(){var e=this.props,t=e.noAbsolute,n=e.className,r={absolute:!t};return f.a.createElement("div",{className:Fc.mix(oy(r),n)},this._renderRocket(),f.a.createElement("div",{className:oy("badge-holder")},this._renderBadges()),this._renderMenu())},t}(p.PureComponent),sy=[{name:"1",threshold:25},{name:"2",threshold:50},{name:"3"}],cy=n(109),uy=n(161),ly=ou($_),dy=Fc("doc-card-image-view"),py=120,fy="#FFFFFF",my=["title","text"],hy="regular-ysans",vy=Math.min(parseFloat(lb.TOUCH_FEED_MAX_WIDTH),360-2*parseFloat(lb.TOUCH_FEED_PADDING_LARGE))-2*parseFloat(uy.a),gy=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={title:tb(n.props.title,py),isSingleLineText:sb(n.props.text,vy,{fontSize:cy.a,fontFamily:hy},1)},n._updateCardLinesCount=function(){var e=n.props,t=e.isDesktop,r=e.isIntersecting,i=e.isObserving;if(!t&&i&&!r){var o=n._textContent.clientWidth,a=getComputedStyle&&getComputedStyle(n._textContent),s=a&&a.fontFamily&&a.fontFamily.split(", ")[0]||hy,c=sb(n.props.text,o,{fontSize:cy.a,fontFamily:s},1);n.setState({isSingleLineText:c})}},n._textContentRef=function(e){return n._textContent=e},n._titleClampRef=function(e){return n._titleClamp=e},n._textClampRef=function(e){return n._textClamp=e},n._onResize=$i(function(){n._updateClamp(),n._updateCardLinesCount()},Sf),n._getImageUrl=function(){var e=n.props,t=e.image;return e.imageSquared||t},n._renderBlurredPreviewViewElem=function(){var e="data:image/png;base64,"+(n.props.blurredPreview||"");return f.a.createElement("div",{className:dy("preview"),style:{backgroundImage:"url("+e+")"}})},n._renderImageElem=function(e){var t={backgroundImage:"url("+n._getImageUrl()+")"};return f.a.createElement("div",{className:dy("image",{"is-loaded":e}),style:t})},n._renderTitle=function(){var e=n.props,t=e.isDesktop,r=e.titleRef,i=n.state.title;return t?f.a.createElement(ty,{title:n.props.title,ref:r}):f.a.createElement(Lu,{className:dy("title"),withAutoClamp:!1,domRef:r,ref:n._titleClampRef,component:Fd},i)},n._renderReadFade=function(){var e=n.props,t=e.isDesktop,r=e.read;if(t)return null;var i=Kd(fy).join(),o=n._getColors().cardColorRgb,a=r?i:o,s={backgroundImage:"linear-gradient(to top,\n                rgba("+a+",1) 0%,\n                rgba("+a+",1) 50%,\n                rgba("+a+",0.7) 70%,\n                rgba("+a+",0.5) 100%\n            )"};return f.a.createElement("div",{className:dy("fade"),style:s})},n._renderHoverMask=function(){var e={backgroundColor:n._getColors().hoverColor};return f.a.createElement("div",{className:dy("hover-mask"),style:e})},n._renderFeedback=function(){var e=n.props.renderFeedback;return e?e():null},n._renderHeader=function(){return f.a.createElement(ay,qt({},n.props,{className:dy("header")}))},n._renderClickable=function(){var e=n.props,t=e.onClick,r=e.link;return f.a.createElement(_d,{className:dy("clickable"),onClick:t,href:r})},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(function(){e._updateClamp(),e._updateCardLinesCount()}):(this._updateClamp(),this._updateCardLinesCount())},n.componentWillReceiveProps=function(e){this.setState({title:tb(e.title,py)})},n.componentDidUpdate=function(e,t){var n=this;(my.some(function(t){return e[t]!==n.props[t]})||this.state.isSingleLineText!==t.isSingleLineText)&&this._updateClamp(),this._updateCardLinesCount()},n._getColors=function(){var e=this.props,t=e.cardColors,n=e.read,r=e.mainColor,i=e.isDesktop;if(r){var o=Jd(r),a=o.text,s=o.card,c=o.isDarkImage,u=Kd(s).join();return{hoverColor:c?"#000000":fy,textColor:n&&!i?"#000000":a,cardColor:s,cardColorRgb:u}}var l=t?t.card:fy,d=Kd(l).join(),p=!n&&t?t.text:"#000000";return{hoverColor:Jd(l).isDarkImage?"#000000":fy,textColor:p,cardColor:l,cardColorRgb:d}},n._shouldRenderText=function(){return!J_(this.props.type)&&this.props.text},n._updateClamp=function(){var e=this;(this._shouldRenderText()&&this._textClamp?this._textClamp.clamp():Promise.resolve()).then(function(){return e._titleClamp&&e._titleClamp.clamp()})},n._renderFadeImage=function(){var e=this.props.isDesktop,t={backgroundImage:jr(this._getColors().cardColorRgb,ri(e)),height:""},n=this._getImageUrl();return f.a.createElement("div",{className:dy("image-container")},f.a.createElement(fm,{imageUrl:n,renderImage:this._renderImageElem,renderPlaceholder:this._renderBlurredPreviewViewElem}),f.a.createElement("div",{className:dy("image-fade"),style:t}))},n._renderBlurImage=function(){var e=this.props,t=e.image,n=e.blurredPreview,r=e.cardBackgroundImage,i=e.cardBackgroundWhiteImage,o=e.read,a=this._getColors().cardColor;return f.a.createElement(vm,{theme:"white",image:t,blurredPreview:n,cardBackgroundImage:r,cardBackgroundWhiteImage:i,isRead:o,isBlurred:o,size:"small",color:a,aspectRatioMode:"tall"})},n._renderImage=function(){switch(this._getRenderType()){case"fade":return this._renderFadeImage();case"blur":return this._renderBlurImage()}},n._renderContent=function(){var e=this.props,t=e.text,n=e.isIntersecting,r=t&&!this.state.isSingleLineText;return f.a.createElement(wf,{isIntersecting:n,onResize:this._onResize},f.a.createElement("div",{className:dy("content")},f.a.createElement("div",{className:dy("text-content"),ref:this._textContentRef},this._renderTitle(),this._shouldRenderText()?f.a.createElement(Lu,{className:dy("text"),withAutoClamp:!1,minLineCount:r?2:1,fitToSpace:!0,ref:this._textClampRef},t):null),this._renderSourceName()))},n._renderSourceName=function(){var e=this.props,t=e.feedLink,n=e.logger,r=e.domainTitle,i=e.commentsCount,o=e.feedbackMittensProps,a=this._getColors().textColor,s=dy("source-name",{with_counter:i>=0&&o.isEnabled}),c={textColor:a,name:r};return f.a.createElement("div",{className:s},f.a.createElement(V_,{link:t,logger:n},f.a.createElement(U_,c)))},n._renderMittens=function(e){void 0===e&&(e=null);var t=this.props,n=t.feedbackMittensProps,r=t.onDislike,i=t.moveDislike,o=t.noDislike;if(!n.isEnabled)return null;var a=this._getColors().textColor,s=Object.assign({},n,{color:a,onDislike:r,onlyLike:i||o,type:e});return f.a.createElement("div",{className:dy("mittens",{type:e})},f.a.createElement(j_,s))},n._renderSubscribeButton=function(){var e=this.props,t=e.feedbackSubscribeProps,n=e.logger,r=e.isMobile,i=t.hasSubscribeButton,o=this._getColors().textColor,a={borderColor:o,color:o,opacity:.7},s=Object.assign({},t,{style:a,isVisible:i,logger:n,isMobile:r});return f.a.createElement("div",{className:dy("subscribe-button")},f.a.createElement(Bg,s))},n._getRenderType=function(){var e=this.props,t=e.type,n=e.text;if(J_(t))return"fade";var r=!n,i=n&&this.state.isSingleLineText;return r||i?"fade":"blur"},n._renderCommentsCounter=function(){var e=this.props,t=e.commentsCount,n=e.allCommentsLink,r=e.logger,i=e.isMobile,o=e.feedbackMittensProps,a=e.read,s=e.onClick,c=e.isLowResolutionDevice,u=this._getColors(),l=u.textColor,d=u.cardColor,p=u.readColorRgb;return f.a.createElement(ly,{textColor:a?p:d,balloonColor:l,link:n,count:t,logger:r,isTouch:i,isCardImage:!0,feedbackMittensIsDisabled:!o.isEnabled,onClick:s,isLowResolutionDevice:c})},n._renderCommentsCounterForPerformanceExp=function(){var e=this.props,t=e.isPerformanceExp,n=e.commentsCount,r=e.allCommentsLink,i=e.logger,o=e.isMobile,a=e.feedbackMittensProps,s=e.read,c=e.onClick,u=e.isLowResolutionDevice;if(!t)return null;var l=this._getColors(),d=l.textColor,p=l.cardColor,m=l.readColorRgb;return f.a.createElement("div",{style:{display:"none"}},f.a.createElement($_,{textColor:s?m:p,balloonColor:d,link:r,count:n,logger:i,isTouch:o,isCardImage:!0,isVisible:!1,feedbackMittensIsDisabled:!a.isEnabled,onClick:c,isLowResolutionDevice:u}))},n.render=function(){var e=this.props,t=e.feedback,n=e.image,r=e.read,i=e.type,o=e.isDesktop,a=e.columnCount,s=e.isDark,c=e.isRtbFitted,u=e.isExtendFeedbackPopupExp,l=e.feedbackSubscribeProps,d=e.isLetterSpacingExp,p=e.isBigLetterSpacingExp,m=e.withBlackoutFilter,h=void 0===m||m,v=this._getRenderType(),g=this._getColors(),b=g.textColor,_=g.cardColor,y=function(e,t){for(var n={length:e.length,longestWordLength:nb(e)},r=0;r<t.length;r++){var i=t[r];if(ab(i,n))return i.name}return null}(this.state.title,sy),E=l.hasSubscribeButton,k=dy({read:r,type:i,feedback:t,image:Boolean(n),renderType:v,fontSize:y,isDesktop:o,columns:a,isDark:s,isLetterSpacingExp:d,isBigLetterSpacingExp:p,rtbFitted:c,hasSubscribeButton:E&&!o}),C={color:b,backgroundColor:_};return f.a.createElement("div",{className:k,style:C},this._renderClickable(),this._renderImage(),this._renderReadFade(),this._renderHoverMask(),this._renderContent(),this._renderHeader(),this._renderCommentsCounter(),this._renderCommentsCounterForPerformanceExp(),this._renderMittens(),this._renderSubscribeButton(),this._renderFeedback(),u?this._renderMittens("popup"):null,h&&f.a.createElement(Wp,null))},t}(p.PureComponent),by=50,_y=250,yy=Fc("doc"),Ey=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={shouldHighlight:!1},n._containerRef=Object(p.createRef)(),n._onClick=function(){var e=n.props,t=e.id,r=e.needSimilar,i=e.feedback,o=e.similarLink,a=e.requestSimilar,s=e.itemMittensJump,c=e.docClick,u=e.docRead,l=e.shouldAskUserQuestion,d=e.shouldScrollOnOpenCard,p=e.insertUserQuestion,f=(e.getExport,e.disableScrollToCard);d&&n._scrollToElement({shouldDisableScrollToFirstRow:!1,disableScroll:f}),c(t),l?p(t):r&&a(t,o),$g().then(function(){jn(500).then(function(){return u(t)}),i||jn(1500).then(function(){return s(t,!0)}).then(function(){return jn(1e3)}).then(function(){return s(t,!1)})})},n._onDislike=function(){var e=n.props,t=e.id,r=e.needSimilar,i=e.removeChildItem;r&&i(t)},n._setPackShown=function(){var e=n.props,t=e.packId,r=e.cacheId;e.zenApi.packShown(t,r)},n._sendShowStat=function(){var e=n.props,t=e.id,r=e.docShow,i=e.pixels,o=(e.columnCount,e.zenLogger);r(t),i&&i.forEach(function(e){var t=new Image;t.onerror=function(){return o.error("Error while calling pixel (desktop); "+e)},t.src=e}),n._setPackShown()},n._sendShortStat=function(){var e=n.props,t=e.id;(0,e.docShort)(t)},n._scrollToElement=function(e){var t=e=e||{},r=t.animate,i=void 0!==r&&r,o=t.highlight,a=void 0!==o&&o,s=t.offsetTop,c=void 0===s?by:s,u=t.disableScroll,l=void 0!==u&&u,d=n._containerRef.current;if(!d||l||0===n.props.rowIndex&&e.shouldDisableScrollToFirstRow)return Promise.resolve();n.state.shouldHighlight&&n.setState({shouldHighlight:!1});var p=Fo(d);return jo.scrollTo({top:p-c,animate:i}).then(function(){if(a)return jn(_y).then(function(){n.setState({shouldHighlight:!0})})})},n._onFeedbackClick=function(e){e.preventDefault(),e.stopPropagation()},n._renderFeedback=function(){var e=n.props,t=e.logger,r=e.feedback,i=e.feedbackProps,o=e.mainColor,a=e.isExtendFeedbackPopupExp;return i.isEnabled&&(r&&"liked"!==r||a)?a?f.a.createElement(A_,qt({mainColor:o,className:yy("feedback-popup-view"),logger:t},i,{theme:"white"})):f.a.createElement("div",{className:yy("feedback-wrapper"),onClick:n._onFeedbackClick},f.a.createElement(A_,qt({logger:t},i))):null},n._renderNarrativeCard=function(){var e=n.props,t=e.cardColors,r=(e.read,e.mainColor),i=n.state.shouldHighlight,o=Object.assign({},n.props,{shouldHighlight:i,onClick:n._onClick,onDislike:n._onDislike,renderFeedback:n._renderFeedback,containerRef:n._containerRef,isDesktop:!0,isDark:Zd({cardColors:t,mainColor:r})});return f.a.createElement(gy,qt({withBlackoutFilter:!1},o))},t||qn(n)}Gt(t,e);var n=t.prototype;return n._getToothType=function(){var e=this.props,t=e.rowIndex,n=e.teethType,r=e.isTeethEnabled;if(0===t&&r)return n},n._renderDocCard=function(){var e=Object.assign({},this.props,{shouldHighlight:this.state.shouldHighlight,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return f.a.createElement(iy,e)},n._shouldPromoCardExist=function(){var e=this.props;return e.rowIndex<e.promoCardRowsCount&&this._containerRef&&this._containerRef.current},n._renderToothCard=function(e){var t=this.props,n=t.isIntersecting,r=(t.intersectionRatio,Object.assign({},this.props,{isIntersecting:n,shouldHighlight:this.state.shouldHighlight,view:e,source:this.props.domain,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef}));return f.a.createElement(Qn,{isVisible:n,onShow:this._sendShortStat,timeout:500,shouldResetOnVisibilityChange:!0},f.a.createElement(Xg,r))},n._emitCard=function(){var e=this.props,t=e.statEvents,n=e.bulkParams,r=e.rowIndex,i=e.itemIndexInRow,o=e.domainTitle,a=e.title,s=e.itemOrder,c=e.id,u=e.zenApi,l=e.outputBus,d={rowIndex:r};this._shouldPromoCardExist()&&l.emit("promoCard",{id:c,scrollTo:this._scrollToElement,domainTitle:o,title:a,itemIndexInRow:i,rowIndex:r,index:s,container:this._containerRef.current,sendPreviewShow:u.logBulkEvent.bind(u,{event:t.show_teaser,bulkParams:n,statMeta:d}),sendPreviewClick:u.logBulkEvent.bind(u,{event:t.click_teaser,bulkParams:n,statMeta:d})})},n._invalidatePromoCard=function(){var e=this.props,t=e.outputBus,n=e.id;this._shouldPromoCardExist()&&t.emit("invalidatePromoCard",{id:n})},n.componentDidMount=function(){this._emitCard()},n.render=function(){var e=this.props,t=e.isVisible,n=e.type,r=(e.packId,e.exportRid,this._getToothType()),i=r?this._renderToothCard(r):n===me.NARRATIVE?this._renderNarrativeCard():this._renderDocCard();return i=f.a.createElement(Qn,{isVisible:t,onShow:this._sendShowStat},i)},n.componentWillUnmount=function(){this._invalidatePromoCard()},t}(p.PureComponent),ky={docShow:sp,docShort:cp,docClick:up,docRead:lp,requestSimilar:Yo,removeChildItem:Zo,itemMittensJump:Xu,insertUserQuestion:Jo};var Cy,wy,Sy,xy,Oy=bs(function(e){return{zenApi:e.zenApi,zenLogger:e.zenLogger,outputBus:e.outputBus}})(X(function(){var e=Mi(),t=qi(),n=Yi(),r=Zi(),i=Sn();return function(o,a){var s=a.id,c=a.rowIndex,u=a.zenApi,l=Ur(o,s),d=o.params,p=d.product,f=d.libType,m=Ir(o),h=e(Object.assign({},l,{rowIndex:c,zenApi:u})),v=t(o,s),g=n(o,s),b=r(o,s),_=Rr(o),y=Or(o),E=mr(o),k=E.isImageLazyLoadEnabled,C=E.isRtbFitted,w=E.isLetterSpacingExp,S=E.isBigLetterSpacingExp,x=E.rezenExtendFeedback,O=E.oldCardsPerformanceTest,R=Gr(o),I=Sr(o),T=Boolean(Vi(o,s)),N=Wr(o,s),A=xr(o),P=o.yabro&&o.yabro.exportRid,L=i(o,s),M=Xd(o,s),D=x.isPopup,B=ei(o),j=ni(o);return Object.assign({product:p,isTeethEnabled:_,teethType:y,theme:m,needSimilar:I,logger:h,feedbackProps:v,feedbackMittensProps:g,feedbackSubscribeProps:b,libType:f,isImageLazyLoadEnabled:k,columnCount:R,shouldAskUserQuestion:T,itemOrder:N,shouldScrollOnOpenCard:A,exportRid:P,isRtbFitted:C,isLetterSpacingExp:w,isBigLetterSpacingExp:S},l,{source:L,commentsCount:M,isExtendFeedbackPopupExp:D,isWhiteMordaDesktop:B,isPerformanceExp:O,promoCardRowsCount:j})}},ky)(Ey)),Ry=((Cy={})[me.DOC]=Oy,Cy[me.NARRATIVE]=Oy,Cy[me.GIF]=tp,Cy[me.DIRECT]=Np,Cy[me.SIMILAR]=zf,Cy[me.ICEBOARDING_GRID]=zp,Cy[me.HINT_EULA]=ap,Cy[me.HINT_PERSONAL]=p_,Cy[me.CARD_PLACEHOLDER]=qf,Cy[me.PLACEHOLDER]=qf,Cy[me.USER_QUESTION]=$f,Cy[me.SIMILAR_INTERESTS]=nm,Cy[me.FEATURING_PROMO]=ah,Cy[me.FEATURING_CAROUSEL]=fv,Cy[me.PERSONAL_CAROUSEL]=Lv,Cy[me.CONTENT_CAROUSEL]=_g,Cy[me.COMMENT]=dg,Cy[me.PROFILE_ACTIVITY_ONBOARDING]=fg,Cy),Iy=((wy={})[me.DOC]=rm(Oy),wy[me.NARRATIVE]=rm(Oy),wy[me.GIF]=rm(tp),wy),Ty=Fc("feed"),Ny=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={hasError:!1},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidCatch=function(e){var t=this.props,n=t.item,r=t.zenLogger;this.setState({hasError:!0}),Eg({item:n,error:e,zenLogger:r})},n._maybeRenderFeedItemHeader=function(){var e=this.props,t=e.isActivityFeed,n=e.size,r=e.item,i=r.id,o=r.type;return t&&o!==me.PROFILE_ACTIVITY_ONBOARDING?f.a.createElement("div",{className:Ty("item-header",{size:n})},f.a.createElement(Fv,{id:i})):null},n.render=function(){if(this.state.hasError)return null;var e=this.props,t=e.isVisible,n=e.isIntersecting,r=e.rowIndex,i=e.scrollToID,o=e.itemIndexInRow,a=e.intersectionRatio,s=e.item,c=s.id,u=s.type,l=s.size,d=s.ad,p=e.styles.feedItem,m=e.disableScrollToCard,h=d&&(l===he.SMALL||d.isBig)&&Iy[u]||Ry[u];if(!h)return null;var v={zenScrollToTarget:i===c,heightFree:u===me.COMMENT,size:l},g={id:c,size:l,ad:d,rowIndex:r,itemIndexInRow:o,isVisible:t,isIntersecting:n,intersectionRatio:a,disableScrollToCard:m};return f.a.createElement("div",{className:Ty("item-wrap",{size:l})},this._maybeRenderFeedItemHeader(),f.a.createElement("div",{className:Ty("item",v),style:p},f.a.createElement(h,g)))},t}(p.PureComponent),Ay=Fc("feed"),Py=function(e){function t(){return e.apply(this,arguments)||this}return Gt(t,e),t.prototype.render=function(){var e=this.props,t=e.row,n=e.rowIndex,r=e.rootRef,i=e.scrollToID,o=e.isVisible,a=e.isIntersecting,s=e.styles,c=e.intersectionRatio,u=e.isActivityFeed,l=e.zenLogger,d=e.disableScrollToCard,p=e.isUnifiedCardsEnabled,m=t.hasPlaceholder,h=p?g_:Ny,v=s.feedRow;return m&&(v=Object.assign({},v,{marginBottom:0})),f.a.createElement("div",{className:Ay("row"),ref:r,style:v},t.map(function(e,t){return f.a.createElement(h,{key:e.id,item:e,rowIndex:n,itemIndexInRow:t,scrollToID:i,isVisible:o,isIntersecting:a,intersectionRatio:c,styles:s,isActivityFeed:u,zenLogger:l,disableScrollToCard:d})}))},t}(p.PureComponent),Ly=(n(335),Fc("feed-empty")),My=function(e){var t=e.size,n=void 0===t?"m":t,r=Xc().l10n;return f.a.createElement("h2",{className:Ly({size:n})},r("channel.channel.no_publications"))};Sy=xy=ou(Py);var Dy=function(e){function t(){return e.apply(this,arguments)||this}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onChange(null,this.props)},n.componentDidUpdate=function(e){this.props.onChange(e,this.props)},n.render=function(){var e=this.props,t=e.grid,n=e.displayedRowsNumber,r=e.className,i=e.scrollToID,o=e.styles,a=e.visibilityThreshold,s=e.setFeedListContainer,c=e.isActivityFeed,u=e.zenLogger,l=e.disableScrollToCard,d=e.isUnifiedCardsEnabled,p=t.rows.slice(0,n).map(function(e,t){var n=e.reduce(function(e,t){return e+t.id},""),r=0===t?xy:Sy;return f.a.createElement(r,{key:n,row:e,visibilityThreshold:a,rowIndex:t,scrollToID:i,styles:o,isActivityFeed:c,zenLogger:u,disableScrollToCard:l,isUnifiedCardsEnabled:d})});return f.a.createElement("div",{ref:s,className:r,style:o.feed},0===t.rows.length?f.a.createElement(My,null):p)},t}(p.PureComponent),By=(n(336),ou(function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._lastSessionId=null,t||qn(n)}Gt(t,e);var n=t.prototype;return n._updateIfIntersecting=function(e,t){var n=this;void 0===e&&(e=this._lastSessionId=Math.random()),void 0===t&&(t=1);var r=this.props,i=r.isIntersecting,o=r.onFeedEndReach;i&&e===this._lastSessionId&&t<=5&&o().then(function(r){r&&setTimeout(function(){n._updateIfIntersecting(e,t+1)},200)})},n.componentDidMount=function(){this._updateIfIntersecting()},n.componentDidUpdate=function(e){e.isIntersecting||this._updateIfIntersecting()},n.render=function(){var e=this.props.rootRef;return f.a.createElement("div",{className:"more-mark-wrapper"},f.a.createElement("div",{className:"more-mark",ref:e,style:{height:"600px"}}))},t}(p.PureComponent))),jy=Fc("feed"),Fy=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n._emitRowsChanged=function(e){var t=n.props.reportTeethUpdated,r=n.props.grid.rows,i=n.props,o=i.displayedRowsNumber,a=i.outputBus,s=e&&e.grid.rows,c=e&&e.displayedRowsNumber;(!e||s!==r||c!==o)&&(a.emit("rowsChanged",qr(r,o)),t(r))},n._onFeedListChange=function(e,t){var r=n.props,i=r.isCommentCountersEnabled,o=r.setCommentsCounts,a=r.privateBus;e&&e.grid===t.grid&&e.displayedRowsNumber===t.displayedRowsNumber||(a.emit("feedChanged",t.grid,t.displayedRowsNumber),i&&o(t.grid)),n._emitRowsChanged(e)},t||qn(n)}Gt(t,e);var n=t.prototype;return n.initScrollEvents=function(){var e=this.props,t=e.switchNotifiersOffsetModeTop,n=e.scrollToID;So(),n&&Eo({delta:30,direction:1,once:!0},function(){t(Fe.Normal)})},n.componentDidMount=function(){var e=this.props,t=e.grid,n=e.displayedRowsNumber,r=e.scrollToID,i=e.switchNotifiersOffsetModeTop,o=e.hasPinnedCarousel,a=e.zenLogger;this.initScrollEvents(),o?i(Fe.PinnedCarousel):r&&i(Fe.Header),function(e){var t=e.grid,n=e.displayedRowsNumber,r=e.zenLogger,i=function(e){var t=[];return t.concat.apply(t,e)}(t.rows.slice(0,n)),o=i.length<3,a=i.every(function(e){return e.ad||e.type===me.DIRECT});o?r.error({message:"Feed failed to mount",details:{reason:"Not enough cards",cardsNumber:i.length}},yg):a?r.error({message:"Feed failed to mount",details:{reason:"Only ads in feed"}},yg):r.log({message:"Feed successfully mounted"},yg)}({grid:t,displayedRowsNumber:n,zenLogger:a})},n.render=function(){var e=this.props,t=e.grid,n=e.columnCount,r=e.rubberyType,i=e.isAdsense,o=e.scrollToID,a=e.displayedRowsNumber,s=e.setFeedListContainer,c=e.styles,u=e.visibilityThreshold,l=e.drawMoreItems,d=e.isActivityFeed,p=e.isInFrame,m=e.isYabroMordaThirdExp,h=e.zenLogger,v=e.disableScrollToCard,g=e.isUnifiedCardsEnabled,b=e.isMordaDesktop,_=e.isRedesign,y=jy({columnCount:n,rubberyType:r||"null",isAdsense:i,isActivityFeed:d,isInFrame:p,isMordaDesktop:b,isYabroMordaThirdExp:m,isRedesign:_});return f.a.createElement(f.a.Fragment,null,f.a.createElement(Dy,{className:y,grid:t,displayedRowsNumber:a,scrollToID:o,onChange:this._onFeedListChange,setFeedListContainer:s,styles:c,visibilityThreshold:u,isActivityFeed:d,zenLogger:h,disableScrollToCard:v,isUnifiedCardsEnabled:g}),f.a.createElement(By,{onFeedEndReach:l}),f.a.createElement(iu,null))},t}(p.Component),Uy={switchNotifiersOffsetModeTop:di,drawMoreItems:function(){return function(e,t,n){var r=n.privateBus,i=t(),o=Fr(i),a=o.displayedRowsNumber,s=o.gridType,c=o.countRowsBeforeBlock,u=Kr(i).rows,l=a+Ae[s].rowDisplayStep,d=[];if(l>u.length?d.push(new Promise(function(t){e(Ko({onAfterPackInsert:t}))})):d.push(Promise.resolve(!1)),a<=u.length){var p=oi({privateBus:r});e($o(a<=c&&c<=l?c:l)),d.push(p(t()).then(function(){return!0}))}else d.push(Promise.resolve(!1));return Promise.all(d).then(function(e){var t=e[0],n=e[1];return t||n})}},setCommentsCounts:function(e,t){return void 0===e&&(e={}),void 0===t&&(t=[]),function(){var n=Pn(regeneratorRuntime.mark(function n(r,i,o){var a,s,c,u,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o.zenApi,s=e.elements,c=void 0===s?{}:s,u=[].concat(t),Object.keys(c).forEach(function(e){var t=c[e]&&c[e].commentsDocumentId;t&&!la.includes(t)&&(u.push(t),la.push(t))}),u.length){n.next=6;break}return n.abrupt("return",null);case 6:if(!ua(i()).enabled){n.next=13;break}return n.next=10,a.getCommentsInfos(u);case 10:l=n.sent,n.next=16;break;case 13:return n.next=15,a.getCommentsCounters(u);case 15:l=n.sent;case 16:l&&r({type:"SET_COMMENTS_COUNTS",payload:l});case 17:case"end":return n.stop()}},n)}));return function(e,t,r){return n.apply(this,arguments)}}()},reportTeethUpdated:function(){return function(){}}},zy=bs(function(e){return{zenLogger:e.zenLogger,outputBus:e.outputBus,privateBus:e.privateBus}})(X(function(){var e={};return function(t){var n=mr(t),r=n.visibilityThreshold,i=n.isCommentCountersEnabled,o=n.newCardsEnabled,a=t.shared.scrollToID,s=Fr(t).displayedRowsNumber,c=wr(t);return Object.assign({scrollToID:a,displayedRowsNumber:s,grid:Kr(t)},ti(t),{styles:t.params.styles||e,visibilityThreshold:r,isActivityFeed:c,hasPinnedCarousel:zr(t),isUnifiedCardsEnabled:o,isCommentCountersEnabled:i})}},Uy)(Fy)),Vy=(n(227),n(105)),Hy=(n(229),Fc("error-button-view")),Wy=function(e){var t=e.theme,n=void 0===t?"black":t,r=e.onClick,i=Xc().l10n;return f.a.createElement("div",{className:Hy({theme:n}),onClick:r},f.a.createElement("div",{className:Hy("icon")}),f.a.createElement("div",{className:Hy("text")},i("header.empty")))},Gy=(n(228),Fc("more-button-view")),qy=function(e){var t=e.isInfoVisible,n=void 0!==t&&t,r=e.theme,i=void 0===r?"black":r,o=e.onClick,a=Xc().l10n;return f.a.createElement("div",{className:Gy({isInfoVisible:n,theme:i})},f.a.createElement("div",{className:Gy("info")},f.a.createElement("a",{className:Gy("link"),href:"https://zen.yandex.com/about",target:"_blank",rel:"noreferrer noopener"})),f.a.createElement("div",{className:Gy("content"),onClick:o},f.a.createElement("div",{className:Gy("icon")}),f.a.createElement("div",{className:Gy("text")},a("v2.new_publications"))),f.a.createElement("div",{className:Gy("info-spacer")}))},Ky=(n(230),Fc("app-button-view")),Yy=function(e){var t=e.url,n=e.isYellow,r=e.onClose,i=Object(p.useState)(!1),o=i[0],a=i[1],s=Xc().l10n,c=Object(p.useCallback)(function(){a(!0)},[a]),u=Object(p.useCallback)(function(){a(!1)},[a]),l=Object(p.useCallback)(function(){r&&r()},[r]);return f.a.createElement("div",{className:Ky({isActive:o,isYellow:n}),onPointerDown:c,onPointerCancel:u,onPointerUp:u},f.a.createElement(_d,{className:Ky("link"),href:t,target:"_blank"},f.a.createElement("div",{className:Ky("logo")}),f.a.createElement("div",{className:Ky("text")},s("v2.open_in_app"))),f.a.createElement("div",{className:Ky("close"),onClick:l}))},Qy=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.onClose=function(){var e=n.props,t=e.closeTimeout,r=e.setShowTimeout,i=e.hideButton;r(!0,t),i()},t||qn(n)}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.checkTimeout()},n.render=function(){var e=this.props,t=e.isYellow,n=e.url;return e.isEnabled?f.a.createElement(Yy,{isYellow:t,isNewLogo:!0,url:n,onClose:this.onClose}):null},t}(p.PureComponent),Zy=X(function(e){var t=ci(e);return{isEnabled:t.isEnabled,isYellow:t.isYellow,url:t.url,closeTimeout:t.closeTimeout}},{checkTimeout:function(){var e=Number(si.a.get("app-btn-tmt2"))||0;return e&&e>Date.now()?{type:"SET_APP_BUTTON_TIMEOUT",payload:!0}:{type:"SET_APP_BUTTON_TIMEOUT",payload:!1}},setShowTimeout:function(e,t){void 0===t&&(t=0);var n=Date.now()+t,r=Math.max(t/1e3/60/60/24,1);return e&&si.a.set("app-btn-tmt2",n.toString(),{expires:r}),{type:"SET_APP_BUTTON_TIMEOUT",payload:e}},hideButton:li})(Qy),$y=Vy.header.height,Jy=Vy.zenOne.header.height,Xy=Fc("notifiers"),eE={s:200,m:248,l:352},tE=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={lastButton:void 0,currentButton:void 0},n.onMoreButtonClick=function(){var e=n.props,t=e.getMore,r=e.hideMoreButton,i=e.logMoreButtonClick,o=e.shouldRefreshFeed;i(),r(),t({insertOnTop:!0,onAfterPackInsert:Uo,shouldRefreshFeed:o})},n.onErrorMessageClick=function(){var e=n.props,t=e.getMore,r=e.hideErrorMessage;(0,e.logErrorButtonClick)(),t(),r()},t||qn(n)}Gt(t,e);var n=t.prototype;return n._addOffsetScrollEvents=function(){var e=this.props,t=e.switchNotifiersOffsetModeTop,n=e.isZenOneEnabled,r=e.pinnedCarouselSize;yo({scroll:r?eE[r]+30:(n?$y:Jy)-30,precise:!0},function(e){var n=e.state;t(0===n?r?Fe.PinnedCarousel:Fe.Header:Fe.Normal)})},n._addOffsetScrollEventsForRedesign=function(){var e=this.props.switchNotifiersOffsetModeTop;yo({scroll:0,precise:!0},function(t){t.state;e(Fe.Normal)})},n._addMoreButtonScrollEvents=function(){var e=this,t=this.props,n=t.isAppButtonEnabled,r=t.showMoreButton,i=t.hideMoreButton,o=t.moreButtonResponsiveness,a=t.hideAppButton,s=t.showAppButton;Eo({name:"ScrollUpEventName",delta:o,direction:-1,onceDebounce:!0},function(){e.props.needNotifiers&&(r(),a())}),Eo({name:"ScrollDownEventName",delta:o,direction:1,onceDebounce:!0},function(){e.props.needNotifiers&&(n&&s(),i())})},n._removeMoreButtonScrollEvents=function(){ko("ScrollUpEventName"),ko("ScrollUpEventName")},t.getDerivedStateFromProps=function(e,t){var n=e.position===ze.Top&&e.offsetModeTop===Fe.PinnedCarousel?void 0:e.currentButton;return n!==t.currentButton?{currentButton:n,lastButton:t.currentButton}:null},n.componentDidMount=function(){var e=this.props,t=e.needNotifiers,n=e.setNotifiersEnabled,r=e.inputBus;this._addOffsetScrollEvents(),t&&this._addMoreButtonScrollEvents(),r.on("zen-feed-show",function(){n(!0)}),r.on("zen-feed-hide",function(){n(!1)})},n.componentWillUnmount=function(){this._removeMoreButtonScrollEvents()},n.componentDidUpdate=function(e){var t=this.props.needNotifiers;t!==e.needNotifiers&&(t?this._addMoreButtonScrollEvents():this._removeMoreButtonScrollEvents())},n.render=function(){var e,t=this.props,n=t.position,r=t.withScrollbarFix,i=t.offsetModeTop,o=t.offsetModeBottom,a=t.theme,s=t.needInfoButton,c=t.needNotifiers,u=t.wrapperComponent,l=this.state,d=l.currentButton,p=l.lastButton,m=((e={})[He.More]=f.a.createElement(qy,{theme:a,isInfoVisible:s,onClick:this.onMoreButtonClick}),e[He.Error]=f.a.createElement(Wy,{theme:a,onClick:this.onErrorMessageClick}),e[He.App]=f.a.createElement(Zy,null),e),h=u,v=Object.keys(m).map(function(e){return f.a.createElement(h,{key:e,isDisabled:!c,isVisible:d===e,isSwitchAnimation:d===e?Boolean(p):Boolean(d),position:n,offsetModeTop:i,offsetModeBottom:o},m[e])});return r?f.a.createElement(Um,{className:Xy()},v):v},t}(p.PureComponent);tE.defaultProps={theme:Ve.Black,position:ze.Top,offsetModeTop:Fe.Normal,offsetModeBottom:Ue.Normal,moreButtonResponsiveness:30,needNotifiers:!0,isAppButtonEnabled:!1,needInfoButton:!1};var nE={getMore:Ko,showMoreButton:function(){return function(e,t){var n=t().notifiers,r=n.currentNotifierButton,i=n.isNotifiersDisabled;r===He.Error||i||e(ui(He.More))}},hideMoreButton:function(){return function(e,t){t().notifiers.currentNotifierButton===He.More&&e(ui(null))}},showAppButton:function(){return function(e,t){var n=t(),r=n.notifiers,i=r.currentNotifierButton,o=r.isAppButtonTimeout,a=r.isNotifiersDisabled;!ci(n).isEnabled||o||i===He.Error||a||e(ui(He.App))}},hideAppButton:li,switchNotifiersOffsetModeTop:di,hideErrorMessage:pi,setNotifiersEnabled:function(e){return{type:"SET_NOTIFIERS_ENABLED",payload:e}}},rE=bs(function(e){return{zenApi:e.zenApi,inputBus:e.inputBus}})(X(function(){var e=ji("notifiers.more","client_click"),t=ji("notifiers.error","client_click");return function(n,r){var i=r.zenApi,o=r.forcedTheme,a=Ar(n),s=kr(n),c=n.notifiers,u=c.notifiersOffsetModeTop,l=c.currentNotifierButton,d=e(n,i),p=t(n,i),f=Dr(n),m=mr(n),h=m.shouldRefreshFeed,v=m.notifiers,g=Pr(n),b=ci(n).isEnabled;return{theme:o||v.theme,offsetModeTop:u,offsetModeBottom:f,needNotifiers:g,isAppButtonEnabled:b,isNativeFeed:s,currentButton:l,isZenOneEnabled:a,logMoreButtonClick:d,logErrorButtonClick:p,shouldRefreshFeed:h,pinnedCarouselSize:n.pinnedCarousel.size}}},nE)(tE)),iE=(n(232),bs(function(e){return{zenApi:e.zenApi}})(X(function(){var e=Mi(),t=function(e){return e.pinnedCarousel},n=hv(t),r=mv(t);return function(i,o){var a=o.zenApi,s=t(i),c=r(i),u=n(i),l=e(Object.assign({},s,{zenApi:a}));return Object.assign({},s,{background:"white"===s.background?"transparent":s.background,items:c,hidden:u,logger:l})}})(Pv))),oE=Fc("zen-app-header-desktop"),aE=X(function(e){return Object.assign({hasPinnedCarousel:zr(e)},ti(e))})(function(e){var t=e.hasPinnedCarousel,n=e.columnCount,r=e.rubberyType,i=e.isAdsense,o=oE({columnCount:n,rubberyType:r,isAdsense:i});return t?f.a.createElement("div",{className:o},f.a.createElement(iE,{className:oE("pinned-carousel"),mode:"pinned-lib"})):null}),sE=(n(339),Fc("floating-links")),cE=X(function(e,t){var n=t.isProfileScreen,r=e.params,i=r.withFloatingLinks,o=r.countryCode,a=ti(e).columnCount,s=mr(e),c=s.rezenAdvertisersLink,u=s.rezenEnableAllChannelsLink,l=""!==c;return{countryCode:o,columnCount:a,advertisersLink:c,isVisible:!n&&i,allChannelsLink:e.links.all_channels_link?e.links.all_channels_link:"",enableAdvertisersLink:l,enableAllChannelsLink:u}})(function(e){var t=e.advertisersLink,n=e.allChannelsLink,r=e.isVisible,i=e.columnCount,o=e.enableAdvertisersLink,a=e.enableAllChannelsLink,s=e.countryCode,c=void 0===s?"":s,u=Xc().l10n;return r&&"ru"===c&&(o||a)?f.a.createElement("div",{className:sE({columnCount:i})},f.a.createElement("div",{className:sE("container")},o?f.a.createElement(_d,{className:sE("link"),href:t},u("desktop.advertisers_link")):null,a?f.a.createElement(_d,{className:sE("link"),href:n},u("channels.all_channels")):null)):null}),uE=(n(231),Fc("notifier-wrapper")),lE=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(i))||this,n.state={isHide:!1,isShow:!1,isSwitch:!1},t||qn(n)}return Gt(t,e),t.getDerivedStateFromProps=function(e,t){return e.isVisible!==t.isShow?e.isVisible?{isHide:!1,isShow:!0,isSwitch:e.isSwitchAnimation}:{isHide:!0,isShow:!1,isSwitch:e.isSwitchAnimation}:null},t.prototype.render=function(){var e=this.props,t=e.position,n=e.offsetModeTop,r=e.offsetModeBottom,i=e.isDisabled,o=e.children,a=this.state,s=a.isHide,c=a.isShow,u=a.isSwitch;return f.a.createElement("div",{className:uE({isShow:c,position:t,offsetModeTop:n,offsetModeBottom:r,isHide:s,isSwitch:u,isDisabled:i})},o)},t}(p.PureComponent);lE.defaultProps={position:ze.Top,offsetModeTop:Fe.Normal,offsetModeBottom:Ue.Normal,isSwitchAnimation:!1,isDisabled:!1};var dE,pE,fE=Fc("zen-page"),mE=function(e){function t(){return e.apply(this,arguments)||this}Gt(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.reachMetrikaGoal;e&&e("LIB_SHOWED")},n.render=function(){var e=this.props,t=e.theme,n=e.libType,r=e.notifiersPosition,i={theme:t,libType:n,browserBase:e.browserBase};return f.a.createElement("div",{className:fE(i)},f.a.createElement("div",{className:"zen-app"},r?f.a.createElement(rE,{wrapperComponent:lE,position:r}):null,f.a.createElement(aE,null),f.a.createElement(zy,null),f.a.createElement(cE,null)))},t}(p.Component),hE=X(function(e){var t=sr(e).zenlibBrowserBase;return{theme:Ir(e),libType:e.params.libType,notifiersPosition:e.params.notifiersPosition,browserBase:t}})(function(e){return function(t){var n=function(n){var r=n.disableMetrika,i=an(n,["disableMetrika"]),o=oe(function(e){return mr(e).disableMetrikaExp}),a=Boolean(r||o),s=Object(p.useCallback)(function(){var t=Pn(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Wn(e);case 4:t.sent.reachGoal(n);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),[a]);return f.a.createElement(t,qt({},i,{disableMetrika:a,reachMetrikaGoal:s}))};return n.displayName=ms("WithMetrikaGoal",t),Object(p.memo)(n)}}({id:50377519,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0})(mE)),vE={customUserFeedbackData:void 0,feedback:null,complaints:null,complaintsSendedAt:null},gE=function(e,t){switch(void 0===e&&(e=vE),t.type){case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{feedback:"liked"});case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{feedback:"disliked"});case"ITEM_FEEDBACK_BLOCK":return Object.assign({},e,{feedback:"blocked"});case"ITEM_FEEDBACK_CANCEL":return Object.assign({},e,{feedback:null,complaints:null});case"ITEM_COMPLAINTS_OPEN":return Object.assign({},e,{complaints:"opened"});case"ITEM_COMPLAINTS_SEND":return Object.assign({},e,{complaints:"sended",complaintsSendedAt:e.feedback});case"ITEM_COMPLAINTS_CANCEL":return Object.assign({},e,{complaints:null,complaintsSendedAt:null});case"ITEM_MITTENS_JUMP":var n=t.payload.isMittensJumping;return Object.assign({},e,{isMittensJumping:n});case"ITEM_FEEDBACK_ANSWER_TOGGLE":var r=t.payload,i=r.targetKey,o=r.questionType;if(!e.customUserFeedbackData)return e;var a=e.customUserFeedbackData.questions,s=(void 0===a?[]:a).findIndex(function(e){return e.type===o});if(s<0)return e;var c=["customUserFeedbackData","questions",s,"answers",i,"isChecked"],u=Se.get(e,c);return Se.set(e,c,!u);case"ITEM_FEEDBACK_ANSWERS_UNCHECK":if(!e.customUserFeedbackData)return e;var l=e.customUserFeedbackData.questions,d=(void 0===l?[]:l).findIndex(function(e){return"extended_dislike_feedback"===e.type});if(d<0)return e;var p=["customUserFeedbackData","questions",d,"answers"],f=(Se.get(e,p)||[]).map(function(e){return Object.assign({},e,{isChecked:!1})});return Se.set(e,p,f);default:return e}},bE={},_E=ka(gE,function(e,t){switch(void 0===e&&(e=bE),t.type){case"DOC_READ":return Object.assign({},e,{read:!0});case"DOC_CLICK":return Object.assign({},e,{subscribeTriggerEvent:"click"});case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{subscribeTriggerEvent:"feedback_more"});default:return e}}),yE=ka(gE,function(e,t){switch(void 0===e&&(e={}),t.type){case"VIDEO_READ":return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case"VIDEO_START":return Object.assign({},e,{started:!0,paused:!1});case"VIDEO_RESET":case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{started:!1,paused:!0});case"VIDEO_TOGGLE_MODAL":var n=t.payload,r=n.paused,i=n.isFullScreen;return Object.assign({},e,{started:!0,paused:r,isFullScreen:i});default:return e}}),EE=ka(gE,function(e,t){switch(t.type){case"CLOSE_CAROUSEL_ITEM":var n=e.items,r=e.hidden,i=t.payload.itemId,o=n.map(function(e){return e.id===i?Object.assign({},e,{hidden:!0}):e});return Object.assign({},e,{hidden:r||o.every(function(e){return e.hidden}),items:o});case"CLOSE_CAROUSEL":return Object.assign({},e,{hidden:!0});default:return e}}),kE=function(e,t){switch(e.type){case me.NARRATIVE:case me.DOC:case me.POST:case me.FEATURING_PROMO:return _E(e,t);case me.GIF:return yE(e,t);case me.FEATURING_CAROUSEL:case me.PERSONAL_CAROUSEL:case me.CONTENT_CAROUSEL:return EE(e,t);default:return e}},CE=function(e,t){return t.reduce(function(e,t){var n=t[0],r=t.slice(1);return Se[n].apply(Se,[e].concat(r))},e)},wE={gridType:fe.TWO_COLUMNS,items:{},itemsOrder:[],displayedRowsNumber:0,countRowsBeforeBlock:-1,isChildWindow:!1,isBlocked:!1},SE=function(e,t,n,r){void 0===r&&(r=!0);var i=e.indexOf(n),o=Number(r);if(-1===i)throw new Error("Array not contains item.");return e.slice(0,i+o).concat(t,e.slice(i+o))},xE=function(e,t,n){return SE(e,t,n,!0)},OE={isBodyScrollEnabled:!0,isVideoAutoplayEnabled:void 0,isOpenCardScrollEnabled:!0,smsTooltipVisible:!1,feedLoadingProgressVisible:!1,blockFeedBannerVisible:!1,isAdfoxSmartVisible:!1,isChildWindow:!1,feedsScrollPos:{}},RE={notifiersOffsetModeTop:Fe.Header,currentNotifierButton:null,isNotifiersDisabled:!1,isAppButtonTimeout:!0},IE={checkedSources:[]},TE=Vu("categories",function(e){return e.zenApi.getCategories()},function(e){return e.categories}),NE=(zu(function(){return function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.zenApi,e.t0=t,e.t1=TE.succeed,e.next=5,i.getCategories();case 5:e.t2=e.sent,e.t3={type:e.t1,payload:e.t2},(0,e.t0)(e.t3);case 8:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()}),function(e,t){return new Promise(function(n,r){e.then(n,r),setTimeout(function(){r(new Error("Request timeout."))},t)})}),AE=function(e){return{type:"suggest-set-filter",payload:e}},PE=function(e,t,n,r){void 0===n&&(n=Fu),void 0===r&&(r=1e3);var i=Uu(e,t,n),o=i.action,a=an(i,["action"]);return Object.assign({action:zu(o,r)},a)}("suggest",function(){var e=Pn(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.zenApi,""!==n){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.abrupt("return",NE(r?i.getBlockedSuggest(n):i.getSuggest(n),1e4));case 4:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),function(e){return e},500),LE=Object.assign({},PE,{action:function(e,t){return void 0===t&&(t=!1),function(n){n(AE(e)),n(PE.action(e,t))}},retryAction:function(e){return function(t,n){var r=n().search.filter;t(PE.action(r,e))}}}),ME=(zu(function(e,t){return void 0===t&&(t=!1),function(){var n=Pn(regeneratorRuntime.mark(function n(r,i,o){var a,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o.zenApi,""!==e){n.next=4;break}return r({type:LE.succeed,payload:void 0}),n.abrupt("return");case 4:return s=dE=NE(t?a.getBlockedSuggest(e):a.getSuggest(e),1e4),n.next=7,s;case 7:if(c=n.sent,s===dE){n.next=10;break}return n.abrupt("return");case 10:r({type:LE.succeed,payload:c});case 11:case"end":return n.stop()}},n)}));return function(e,t,r){return n.apply(this,arguments)}}()},500),Vu("category",function(e,t){return e.zenApi.getCategory(t)},function(e,t){return e.category[t]||{status:je.Pending}})),DE=(zu(function(e){return function(t,n,r){return r.zenApi.getCategory(e).then(function(n){t({type:ME.succeed,payload:n,meta:e})})}}),function(e,t){return ft(t).reduce(function(e,n){return e[n]=["id","status","subscribers","feedback","isUnsubscribedInCurrentSession","isSubscribedInCurrentSession","isUnblockedInCurrentSession","complaintReasons"].reduce(function(e,r){var i;return void 0!==t[n][r]?Object.assign({},e,((i={})[r]=t[n][r],i)):e},Object.assign({},e[n])),e},Object.assign({},e))}),BE=ka(function(e,t){switch(void 0===e&&(e={}),t.type){case"SOURCE_MERGE":var n,r=t.payload;return r.status===Nt.Ok?DE(e,((n={})[r.source.id]=r.source,n)):e;case Ft:case jt:case"USER_FOLLOWERS_REQUEST":if(t.payload.status!==je.Success)return e;var i=t.payload.value,o=t.__data__&&t.__data__.selfUserId,a=!([Ft,jt].includes(t.type)&&t.payload.id===o),s=a?e:function(e,t){return ft(e).reduce(function(n,r){return n[r]=t(e[r]),n},{})}(e,function(e){return"not_subscribed"===e.status?e:Object.assign({},e,{status:"not_subscribed"})});if(i){var c=i.map(function(e){var t=a?s[e.id]?s[e.id].status:"not_subscribed":e.status;return Object.assign({},e,{status:t})}),u=mt(c,function(e){return e.id});return DE(s,u)}return s;case"USER_PROFILE_REQUEST":var l;if(t.payload.status!==je.Success)return e;var d=t.payload.value.source,p=e[d.id]?e[d.id].status:"not_subscribed";return DE(e,((l={})[d.id]=Object.assign({},d,{status:p}),l));case ME.succeed:case TE.succeed:var f=t.payload.sources;if(f){var m=mt(f,function(e){return e.id});return DE(e,m)}return e;case LE.succeed:var h=t.payload;if(h){var v=mt(h,function(e){return e.id});return DE(e,v)}return e;case"APPLY_EXPORT_DATA":var g=t.payload.exportData,b=g.onboardingInterests,_=g.pinnedCarousel,y=b?b.sources:[],E=_?_.items.map(function(e){return e.source}):[],k=[].concat(y,E),C=mt(k,function(e){return e.id});return DE(e,C);case"VIDEO_MODAL_SET_SOURCES":var w=t.payload.sources;return DE(e,void 0===w?[]:w);case"RECEIVE_ITEMS":var S=t.payload.items,x=(void 0===S?[]:S).reduce(function(t,n){return n.type!==me.FEATURING_CAROUSEL&&n.type!==me.PERSONAL_CAROUSEL||n.items.forEach(function(n){var r=n.source,i=n.bulkParams,o=n.statEvents;r&&(e[r.id]?t[r.id]=Object.assign({},e[r.id],r,{statEvents:o,bulkParams:i}):t[r.id]=Object.assign({},r,{statEvents:o,bulkParams:i}))}),n.type===me.CONTENT_CAROUSEL&&n.items.forEach(function(n){var r=n.source,i=n.statEvents,o=n.bulkParams;r&&(e[r.id]?t[r.id]=Object.assign({},e[r.id],r,{statEvents:i,bulkParams:o}):t[r.id]=Object.assign({},r,{statEvents:i,bulkParams:o}))}),"source"in n&&n.source&&!e[n.source.id]&&!t[n.source.id]?(t[n.source.id]=Object.assign({},n.source,{statEvents:"statEvents"in n.source&&n.source.statEvents||n.statEvents,bulkParams:"bulkParams"in n.source&&n.source.bulkParams||n.bulkParams}),t):t},{});return DE(e,x);case"RECEIVE_SIMILAR":var O=t.payload.similar,R=(void 0===O?{}:O).items,I=(void 0===R?{}:R).sources,T=(void 0===I?[]:I).reduce(function(e,t){return e[t.id]=Object.assign({},t),e},{});return DE(e,T);default:return e}},function(e,t){return function(n,r){void 0===n&&(n={});var i=e(r);if(void 0===i)return n;var o,a=t(n[i],r);return n[i]!==a?Object.assign({},n,((o={})[i]=a,o)):n}}(function(e){return e.payload&&e.payload.id},function(e,t){switch(t.type){case"SOURCE_SUBSCRIBE":return Object.assign({},e,{status:"subscribed",subscribers:(e&&e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case"SOURCE_UNSUBSCRIBE":return Object.assign({},e,{status:"not_subscribed",subscribers:(e&&e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case"SOURCE_BLOCK":return Object.assign({},e,{status:"blocked"});case"SOURCE_UNBLOCK":return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});case"SOURCE_DISLIKE":return Object.assign({},e,{feedback:"disliked"});case"SET_COMPLAINT_REASONS":return Object.assign({},e,{complaintReasons:t.payload.reasons});default:return e}})),jE={openedItemId:null,videoFeed:{}},FE={},UE={status:Nt.Feed},zE=function(e){return function(t){return void 0===t?"function"==typeof e?e():e:t}},VE=zE(((pE={all_channels_link:null,login_tmpl:null,logout_tmpl:null})[i.Onboarding]=null,pE[i.Export]=null,pE[i.More]=null,pE[i.Bulk]=null,pE[i.Subs]=null,pE[i.Profile]=null,pE[i.Blocked]=null,pE[i.Preferences]=null,pE[i.Subscribers]=null,pE[i.Categories]=null,pE[i.Category]=null,pE[i.Suggest]=null,pE[i.BlockedSuggest]=null,pE[i.VideoRecommend]=null,pE[i.CountryLang]=null,pE[i.CommentsCounter]=null,pE[i.CommentsInfos]=null,pE[i.SocialActivityFeed]=null,pE[i.SocialInterestsFeedback]=null,pE[i.ClientLogs]=null,pE[i.PublisherConfig]=null,pE[i.SendAppLinkSms]=null,pE[i.SocialProfile]=null,pE[i.SocialProfileEdit]=null,pE[i.ProfileOnboardingShown]=null,pE[i.ProfileCompleteOnboarding]=null,pE[i.ProfileDeactivate]=null,pE[i.ProfileCancelDeactivate]=null,pE[i.CurrentUserInterests]=null,pE)),HE=zE({host:"https://zen.yandex.ru/",clid:void 0,countryCode:null,integration:null,product:"",tld:"ru",lang:"ru",isIceStart:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:[],bannerStats:null,bulk:{},withFloatingLinks:Boolean(!1),isTeethEnabled:void 0,isMobile:void 0,isSpecificCardRequest:void 0,isZenKit:void 0,isWebview:void 0,areLinksDisabled:void 0,currentUrl:void 0,adDomain:"",isSpaApp:!1}),WE=zE({scrollToID:null}),GE=zE({}),qE=(zE({}),zE({})),KE={lastSawFeed:{zenApp:null,zenAppIos:null},serverTimeDiff:0,serverTime:null},YE={id:null,type:null,size:null,title:null,subtitle:null,background:null,items:[],statEvents:null,bulkParams:null,showMoreLink:null,searchLink:null},QE=function(e){return function(t,n){switch(n.type){case"MERGE_STATE_BRANCH":var r,i=n.payload,o=i.branchName,a=i.branchState,s=ft(a).reduce(function(e,t){return void 0!==a[t]&&(e[t]=a[t]),e},{});return Object.assign({},t,((r={})[o]=Object.assign({},t[o],s),r));default:return e(t,n)}}}(Cs({feed:function(e,t){switch(void 0===e&&(e=wE),t.type){case"INSERT_ITEM_AFTER":var n=t.payload,r=n.item,i=n.afterId;return CE(e,[["set",["items",r.id],r],["set","itemsOrder",function(e){return xE(e,r.id,i)}]]);case"REMOVE_ITEM":var o=t.payload.itemId,a=e.itemsOrder.indexOf(o);return CE(e,[["del",["items",o]],["del",["itemsOrder",a]]]);case"RECEIVE_ITEMS":var s=t.payload,c=s.items,u=s.insertOnTop,l=s.shouldRefreshFeed,d=Object.keys(e.items),p={},f=[];if(c.forEach(function(e){var t;d.includes(e.id)||f.includes(e.id)?(console.warn("Non unique item: "+e.id+", "+("title"in e?e.title:"no title")),t=e.id+"_"+Date.now()):t=e.id,p[t]=Object.assign({},e,{id:t}),f.push(t)}),l)return Object.assign({},e,{items:p,itemsOrder:f});var m=Object.assign({},e.items,p),h=u?f.concat(e.itemsOrder):e.itemsOrder.concat(f);return Object.assign({},e,{items:m,itemsOrder:h});case"REQUEST_SIMILAR":case"RECEIVE_SIMILAR":var v=["items",t.payload.itemId,"isSimilarRequested"],g="REQUEST_SIMILAR"===t.type;return Se.set(e,v,g);case"LINK_CHILD_ITEM":var b=t.payload,_=b.itemId,y=b.childItemId;return CE(e,[["set",["items",_,"childItemId"],y],["set",["items",y,"parentId"],_]]);case"UNLINK_CHILD_ITEM":var E=t.payload.itemId,k=e.items[E].childItemId;return CE(e,[["del",["items",E,"childItemId"]],["del",["items",k,"parentId"]]]);case"REPORT_AD_DIDNT_LOAD":var C=t.payload.itemId;return CE(e,[["set",["items",C,"adDidntLoad"],!0]]);case"ANSWER_USER_QUESTION":var w=t.payload,S=w.id,x=w.parentId;return CE(e,[["set",["items",S,"isAnswered"],!0],["set",["items",x,"isUserQuestionAnswered"],!0]]);case"SET_GRID_TYPE":var O=t.payload.gridType;return Object.assign({},e,{gridType:O});case"SET_DISPLAYED_ROWS_NUMBER":var R=t.payload.displayedRowsNumber;return Object.assign({},e,{displayedRowsNumber:R});case"CLEAR_FEED":return wE;case"SET_COUNT_ROWS_BEFORE_BLOCK":var I=t.payload.countRowsBeforeBlock;return Object.assign({},e,{countRowsBeforeBlock:I});default:if(!("payload"in t&&t.payload&&"object"==typeof t.payload))return e;var T="id"in t.payload&&t.payload.id,N="ids"in t.payload&&t.payload.ids;if("string"==typeof T){var A=e.items[T];if(!A)return e;var P=kE(A,t);return A!==P?Se.set(e,["items",T],P):e}if(Array.isArray(N)){for(var L=e.items,M={},D=!1,B=0;B<N.length;B++){var j=N[B];if("string"==typeof j){var F=L[j];F&&F!==(M[j]=kE(F,t))&&(D=!0)}}return D?Object.assign({},e,{items:Object.assign({},L,M)}):e}return e}},iface:function(e,t){switch(void 0===e&&(e=OE),t.type){case"SET_IS_CHILD_WINDOW":return Object.assign({},e,{isChildWindow:t.payload});case"SET_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:t.payload});case"SET_VIDEO_AUTOPLAY":return Object.assign({},e,{isVideoAutoplayEnabled:t.payload});case"SET_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:t.payload});case"SET_FEED_LOADING_PROGRESS_VISIBLE":var n=t.payload;return Object.assign({},e,{smsTooltipVisible:!1,feedLoadingProgressVisible:Boolean(n)});case"SET_SMS_TOOLTIP_VISIBLE":var r=t.payload;return Object.assign({},e,{smsTooltipVisible:Boolean(r)});case"SET_BLOCK_FEED_BANNER_VISIBLE":var i=t.payload;return Object.assign({},e,{blockFeedBannerVisible:Boolean(i)});case"SET_ADFOX_SMART_VISIBLE":var o=t.payload;return Object.assign({},e,{isAdfoxSmartVisible:Boolean(o)});case"SET_ADFOX_FULLSCREEN_VISIBLE":var a=t.payload;return Object.assign({},e,{isAdfoxSmartVisible:Boolean(a)});case"SET_FEED_SCROLL_POS":var s,c=t.payload,u=c.feedId,l=c.pos;return Object.assign({},e,{feedsScrollPos:Object.assign({},e.feedsScrollPos,(s={},s[u]=l,s))});default:return e}},notifiers:function(e,t){switch(void 0===e&&(e=RE),t.type){case"SET_CURRENT_NOTIFIER":return Object.assign({},e,{currentNotifierButton:t.payload});case"SET_NOTIFIERS_OFFSET_MODE_TOP":return Object.assign({},e,{notifiersOffsetModeTop:t.payload});case"SET_APP_BUTTON_TIMEOUT":return Object.assign({},e,{isAppButtonTimeout:t.payload});case"SET_NOTIFIERS_ENABLED":return Object.assign({},e,{isNotifiersDisabled:t.payload});default:return e}},iceboarding:function(e,t){switch(void 0===e&&(e=IE),t.type){case"CHECK_SOURCE":var n=t.payload.id,r=e.checkedSources;return{checkedSources:[].concat(r,[n])};case"UNCHECK_SOURCE":var i=t.payload.id,o=e.checkedSources,a=o.slice(0);return a.splice(o.indexOf(i),1),{checkedSources:a};default:return e}},links:VE,params:HE,shared:WE,context:GE,user:function(e,t){switch(void 0===e&&(e=KE),t.type){case"APPLY_EXPORT_DATA":var n=t.payload,r=n.exportData,i=n.currentTime,o=r.user,a=o.serverTime;return Object.assign({},e,{lastSawFeed:Object.assign({},e.lastSawFeed,o.lastSawFeed),serverTime:a,serverTimeDiff:a?a-i:0});case"INIT_FROM_STATE":var s=t.payload.currentTime,c=e.serverTime;return Object.assign({},e,{serverTimeDiff:c?c-s:0});default:return e}},sources:BE,request:qE,videoCards:function(e,t){switch(void 0===e&&(e=Hd),t.type){case"VIDEO_CARD_CHANGE_VISIBILITY":var n=Wd(e,t,"visibleCardIndices"),r=t.payload,i=r.id,o=r.value,a=r.index,s=n.visibleCardIndices,c=e,u=c.interactionCardId,l=c.activeCard;if(!u){if(!o&&l.id===i)return Object.assign({},n,{activeCard:Object.assign({},Hd.activeCard)});var d=a===Math.min.apply(Math,Object.values(s));if(o&&d)return Object.assign({},n,{activeCard:Object.assign({},Hd.activeCard,{id:i})})}return n;case"VIDEO_CARD_CHANGE_INTERSECTING":var p=Wd(e,t,"intersectingCardIndices"),f=e.interactionCardId,m=t.payload,h=m.id;return m.value||h!==f?p:Object.assign({},p,{interactionCardId:null});case"VIDEO_CARD_CHANGE_INTERACTION":return Object.assign({},e,{interactionCardId:t.payload.id});case"VIDEO_CHANGE_ACTIVE_CARD":return Object.assign({},e,{activeCard:t.payload});default:return e}},videoModal:function(e,t){switch(void 0===e&&(e=jE),t.type){case"VIDEO_MODAL_TOGGLE":var n,r=t.payload.openedItem;if(!r)return jE;var i=r.id;return{openedItemId:i,videoFeed:(n={},n[i]=r,n)};case"VIDEO_MODAL_CHANGE":var o=t.payload.openedItemId;return Object.assign({},e,{openedItemId:o});case"VIDEO_MODAL_GET_RECOMMEND":var a=t.payload.videoFeed;return Object.assign({},e,{videoFeed:Object.assign({},e.videoFeed,a)});default:var s=t.payload&&t.payload.id;if(!s||!e.videoFeed[s])return e;var c=e.videoFeed[s],u=kE(c,t);return c!==u?Se.set(e,["videoFeed",s],u):e}},commentsData:function(e,t){switch(void 0===e&&(e=FE),t.type){case"SET_COMMENTS_COUNTS":var n={};return Object.entries(t.payload).forEach(function(e){var t=e[0],r=e[1];r&&(n[t]=Object.assign({},r,{state:{mounted:!1}}))}),Object.assign({},e,n);case"INIT_COMMENTS":return Object.assign({},e,{commentsContent:t.payload});case"SET_COMMENT_IN_CARD_STATE":var r,i=t.payload;return Object.assign({},e,((r={})[i.id]=Object.assign({},e[i.id],{state:i.state}),r));default:return e}},pinnedCarousel:function(e,t){switch(void 0===e&&(e=YE),t.type){case"APPLY_EXPORT_DATA":var n=t.payload.exportData.pinnedCarousel;if(n){var r=n.items;return Object.assign({},e,n,{items:r})}return e}return e},channel:function(e,t){switch(void 0===e&&(e=UE),t.type){case"SOURCE_MERGE":return t.payload;default:return e}}}));t.default=new Mc(hE,QE)},function(e,t,n){"use strict";n.r(t);n(51),n(93),n(70),n(190)},function(e,t,n){"use strict";n.r(t);n(5),n(4),n(26);var r=n(78),i=n.n(r),o=new i.a("regular-ysans"),a=new i.a("bold-ysans"),s=new i.a("medium-ysans");window._fontsLoadPromise=Promise.all([o.load(),a.load(),s.load()]).then(function(){window._isFontsLoaded=!0,document.documentElement.className+=" fonts-loaded"}).catch(function(e){console.warn("Error on font face observer: "+JSON.stringify(e,null,2))})}]).default;if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.1428");}